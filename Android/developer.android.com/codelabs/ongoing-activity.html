








<!doctype html>
<html 
      lang="en"
      dir="ltr">
  <head>
    <meta name="google-signin-client-id" content="721724668570-nbkv1cfusk7kk4eni4pjvepaus73b13t.apps.googleusercontent.com">
    <meta name="google-signin-scope"
          content="profile email https://www.googleapis.com/auth/developerprofiles https://www.googleapis.com/auth/developerprofiles.award">
    <meta property="og:site_name" content="Android Developers">
    <meta property="og:type" content="website"><meta name="theme-color" content="#34a853"><meta charset="utf-8">
    <meta content="IE=Edge" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    

    <link rel="manifest" href="/_pwa/android/manifest.json"
          crossorigin="use-credentials">
    <link rel="preconnect" href="//www.gstatic.com" crossorigin>
    <link rel="preconnect" href="//fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="//fonts.googleapis.com" crossorigin>
    <link rel="preconnect" href="//apis.google.com" crossorigin>
    <link rel="preconnect" href="//www.google-analytics.com" crossorigin><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Google+Sans:400,500,600,700|Google+Sans+Text:400,400italic,500,500italic,600,600italic,700,700italic|Roboto+Mono:400,500,700&display=swap">
      <link rel="stylesheet"
            href="//fonts.googleapis.com/css2?family=Material+Icons&family=Material+Symbols+Outlined&display=block"><link rel="stylesheet" href="https://www.gstatic.com/devrel-devsite/prod/vc12d84b6edb3e25e1619b575cf813e1849a1c95098b711a6c56ab3968c9a4fa9/android/css/app.css">
      
        <link rel="stylesheet" href="https://www.gstatic.com/devrel-devsite/prod/vc12d84b6edb3e25e1619b575cf813e1849a1c95098b711a6c56ab3968c9a4fa9/android/css/dark-theme.css" disabled>
      <link rel="shortcut icon" href="https://www.gstatic.com/devrel-devsite/prod/vc12d84b6edb3e25e1619b575cf813e1849a1c95098b711a6c56ab3968c9a4fa9/android/images/favicon.svg">
    <link rel="apple-touch-icon" href="https://www.gstatic.com/devrel-devsite/prod/vc12d84b6edb3e25e1619b575cf813e1849a1c95098b711a6c56ab3968c9a4fa9/android/images/touchicon-180.png"><link rel="canonical" href="https://developer.android.com/codelabs/ongoing-activity"><link rel="search" type="application/opensearchdescription+xml"
            title="Android Developers" href="https://developer.android.com/s/opensearch.xml">
      <link rel="alternate" hreflang="en"
          href="https://developer.android.com/codelabs/ongoing-activity" /><link rel="alternate" hreflang="x-default" href="https://developer.android.com/codelabs/ongoing-activity" /><link rel="alternate" hreflang="zh-Hans"
          href="https://developer.android.com/codelabs/ongoing-activity?hl=zh-cn" /><link rel="alternate" hreflang="zh-Hant"
          href="https://developer.android.com/codelabs/ongoing-activity?hl=zh-tw" /><link rel="alternate" hreflang="fr"
          href="https://developer.android.com/codelabs/ongoing-activity?hl=fr" /><link rel="alternate" hreflang="id"
          href="https://developer.android.com/codelabs/ongoing-activity?hl=id" /><link rel="alternate" hreflang="ja"
          href="https://developer.android.com/codelabs/ongoing-activity?hl=ja" /><link rel="alternate" hreflang="ko"
          href="https://developer.android.com/codelabs/ongoing-activity?hl=ko" /><link rel="alternate" hreflang="pt-BR"
          href="https://developer.android.com/codelabs/ongoing-activity?hl=pt-br" /><link rel="alternate" hreflang="es-419"
          href="https://developer.android.com/codelabs/ongoing-activity?hl=es-419" /><link rel="alternate" hreflang="vi"
          href="https://developer.android.com/codelabs/ongoing-activity?hl=vi" /><title>Engage Wear OS users in new ways with the Ongoing Activity API &nbsp;|&nbsp; Android Developers</title>

<meta property="og:title" content="Engage Wear OS users in new ways with the Ongoing Activity API &nbsp;|&nbsp; Android Developers"><meta name="description" content="With the Ongoing Activity API in Wear, developers can engage users from the watch face as well as the app launcher with minimal amount of code and allow those users to jump back into the app for important activities with a simple tap.">
  <meta property="og:description" content="With the Ongoing Activity API in Wear, developers can engage users from the watch face as well as the app launcher with minimal amount of code and allow those users to jump back into the app for important activities with a simple tap."><meta property="og:url" content="https://developer.android.com/codelabs/ongoing-activity"><meta property="og:locale" content="en">
  
    
    
    
    
    
    
    
    
    
    
  

    
      <link rel="stylesheet" href="/extras.css"></head>
  <body class=""
        template="codelab"
        theme="android-theme"
        type="codelab"
        
        
        appearance
        
        layout="docs"
        
        
        
        
        display-toc
        pending>
  
    <devsite-progress type="indeterminate" id="app-progress"></devsite-progress>
  
  
    <a href="#main-content" class="skip-link button">
      
      Skip to main content
    </a>
    <section class="devsite-wrapper">
      <devsite-cookie-notification-bar></devsite-cookie-notification-bar><devsite-header role="banner">
  
    





















<div class="devsite-header--inner" data-nosnippet>
  <div class="devsite-top-logo-row-wrapper-wrapper">
    <div class="devsite-top-logo-row-wrapper">
      <div class="devsite-top-logo-row">
        <button type="button" id="devsite-hamburger-menu"
          class="devsite-header-icon-button button-flat material-icons gc-analytics-event"
          data-category="Site-Wide Custom Events"
          data-label="Navigation menu button"
          visually-hidden
          aria-label="Open menu">
        </button>
        
<div class="devsite-product-name-wrapper">

  <a href="/" class="devsite-site-logo-link gc-analytics-event"
   data-category="Site-Wide Custom Events" data-label="Site logo" track-type="globalNav"
   track-name="androidDevelopers" track-metadata-position="nav"
   track-metadata-eventDetail="nav">
  
  <picture>
    
    <source srcset="https://www.gstatic.com/devrel-devsite/prod/vc12d84b6edb3e25e1619b575cf813e1849a1c95098b711a6c56ab3968c9a4fa9/android/images/lockup-dark-theme.png"
            media="(prefers-color-scheme: dark)"
            class="devsite-dark-theme">
    
    <img src="https://www.gstatic.com/devrel-devsite/prod/vc12d84b6edb3e25e1619b575cf813e1849a1c95098b711a6c56ab3968c9a4fa9/android/images/lockup.png" class="devsite-site-logo" alt="Android Developers">
  </picture>
  
</a>



</div>
        <div class="devsite-top-logo-row-middle">
          <div class="devsite-header-upper-tabs">
            
           </div>
          
<devsite-search
    enable-signin
    enable-search
    enable-suggestions
      enable-query-completion
    
    enable-search-summaries
    
    tenant-name="Android Developers"
    
    
    
    
    
    >
  <form class="devsite-search-form" action="https://developer.android.com/s/results" method="GET">
    <div class="devsite-search-container">
      <button type="button"
              search-open
              class="devsite-search-button devsite-header-icon-button button-flat material-icons"
              
              aria-label="Open search"></button>
      <div class="devsite-searchbox">
        <input
          aria-activedescendant=""
          aria-autocomplete="list"
          
          aria-label="Search"
          aria-expanded="false"
          aria-haspopup="listbox"
          autocomplete="off"
          class="devsite-search-field devsite-search-query"
          name="q"
          
          placeholder="Search"
          role="combobox"
          type="text"
          value=""
          >
          <div class="devsite-search-image material-icons" aria-hidden="true">
            
              <svg class="devsite-search-ai-image" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <g clip-path="url(#clip0_6641_386)">
                    <path d="M19.6 21L13.3 14.7C12.8 15.1 12.225 15.4167 11.575 15.65C10.925 15.8833 10.2333 16 9.5 16C7.68333 16 6.14167 15.375 4.875 14.125C3.625 12.8583 3 11.3167 3 9.5C3 7.68333 3.625 6.15 4.875 4.9C6.14167 3.63333 7.68333 3 9.5 3C10.0167 3 10.5167 3.05833 11 3.175C11.4833 3.275 11.9417 3.43333 12.375 3.65L10.825 5.2C10.6083 5.13333 10.3917 5.08333 10.175 5.05C9.95833 5.01667 9.73333 5 9.5 5C8.25 5 7.18333 5.44167 6.3 6.325C5.43333 7.19167 5 8.25 5 9.5C5 10.75 5.43333 11.8167 6.3 12.7C7.18333 13.5667 8.25 14 9.5 14C10.6667 14 11.6667 13.625 12.5 12.875C13.35 12.1083 13.8417 11.15 13.975 10H15.975C15.925 10.6333 15.7833 11.2333 15.55 11.8C15.3333 12.3667 15.05 12.8667 14.7 13.3L21 19.6L19.6 21ZM17.5 12C17.5 10.4667 16.9667 9.16667 15.9 8.1C14.8333 7.03333 13.5333 6.5 12 6.5C13.5333 6.5 14.8333 5.96667 15.9 4.9C16.9667 3.83333 17.5 2.53333 17.5 0.999999C17.5 2.53333 18.0333 3.83333 19.1 4.9C20.1667 5.96667 21.4667 6.5 23 6.5C21.4667 6.5 20.1667 7.03333 19.1 8.1C18.0333 9.16667 17.5 10.4667 17.5 12Z" fill="#5F6368"/>
                  </g>
                <defs>
                <clipPath id="clip0_6641_386">
                <rect width="24" height="24" fill="white"/>
                </clipPath>
                </defs>
              </svg>
            
          </div>
          <div class="devsite-search-shortcut-icon-container" aria-hidden="true">
            <kbd class="devsite-search-shortcut-icon">/</kbd>
          </div>
      </div>
    </div>
  </form>
  <button type="button"
          search-close
          class="devsite-search-button devsite-header-icon-button button-flat material-icons"
          
          aria-label="Close search"></button>
</devsite-search>

        </div>

        

          

          

          <devsite-appearance-selector></devsite-appearance-selector>

          
<devsite-language-selector>
  <ul role="presentation">
    
    
    <li role="presentation">
      <a role="menuitem" lang="en"
        >English</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="de"
        >Deutsch</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="es_419"
        >Español – América Latina</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="fr"
        >Français</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="id"
        >Indonesia</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="pl"
        >Polski</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="pt_br"
        >Português – Brasil</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="vi"
        >Tiếng Việt</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="zh_cn"
        >中文 – 简体</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="zh_tw"
        >中文 – 繁體</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="ja"
        >日本語</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="ko"
        >한국어</a>
    </li>
    
  </ul>
</devsite-language-selector>


          
            <a class="devsite-header-link devsite-top-button button gc-analytics-event "
    href="https://developer.android.com/studio"
    data-category="Site-Wide Custom Events"
    data-label="Site header link: Android Studio"
    >
  Android Studio
</a>
          

        

        
          <devsite-user 
                        
                        
                          enable-profiles
                        
                        
                        id="devsite-user">
            
              
              <span class="button devsite-top-button" aria-hidden="true" visually-hidden>Sign in</span>
            
          </devsite-user>
        
        
        
      </div>
    </div>
  </div>



</div>



  
</devsite-header>
      <devsite-book-nav scrollbars hidden>
        
          





















<div class="devsite-book-nav-filter"
     hidden>
  <span class="filter-list-icon material-icons" aria-hidden="true"></span>
  <input type="text"
         placeholder="Filter"
         
         aria-label="Type to filter"
         role="searchbox">
  
  <span class="filter-clear-button hidden"
        data-title="Clear filter"
        aria-label="Clear filter"
        role="button"
        tabindex="0"></span>
</div>

<nav class="devsite-book-nav devsite-nav nocontent"
     aria-label="Side menu">
  <div class="devsite-mobile-header">
    <button type="button"
            id="devsite-close-nav"
            class="devsite-header-icon-button button-flat material-icons gc-analytics-event"
            data-category="Site-Wide Custom Events"
            data-label="Close navigation"
            aria-label="Close navigation">
    </button>
    <div class="devsite-product-name-wrapper">

  <a href="/" class="devsite-site-logo-link gc-analytics-event"
   data-category="Site-Wide Custom Events" data-label="Site logo" track-type="globalNav"
   track-name="androidDevelopers" track-metadata-position="nav"
   track-metadata-eventDetail="nav">
  
  <picture>
    
    <source srcset="https://www.gstatic.com/devrel-devsite/prod/vc12d84b6edb3e25e1619b575cf813e1849a1c95098b711a6c56ab3968c9a4fa9/android/images/lockup-dark-theme.png"
            media="(prefers-color-scheme: dark)"
            class="devsite-dark-theme">
    
    <img src="https://www.gstatic.com/devrel-devsite/prod/vc12d84b6edb3e25e1619b575cf813e1849a1c95098b711a6c56ab3968c9a4fa9/android/images/lockup.png" class="devsite-site-logo" alt="Android Developers">
  </picture>
  
</a>


</div>
  </div>

  <div class="devsite-book-nav-wrapper">
    <div class="devsite-mobile-nav-top">
      
        <ul class="devsite-nav-list">
          
          
    
    
<li class="devsite-nav-item">

  
  <a href="/studio"
    
       class="devsite-nav-title gc-analytics-event "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Android Studio"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      Android Studio
   </span>
    
  
  </a>
  

</li>

  
          
        </ul>
      
    </div>
    
  </div>
</nav>
        
      </devsite-book-nav>
      <section id="gc-wrapper">
        <main role="main" id="main-content" class="devsite-main-content"
            
              
              has-sidebar
            >
          <div class="devsite-sidebar">
            <div class="devsite-sidebar-content">
                
                <devsite-toc class="devsite-nav"
                            role="navigation"
                            aria-label="On this page"
                            depth="1"
                            scrollbars
                  ></devsite-toc>
                <devsite-recommendations-sidebar class="nocontent devsite-nav">
                </devsite-recommendations-sidebar>
            </div>
          </div>
          <devsite-content>
            
              












<article class="devsite-article"><style>
      body {
        transition: opacity ease-in 0.2s;
      }

      body[unresolved] {
        opacity: 0;
        display: block;
        overflow: hidden;
        position: relative;
      }
      </style>
  
  
  
  
  

  <div class="devsite-article-meta nocontent" role="navigation">
    
    
    <ul class="devsite-breadcrumb-list"
  >
  
</ul>
    
  </div>
  
    <h1 class="devsite-page-title" tabindex="-1">
      Engage Wear OS users in new ways with the Ongoing Activity API<div class="devsite-actions" hidden data-nosnippet><devsite-feature-tooltip
      ack-key="AckCollectionsBookmarkTooltipDismiss"
      analytics-category="Site-Wide Custom Events"
      analytics-action-show="Callout Profile displayed"
      analytics-action-close="Callout Profile dismissed"
      analytics-label="Create Collection Callout"
      class="devsite-page-bookmark-tooltip nocontent"
      dismiss-button="true"
      id="devsite-collections-dropdown"
      
      dismiss-button-text="Dismiss"

      
      close-button-text="Got it">

    
    
      <devsite-bookmark></devsite-bookmark>
    

    <span slot="popout-heading">
      
      Stay organized with collections
    </span>
    <span slot="popout-contents">
      
      Save and categorize content based on your preferences.
    </span>
  </devsite-feature-tooltip></div>
  
      
    </h1>
  

  <devsite-toc class="devsite-nav"
    depth="1"
    devsite-toc-embedded
    >
  </devsite-toc>
  
    
  <div class="devsite-article-body clearfix
  ">

  
    
    
    <google-codelab-analytics gaid="UA-49880327-14" ga4id="G-JTFZSJVVVZ"></google-codelab-analytics>
    <google-codelab codelab-gaid=""
                    codelab-ga4id=""
                    doc-id="1CmcbP1J6zx7OOpt4bZfkxOeB2mOTIW-Yj1i59WJHezA"
                    id="ongoing-activity"
                    title="Engage Wear OS users in new ways with the Ongoing Activity API"
                    no-tooltip=""
                    environment="web"
                    category="android,wearos"
                    feedback-link=""
                    layout="paginated"
                    >
      
        <google-codelab-step label="Introduction" duration="6" step="0">
          
            <google-codelab-about codelab-title="Engage Wear OS users in new ways with the Ongoing Activity API"
                                  authors="Jeremy Walker"
                                  last-updated="2025-01-09T18:53:50Z"
                                  duration="30">
            </google-codelab-about>
          
          <h2 class="step-title" id="0" data-text="Introduction" tabindex="-1">
              1. Introduction
          </h2>
          <p class="image-container"><img alt="a3457956a1735674.gif" style="width: 384.00px" src="/static/codelabs/ongoing-activity/img/a3457956a1735674.gif"></p>
<p>Watch the animation above (Ongoing Activity demo). Note: Animated gifs only animate through one time. If you missed the animation, reload the page.</p>
<p>From the watch face, you will notice an animated icon appears (for a timer) and if a user taps on it, it launches the app powering the timer.</p>
<p>An <strong>Ongoing Activity</strong> is a new feature in Wear OS that allows an <strong>Ongoing Notification</strong> to appear on additional surfaces within the Wear OS user interface which allows users to stay more engaged with long running activities.</p>
<aside class="warning"><p>An <code translate="no" dir="ltr">OngoingActivity</code> is not related to an <code translate="no" dir="ltr">Activity</code> used with a <code translate="no" dir="ltr">Fragment</code>. Activity, when related to <code translate="no" dir="ltr">OngoingActivity</code>, is used as a more general term.</p>
</aside>
<p><strong>Ongoing Notifications</strong> are typically used to indicate a Notification has a background task that the user is actively engaged with (for example, playing music) or is pending in some way and therefore occupying the device (for example, a file download, sync operation, or an active network connection).</p>
<p>For example, a Wear OS user may use a timer app to time an event and then navigate away from that app to start some other task (review the weather, start a workout, etc.).</p>
<p>When the user navigates away from the timer app, the app will generally transition to an <strong>Ongoing Notification</strong> tied to some background work (services, alarm managers, etc.) to keep the user informed of how much time is left on their timer.</p>
<p>The user can view the Notification for updates and can interact with that Notification as well.</p>
<p>However, to view the Notification, the user will still have to swipe into the notification tray below the watch face and find the right Notification which isn&#39;t as convenient as other surfaces.</p>
<p>With the <strong>Ongoing Activity</strong> API, an app can expose information to multiple new, convenient surfaces on Wear OS to keep the user engaged.</p>
<p>In the case of the Timer app, the information can appear on the user&#39;s watch face as a tappable icon (<strong>activity indicator at the bottom of screenshot</strong>):</p>
<p class="image-container"><img alt="b65ade9bf43c526e.png" style="width: 384.00px" src="/static/codelabs/ongoing-activity/img/b65ade9bf43c526e.png" srcset="https://developer.android.com/static/codelabs/ongoing-activity/img/b65ade9bf43c526e_36.png 36w,https://developer.android.com/static/codelabs/ongoing-activity/img/b65ade9bf43c526e_48.png 48w,https://developer.android.com/static/codelabs/ongoing-activity/img/b65ade9bf43c526e_72.png 72w,https://developer.android.com/static/codelabs/ongoing-activity/img/b65ade9bf43c526e_96.png 96w,https://developer.android.com/static/codelabs/ongoing-activity/img/b65ade9bf43c526e_480.png 480w,https://developer.android.com/static/codelabs/ongoing-activity/img/b65ade9bf43c526e_720.png 720w,https://developer.android.com/static/codelabs/ongoing-activity/img/b65ade9bf43c526e_856.png 856w,https://developer.android.com/static/codelabs/ongoing-activity/img/b65ade9bf43c526e_960.png 960w,https://developer.android.com/static/codelabs/ongoing-activity/img/b65ade9bf43c526e_1440.png 1440w,https://developer.android.com/static/codelabs/ongoing-activity/img/b65ade9bf43c526e_1920.png 1920w,https://developer.android.com/static/codelabs/ongoing-activity/img/b65ade9bf43c526e_2880.png 2880w" sizes="(max-width: 840px) 100vw, 856px"></p>
<p>The Timer app can also appear in the <em>Recents</em> section of the global app launcher which lists any Ongoing Activities:</p>
<p class="image-container"><img alt="1bc84dd2bd2d2b5d.png" style="width: 384.00px" src="/static/codelabs/ongoing-activity/img/1bc84dd2bd2d2b5d.png" srcset="https://developer.android.com/static/codelabs/ongoing-activity/img/1bc84dd2bd2d2b5d_36.png 36w,https://developer.android.com/static/codelabs/ongoing-activity/img/1bc84dd2bd2d2b5d_48.png 48w,https://developer.android.com/static/codelabs/ongoing-activity/img/1bc84dd2bd2d2b5d_72.png 72w,https://developer.android.com/static/codelabs/ongoing-activity/img/1bc84dd2bd2d2b5d_96.png 96w,https://developer.android.com/static/codelabs/ongoing-activity/img/1bc84dd2bd2d2b5d_480.png 480w,https://developer.android.com/static/codelabs/ongoing-activity/img/1bc84dd2bd2d2b5d_720.png 720w,https://developer.android.com/static/codelabs/ongoing-activity/img/1bc84dd2bd2d2b5d_856.png 856w,https://developer.android.com/static/codelabs/ongoing-activity/img/1bc84dd2bd2d2b5d_960.png 960w,https://developer.android.com/static/codelabs/ongoing-activity/img/1bc84dd2bd2d2b5d_1440.png 1440w,https://developer.android.com/static/codelabs/ongoing-activity/img/1bc84dd2bd2d2b5d_1920.png 1920w,https://developer.android.com/static/codelabs/ongoing-activity/img/1bc84dd2bd2d2b5d_2880.png 2880w" sizes="(max-width: 840px) 100vw, 856px"></p>
<p><strong>Global Launcher</strong></p>
<aside class="special"><p><strong>When using an Ongoing Activity, app information appears in new surfaces but the original Notification will no longer appear in the Notification tray.</strong></p>
</aside>
<p>Best of all, you only need to add about 10 lines of code to do it!</p>
<aside class="warning"><p><strong>An Ongoing Activity only works in Android API level 30 and above. Otherwise, the feature is ignored and appears as a normal Ongoing Notification.</strong></p>
</aside>
<h2 is-upgraded id="what-you-will-learn" data-text="What you will learn" tabindex="-1">What you will learn</h2>
<ul>
<li>Create and customize an <strong>Ongoing Activity</strong></li>
<li>Tie an <strong>Ongoing Activity</strong> to an <strong>Ongoing Notification</strong></li>
<li>Test an <strong>Ongoing Activity</strong> on a device/emulator</li>
<li>Add interaction to your <strong>Ongoing Activity</strong> (tap)</li>
</ul>
<h2 is-upgraded id="what-you-will-build" data-text="What you will build" tabindex="-1">What you will build</h2>
<p>You&#39;ll extend an existing <em>Walk Tracking App</em> with a custom <strong>Ongoing Activity</strong> that displays the <em>Walking Points</em> for an active walk on the main watch face and in the <em>Recents</em> section of the app launcher.</p>
<aside class="special"><p>The <strong><em>Recents</em></strong> section is a section of recently used apps at the top of the app launcher.</p>
</aside>
<h2 is-upgraded id="prerequisites" data-text="Prerequisites" tabindex="-1">Prerequisites</h2>
<ul>
<li>Basic understanding of  <a href="https://developer.android.com/" target="_blank">Android development</a></li>
<li>Basic understanding of  <a href="https://developer.android.com/kotlin" target="_blank">Kotlin</a> and  <a href="https://developer.android.com/codelabs/kotlin-coroutines" target="_blank">coroutines</a></li>
</ul>


        </google-codelab-step>
      
        <google-codelab-step label="Getting set up" duration="5" step="1">
          
          <h2 class="step-title" id="1" data-text="Getting set up" tabindex="-1">
              2. Getting set up
          </h2>
          <p>In this step, you will set up your environment and download a starter project.</p>
<h2 is-upgraded id="what-you-will-need" data-text="What you will need" tabindex="-1">What you will need</h2>
<ul>
<li><a href="https://developer.android.com/studio/" target="_blank">Android Studio</a></li>
<li>Wear OS emulator (API level &gt;= 30)</li>
<li>Ongoing Activities are only available on API level 30 or greater</li>
<li>New to emulators?  <a href="https://developer.android.com/training/wearables/apps/creating#emulator" target="_blank">Here&#39;s</a> how to set it up.</li>
</ul>
<h2 is-upgraded id="download-code" data-text="Download code" tabindex="-1">Download code</h2>
<p>If you have git installed, you can simply run the command below to clone the code from  <a href="https://github.com/android/codelab-ongoing-activity" target="_blank">this repo</a>. To check whether git is installed, type <code translate="no" dir="ltr">git --version</code> in the terminal or command line and verify that it executes correctly.</p>
<div></div><devsite-code><pre translate="no" dir="ltr" is-upgraded>git clone https://github.com/android/codelab-ongoing-activity.git
cd ongoing-activity
</pre></devsite-code>
<p>If you do not have git, you can click the following button to download all the code for this codelab:</p>
<p><a href="https://github.com/android/codelab-ongoing-activity/archive/main.zip" target="_blank"><button class="button button-primary button-with-icon"><span class="material-icons" aria-hidden="true" translate="no">file_download</span>Download ZIP</button></a></p>
<aside class="special"><p>The sample directory contains the <strong>start</strong> and <strong>finished</strong> code for this codelab. In the Project view on the left of Android Studio you will find two modules.</p>
<ul>
<li><img alt="d61ffd479bdbcb9f.png" style="width: 26.00px" src="/static/codelabs/ongoing-activity/img/d61ffd479bdbcb9f.png" srcset="https://developer.android.com/static/codelabs/ongoing-activity/img/d61ffd479bdbcb9f_36.png 36w,https://developer.android.com/static/codelabs/ongoing-activity/img/d61ffd479bdbcb9f_48.png 48w,https://developer.android.com/static/codelabs/ongoing-activity/img/d61ffd479bdbcb9f_72.png 72w,https://developer.android.com/static/codelabs/ongoing-activity/img/d61ffd479bdbcb9f_96.png 96w,https://developer.android.com/static/codelabs/ongoing-activity/img/d61ffd479bdbcb9f_480.png 480w,https://developer.android.com/static/codelabs/ongoing-activity/img/d61ffd479bdbcb9f_720.png 720w,https://developer.android.com/static/codelabs/ongoing-activity/img/d61ffd479bdbcb9f_856.png 856w,https://developer.android.com/static/codelabs/ongoing-activity/img/d61ffd479bdbcb9f_960.png 960w,https://developer.android.com/static/codelabs/ongoing-activity/img/d61ffd479bdbcb9f_1440.png 1440w,https://developer.android.com/static/codelabs/ongoing-activity/img/d61ffd479bdbcb9f_1920.png 1920w,https://developer.android.com/static/codelabs/ongoing-activity/img/d61ffd479bdbcb9f_2880.png 2880w" sizes="(max-width: 840px) 100vw, 856px"> <strong>start</strong> – the starter code for this project; you will make changes to this to complete the codelab</li>
<li><img alt="d61ffd479bdbcb9f.png" style="width: 26.00px" src="/static/codelabs/ongoing-activity/img/d61ffd479bdbcb9f.png" srcset="https://developer.android.com/static/codelabs/ongoing-activity/img/d61ffd479bdbcb9f_36.png 36w,https://developer.android.com/static/codelabs/ongoing-activity/img/d61ffd479bdbcb9f_48.png 48w,https://developer.android.com/static/codelabs/ongoing-activity/img/d61ffd479bdbcb9f_72.png 72w,https://developer.android.com/static/codelabs/ongoing-activity/img/d61ffd479bdbcb9f_96.png 96w,https://developer.android.com/static/codelabs/ongoing-activity/img/d61ffd479bdbcb9f_480.png 480w,https://developer.android.com/static/codelabs/ongoing-activity/img/d61ffd479bdbcb9f_720.png 720w,https://developer.android.com/static/codelabs/ongoing-activity/img/d61ffd479bdbcb9f_856.png 856w,https://developer.android.com/static/codelabs/ongoing-activity/img/d61ffd479bdbcb9f_960.png 960w,https://developer.android.com/static/codelabs/ongoing-activity/img/d61ffd479bdbcb9f_1440.png 1440w,https://developer.android.com/static/codelabs/ongoing-activity/img/d61ffd479bdbcb9f_1920.png 1920w,https://developer.android.com/static/codelabs/ongoing-activity/img/d61ffd479bdbcb9f_2880.png 2880w" sizes="(max-width: 840px) 100vw, 856px"> <strong>finished</strong> – the completed code for this codelab; used to check your work</li>
</ul>
</aside>
<p>You can run either module in Android Studio at any time by changing the run configuration in the toolbar.</p>
<p class="image-container"><img alt="b059413b0cf9113a.png" style="width: 473.00px" src="/static/codelabs/ongoing-activity/img/b059413b0cf9113a.png" srcset="https://developer.android.com/static/codelabs/ongoing-activity/img/b059413b0cf9113a_36.png 36w,https://developer.android.com/static/codelabs/ongoing-activity/img/b059413b0cf9113a_48.png 48w,https://developer.android.com/static/codelabs/ongoing-activity/img/b059413b0cf9113a_72.png 72w,https://developer.android.com/static/codelabs/ongoing-activity/img/b059413b0cf9113a_96.png 96w,https://developer.android.com/static/codelabs/ongoing-activity/img/b059413b0cf9113a_480.png 480w,https://developer.android.com/static/codelabs/ongoing-activity/img/b059413b0cf9113a_720.png 720w,https://developer.android.com/static/codelabs/ongoing-activity/img/b059413b0cf9113a_856.png 856w,https://developer.android.com/static/codelabs/ongoing-activity/img/b059413b0cf9113a_960.png 960w,https://developer.android.com/static/codelabs/ongoing-activity/img/b059413b0cf9113a_1440.png 1440w,https://developer.android.com/static/codelabs/ongoing-activity/img/b059413b0cf9113a_1920.png 1920w,https://developer.android.com/static/codelabs/ongoing-activity/img/b059413b0cf9113a_2880.png 2880w" sizes="(max-width: 840px) 100vw, 856px"></p>
<h2 is-upgraded id="open-project-in-android-studio" data-text="Open project in Android Studio" tabindex="-1">Open project in Android Studio</h2>
<ol type="1">
<li>On the Welcome to Android Studio window select <strong>Open</strong></li>
<li>Select the folder <strong><code translate="no" dir="ltr">[Download Location]</code></strong></li>
<li>When Android Studio has imported the project, test that you can run the <code translate="no" dir="ltr">start</code> and <code translate="no" dir="ltr">finished</code> modules on a Wear OS emulator or physical device.</li>
<li>The <code translate="no" dir="ltr">start</code> module should look like the screenshot below. It&#39;s where you will be doing all your work.</li>
</ol>
<p class="image-container"><img alt="a40cc0c7e7e28bcf.png" style="width: 372.00px" src="/static/codelabs/ongoing-activity/img/a40cc0c7e7e28bcf.png" srcset="https://developer.android.com/static/codelabs/ongoing-activity/img/a40cc0c7e7e28bcf_36.png 36w,https://developer.android.com/static/codelabs/ongoing-activity/img/a40cc0c7e7e28bcf_48.png 48w,https://developer.android.com/static/codelabs/ongoing-activity/img/a40cc0c7e7e28bcf_72.png 72w,https://developer.android.com/static/codelabs/ongoing-activity/img/a40cc0c7e7e28bcf_96.png 96w,https://developer.android.com/static/codelabs/ongoing-activity/img/a40cc0c7e7e28bcf_480.png 480w,https://developer.android.com/static/codelabs/ongoing-activity/img/a40cc0c7e7e28bcf_720.png 720w,https://developer.android.com/static/codelabs/ongoing-activity/img/a40cc0c7e7e28bcf_856.png 856w,https://developer.android.com/static/codelabs/ongoing-activity/img/a40cc0c7e7e28bcf_960.png 960w,https://developer.android.com/static/codelabs/ongoing-activity/img/a40cc0c7e7e28bcf_1440.png 1440w,https://developer.android.com/static/codelabs/ongoing-activity/img/a40cc0c7e7e28bcf_1920.png 1920w,https://developer.android.com/static/codelabs/ongoing-activity/img/a40cc0c7e7e28bcf_2880.png 2880w" sizes="(max-width: 840px) 100vw, 856px"></p>
<p>Try out the app by starting a walking workout. You should notice that you start earning points every ~3 seconds. (The app uses mock data, so you don&#39;t have to actually walk around.)</p>
<p>Try swiping out of the app. If you navigate below the watch face to the navigation tray, you should be able to find the Ongoing Notification that continues tracking your walking points.</p>
<p>Tapping into it looks like this:</p>
<p class="image-container"><img alt="ac48b3ddc2a093bb.png" style="width: 372.00px" src="/static/codelabs/ongoing-activity/img/ac48b3ddc2a093bb.png" srcset="https://developer.android.com/static/codelabs/ongoing-activity/img/ac48b3ddc2a093bb_36.png 36w,https://developer.android.com/static/codelabs/ongoing-activity/img/ac48b3ddc2a093bb_48.png 48w,https://developer.android.com/static/codelabs/ongoing-activity/img/ac48b3ddc2a093bb_72.png 72w,https://developer.android.com/static/codelabs/ongoing-activity/img/ac48b3ddc2a093bb_96.png 96w,https://developer.android.com/static/codelabs/ongoing-activity/img/ac48b3ddc2a093bb_480.png 480w,https://developer.android.com/static/codelabs/ongoing-activity/img/ac48b3ddc2a093bb_720.png 720w,https://developer.android.com/static/codelabs/ongoing-activity/img/ac48b3ddc2a093bb_856.png 856w,https://developer.android.com/static/codelabs/ongoing-activity/img/ac48b3ddc2a093bb_960.png 960w,https://developer.android.com/static/codelabs/ongoing-activity/img/ac48b3ddc2a093bb_1440.png 1440w,https://developer.android.com/static/codelabs/ongoing-activity/img/ac48b3ddc2a093bb_1920.png 1920w,https://developer.android.com/static/codelabs/ongoing-activity/img/ac48b3ddc2a093bb_2880.png 2880w" sizes="(max-width: 840px) 100vw, 856px"></p>
<p class="image-container"><img alt="36fed11735ef4807.png" style="width: 372.00px" src="/static/codelabs/ongoing-activity/img/36fed11735ef4807.png" srcset="https://developer.android.com/static/codelabs/ongoing-activity/img/36fed11735ef4807_36.png 36w,https://developer.android.com/static/codelabs/ongoing-activity/img/36fed11735ef4807_48.png 48w,https://developer.android.com/static/codelabs/ongoing-activity/img/36fed11735ef4807_72.png 72w,https://developer.android.com/static/codelabs/ongoing-activity/img/36fed11735ef4807_96.png 96w,https://developer.android.com/static/codelabs/ongoing-activity/img/36fed11735ef4807_480.png 480w,https://developer.android.com/static/codelabs/ongoing-activity/img/36fed11735ef4807_720.png 720w,https://developer.android.com/static/codelabs/ongoing-activity/img/36fed11735ef4807_856.png 856w,https://developer.android.com/static/codelabs/ongoing-activity/img/36fed11735ef4807_960.png 960w,https://developer.android.com/static/codelabs/ongoing-activity/img/36fed11735ef4807_1440.png 1440w,https://developer.android.com/static/codelabs/ongoing-activity/img/36fed11735ef4807_1920.png 1920w,https://developer.android.com/static/codelabs/ongoing-activity/img/36fed11735ef4807_2880.png 2880w" sizes="(max-width: 840px) 100vw, 856px"></p>
<p>Feel free to stop the walk.</p>
<p>By the end of this code lab, the same walking information will appear on the <strong>watch face</strong> and in the <strong><em>Recents</em></strong> section of the global app launcher.</p>
<p>App showing up on the watch face (see <strong>Activity Indicator</strong> at the bottom):</p>
<p class="image-container"><img alt="59747518d70b053a.png" style="width: 371.55px" src="/static/codelabs/ongoing-activity/img/59747518d70b053a.png" srcset="https://developer.android.com/static/codelabs/ongoing-activity/img/59747518d70b053a_36.png 36w,https://developer.android.com/static/codelabs/ongoing-activity/img/59747518d70b053a_48.png 48w,https://developer.android.com/static/codelabs/ongoing-activity/img/59747518d70b053a_72.png 72w,https://developer.android.com/static/codelabs/ongoing-activity/img/59747518d70b053a_96.png 96w,https://developer.android.com/static/codelabs/ongoing-activity/img/59747518d70b053a_480.png 480w,https://developer.android.com/static/codelabs/ongoing-activity/img/59747518d70b053a_720.png 720w,https://developer.android.com/static/codelabs/ongoing-activity/img/59747518d70b053a_856.png 856w,https://developer.android.com/static/codelabs/ongoing-activity/img/59747518d70b053a_960.png 960w,https://developer.android.com/static/codelabs/ongoing-activity/img/59747518d70b053a_1440.png 1440w,https://developer.android.com/static/codelabs/ongoing-activity/img/59747518d70b053a_1920.png 1920w,https://developer.android.com/static/codelabs/ongoing-activity/img/59747518d70b053a_2880.png 2880w" sizes="(max-width: 840px) 100vw, 856px"></p>
<p>App showing up in <em>Recents</em> section of the <strong>App launcher</strong>:</p>
<p class="image-container"><img alt="4817a55e6722629d.png" style="width: 371.55px" src="/static/codelabs/ongoing-activity/img/4817a55e6722629d.png" srcset="https://developer.android.com/static/codelabs/ongoing-activity/img/4817a55e6722629d_36.png 36w,https://developer.android.com/static/codelabs/ongoing-activity/img/4817a55e6722629d_48.png 48w,https://developer.android.com/static/codelabs/ongoing-activity/img/4817a55e6722629d_72.png 72w,https://developer.android.com/static/codelabs/ongoing-activity/img/4817a55e6722629d_96.png 96w,https://developer.android.com/static/codelabs/ongoing-activity/img/4817a55e6722629d_480.png 480w,https://developer.android.com/static/codelabs/ongoing-activity/img/4817a55e6722629d_720.png 720w,https://developer.android.com/static/codelabs/ongoing-activity/img/4817a55e6722629d_856.png 856w,https://developer.android.com/static/codelabs/ongoing-activity/img/4817a55e6722629d_960.png 960w,https://developer.android.com/static/codelabs/ongoing-activity/img/4817a55e6722629d_1440.png 1440w,https://developer.android.com/static/codelabs/ongoing-activity/img/4817a55e6722629d_1920.png 1920w,https://developer.android.com/static/codelabs/ongoing-activity/img/4817a55e6722629d_2880.png 2880w" sizes="(max-width: 840px) 100vw, 856px"></p>
<h2 is-upgraded id="explore-the-start-code" data-text="Explore the start code" tabindex="-1">Explore the start code</h2>
<p>In the <strong><code translate="no" dir="ltr">start</code></strong> module:</p>
<ul>
<li><code translate="no" dir="ltr">build.gradle</code> contains a basic app configuration. It includes the dependencies necessary to create an Ongoing Activity.</li>
<li><code translate="no" dir="ltr">manifest &gt; AndroidManifest.xml</code> includes the parts necessary to mark this as a Wear OS application.</li>
<li><code translate="no" dir="ltr">java &gt; ... &gt; data &gt; WalkingWorkoutsRepository.kt</code> links to the <code translate="no" dir="ltr">WalkingWorkoutsDataStore.kt</code> class to store walking points and status of a walk workout. Don&#39;t worry about the details, you won&#39;t need to review these classes for this code lab.</li>
<li><code translate="no" dir="ltr">java &gt; ... &gt; MainApplication.kt</code> creates a singleton of the repository. Don&#39;t worry about the details, you won&#39;t need to review these classes for this code lab.</li>
<li><code translate="no" dir="ltr">java &gt; ... &gt; ForegroundOnlyWalkingWorkoutService.kt</code> contains code for starting and stopping a walking workout. If a workout is active and the user navigates away from the app, it will unbind from the Activity and start an Ongoing Notification to keep the user informed of their workout points (using mocked data). This is where we will add our Ongoing Activity code (near the Notification code).</li>
<li><code translate="no" dir="ltr">java &gt; ... &gt; MainActivity.kt</code> contains a UI for the user to start/stop a walking workout. The activity binds to the service above to let that handle all the workout tasks.</li>
<li><code translate="no" dir="ltr">java &gt; ... &gt; MainViewModel.kt</code> is a simple <code translate="no" dir="ltr">ViewModel</code> to handle non-UI code in <code translate="no" dir="ltr">MainActivity.kt</code>. Don&#39;t worry about the details, you won&#39;t need to review these classes for this code lab.</li>
</ul>


        </google-codelab-step>
      
        <google-codelab-step label="Review the app" duration="3" step="2">
          
          <h2 class="step-title" id="2" data-text="Review the app" tabindex="-1">
              3. Review the app
          </h2>
          <p>The app is already a functioning Walking Workout app.</p>
<p>As you&#39;ve seen in earlier steps, you can launch the app and start/stop a walking workout. As time passes during an active workout, you accrue <em>walking points</em>.</p>
<p>Points are reset for each new walk.</p>
<p>If you navigate away from the app during an active workout, you can swipe down to see an <strong>Ongoing Notification</strong> that continues to update you on your progress.</p>
<p>From that Notification, you can either stop the workout from the Notification or open the app.</p>
<p>Normally, you would calculate the <em>walking points</em> from location and sensor data with a proprietary algorithm. In our case, we are just mocking the data to keep things simple.</p>
<h2 is-upgraded id="how-does-it-work" data-text="How does it work?" tabindex="-1">How does it work?</h2>
<p>The <code translate="no" dir="ltr">MainActivity</code> creates the user interface, links to a <code translate="no" dir="ltr">ViewModel</code> for updates on workout status / walking points, and binds to a service.</p>
<p>When a workout starts or stops, the <code translate="no" dir="ltr">MainActivity</code> calls a start or stop equivalent method in the Service to handle the heavy lifting of tracking the workout.</p>
<p>If the user navigates away, the <code translate="no" dir="ltr">MainActivity</code> simply unbinds from the service.</p>
<p>Most of the magic happens in the <code translate="no" dir="ltr">ForegroundOnlyWalkingWorkoutService</code>. This is the class that starts/stops the workouts and saves any changes in status or walking points to the repository.</p>
<p>The service also transitions to a foreground service and ties itself to an <strong>Ongoing Notification</strong> if the user navigates away from the <code translate="no" dir="ltr">MainActivity</code> during a session.</p>
<p>The <strong>Ongoing Notification</strong> carries on the work of tracking a workout and is tied to the service above as a Foreground Service.</p>
<p>Don&#39;t worry if you don&#39;t understand all the details. The important thing is to understand this is a functioning app with its Notification already built out. We just want to extend that Notification to be visible on more surfaces with an <strong>Ongoing Activity</strong>.</p>
<p>That Notification code is in the <code translate="no" dir="ltr">ForegroundOnlyWalkingWorkoutService</code> , and that is where you do all the work for this code lab.</p>


        </google-codelab-step>
      
        <google-codelab-step label="Create an Ongoing Activity" duration="15" step="3">
          
          <h2 class="step-title" id="3" data-text="Create an Ongoing Activity" tabindex="-1">
              4. Create an Ongoing Activity
          </h2>
          <h2 is-upgraded id="review-the-dependencies" data-text="Review the dependencies" tabindex="-1">Review the dependencies</h2>
<p>In this step, we won&#39;t be coding. Instead we will review  the Ongoing Activity dependencies.</p>
<p>Open the <code translate="no" dir="ltr">app/build.gradle</code> file in the <code translate="no" dir="ltr">start</code> module and search for &#34;<code translate="no" dir="ltr">TODO: Review dependencies for Ongoing Activity</code>&#34;.</p>
<p>You should see this:</p>
<p><strong>Step 1</strong></p>
<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="Carbon"><code translate="no" dir="ltr"><span class="devsite-syntax-w">    </span><span class="devsite-syntax-c1">// TODO: Review dependencies for Ongoing Activity.</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-nx">implementation</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">libs</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">androidx</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">wear</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">ongoing</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-c1">// Includes LocusIdCompat and new Notification categories for Ongoing Activity.</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-nx">implementation</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">libs</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">androidx</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">core</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">ktx</span>
</code></pre></devsite-code>
<p>The first dependency is required to use the Wear OS Ongoing Activity API.</p>
<p>The second dependency is to get the latest features of the Notification APIs that support various features used in conjunction with an Ongoing Activity. The following two features can apply to Ongoing Notifications and therefore can also be applied to Ongoing Activities:</p>
<ul>
<li><a href="https://developer.android.com/training/notify-user/build-notification#system-category" target="_blank"><strong>Category</strong></a> - Android uses some pre-defined system-wide categories to determine whether to disturb the user with a given notification when the user has enabled Do Not Disturb mode. The Category determines the priority of the Ongoing Activity on the watch face. New categories were added recently to support Wear.</li>
<li><a href="https://developer.android.com/reference/android/content/LocusId" target="_blank"><strong>LocusId</strong></a> - Locus is a new concept introduced in Android 10 (API Level 29) and lets the Android system correlate state between different subsystems such as content capture, <strong>shortcuts</strong>, and <strong>notifications</strong>. If you have multiple launchers, you can use the locus id to tie your Ongoing Activity to a specific dynamic  <a href="https://developer.android.com/guide/topics/ui/shortcuts" target="_blank"><code translate="no" dir="ltr">Shortcut</code></a>, so it appears properly in the <em>Recents</em> section of the app launcher.</li>
</ul>
<h2 is-upgraded id="review-the-ongoing-notification-code" data-text="Review the Ongoing Notification code" tabindex="-1">Review the Ongoing Notification code</h2>
<p>In this step, we won&#39;t be doing any coding. Instead, we will just review the Notification code.</p>
<p>Open the <code translate="no" dir="ltr">ForegroundOnlyWalkingWorkoutService.kt</code> file in the <code translate="no" dir="ltr">start</code> module and search for &#34;<code translate="no" dir="ltr">TODO: Review Notification builder code</code>&#34;.</p>
<p>You should see this:</p>
<p><strong>Step 2</strong></p>
<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="Scilab"><code translate="no" dir="ltr"><span class="devsite-syntax-c1">// TODO: Review Notification builder code.</span>
<span class="devsite-syntax-n">val</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">notificationBuilder</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">notificationCompatBuilder</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-n">setStyle</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">bigTextStyle</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-n">setContentTitle</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">titleText</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-n">setContentText</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">mainText</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-n">setSmallIcon</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">R</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-n">mipmap</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-n">ic_launcher</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-n">setDefaults</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">NotificationCompat</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-n">DEFAULT_ALL</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-c1">// Makes Notification an Ongoing Notification (a Notification with a background task).</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-n">setOngoing</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">true</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-c1">// Android uses some pre-defined system-wide categories to determine whether to</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-c1">// disturb the user with a given notification when the user has enabled Do Not Disturb</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-c1">// mode. The Category determines the priority of the Ongoing Activity and new</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-c1">// categories were added recently to support Wear</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-n">setCategory</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">NotificationCompat</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-n">CATEGORY_WORKOUT</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-n">setVisibility</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">NotificationCompat</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-n">VISIBILITY_PUBLIC</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-n">addAction</span><span class="devsite-syntax-p">(</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-n">R</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-n">drawable</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-n">ic_walk</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">getString</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">R</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nb">string</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-n">launch_activity</span><span class="devsite-syntax-p">),</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-n">activityPendingIntent</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-n">addAction</span><span class="devsite-syntax-p">(</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-n">R</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-n">drawable</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-n">ic_cancel</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-n">getString</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">R</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nb">string</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-n">stop_walking_workout_notification_text</span><span class="devsite-syntax-p">),</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-n">servicePendingIntent</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-p">)</span>

<span class="devsite-syntax-c1">// TODO: Create an Ongoing Activity.</span>
<span class="devsite-syntax-c1">// SKIP TODO FOR REVIEW STEP</span>

<span class="devsite-syntax-k">return</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">notificationBuilder</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-n">build</span><span class="devsite-syntax-p">()</span>
</code></pre></devsite-code>
<p>Review the code above and read the comments (skip the later TODO section, that&#39;s for a later step).</p>
<p>There is much more Notification code above this chunk that sets everything up for this builder.</p>
<p>However, for this codelab, we just need to focus on the <code translate="no" dir="ltr">setOngoing()</code> call and <code translate="no" dir="ltr">setCategory()</code> in the notification builder.</p>
<p>The Category helps Wear OS determine the priority of the Notification for the watch face.</p>
<p>The <code translate="no" dir="ltr">setOngoing()</code> call makes our Notification an Ongoing Notification, that is, a Notification with a background task that the user is actively engaged with, for example, tracking a walking workout.</p>
<p>We create this Notification when the user has an active walking workout and navigates away from the <code translate="no" dir="ltr">MainActivity</code>.</p>
<h2 is-upgraded id="create-an-ongoing-activity" data-text="Create an Ongoing Activity" tabindex="-1">Create an Ongoing Activity</h2>
<p>An <strong>Ongoing Activity</strong> must be tied to an <strong>Ongoing Notification</strong>. We have our Ongoing Notification, so now let&#39;s create an Ongoing Activity.</p>
<p>Search for &#34;<code translate="no" dir="ltr">TODO: Create an Ongoing Activity</code>&#34; and replace the &#34;<code translate="no" dir="ltr">// SKIP TODO FOR REVIEW STEP</code>&#34; line with the code below.</p>
<p><strong>Step 4</strong></p>
<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="GDScript"><code translate="no" dir="ltr"><span class="devsite-syntax-o">//</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">TODO</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Create</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">an</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Ongoing</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Activity</span><span class="devsite-syntax-o">.</span>
<span class="devsite-syntax-n">val</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">ongoingActivityStatus</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Status</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">Builder</span><span class="devsite-syntax-p">()</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-o">//</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Sets</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">the</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">text</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">used</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">across</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">various</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">surfaces</span><span class="devsite-syntax-o">.</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">addTemplate</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">mainText</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">build</span><span class="devsite-syntax-p">()</span>

<span class="devsite-syntax-n">val</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">ongoingActivity</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-n">OngoingActivity</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">Builder</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">applicationContext</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">NOTIFICATION_ID</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">notificationBuilder</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-o">//</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Sets</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">icon</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">that</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">will</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">appear</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">on</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">the</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">watch</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">face</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-ow">in</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">active</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">mode</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">If</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">it</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">isn</span><span class="devsite-syntax-s1">'t set,</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-o">//</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">the</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">watch</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">face</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">will</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">use</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">the</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-k">static</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">icon</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-ow">in</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">active</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">mode</span><span class="devsite-syntax-o">.</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">setAnimatedIcon</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">R</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">drawable</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">animated_walk</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-o">//</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Sets</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">the</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">icon</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">that</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">will</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">appear</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">on</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">the</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">watch</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">face</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-ow">in</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">ambient</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">mode</span><span class="devsite-syntax-o">.</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-o">//</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Falls</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">back</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">to</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Notification</span><span class="devsite-syntax-s1">'s smallIcon if not set. If neither is set,</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-o">//</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">an</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Exception</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-k">is</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">thrown</span><span class="devsite-syntax-o">.</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">setStaticIcon</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">R</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">drawable</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">ic_walk</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-o">//</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Sets</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">the</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">tap</span><span class="devsite-syntax-o">/</span><span class="devsite-syntax-n">touch</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">event</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">so</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">users</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">can</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">re</span><span class="devsite-syntax-o">-</span><span class="devsite-syntax-n">enter</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">your</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">app</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">from</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">the</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-o">//</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">other</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">surfaces</span><span class="devsite-syntax-o">.</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-o">//</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Falls</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">back</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">to</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Notification</span><span class="devsite-syntax-s1">'s contentIntent if not set. If neither is set,</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-o">//</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">an</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Exception</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-k">is</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">thrown</span><span class="devsite-syntax-o">.</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">setTouchIntent</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">activityPendingIntent</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-o">//</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">In</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">our</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">case</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">sets</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">the</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">text</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">used</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-k">for</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">the</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Ongoing</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Activity</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">more</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">options</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">are</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-o">//</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">available</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-k">for</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">timers</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-ow">and</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">stop</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">watches</span><span class="devsite-syntax-p">)</span><span class="devsite-syntax-o">.</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">setStatus</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">ongoingActivityStatus</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">build</span><span class="devsite-syntax-p">()</span>

<span class="devsite-syntax-o">//</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Applies</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">any</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Ongoing</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Activity</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">updates</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">to</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">the</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">notification</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">builder</span><span class="devsite-syntax-o">.</span>
<span class="devsite-syntax-o">//</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">This</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">method</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">should</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">always</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">be</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">called</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">right</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">before</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">you</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">build</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">your</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">notification</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-o">//</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">since</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">an</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Ongoing</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Activity</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">doesn</span><span class="devsite-syntax-s1">'t hold references to the context.</span>
<span class="devsite-syntax-n">ongoingActivity</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">apply</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">applicationContext</span><span class="devsite-syntax-p">)</span>

</code></pre></devsite-code>
<p>Before you create an Ongoing Activity, first create an Ongoing Activity <code translate="no" dir="ltr">Status</code> which includes the text that will appear on the various Wear OS surfaces.</p>
<p>We set the text using <code translate="no" dir="ltr">.addTemplate()</code> on the <code translate="no" dir="ltr">Status.Builder</code> to the same main text we use for our Notification.</p>
<p>You can actually customize how text appears (specify colors, bold, etc.), but we&#39;re keeping our text simple for this code lab. However, if you would like to learn more, read the  <a href="https://developer.android.com/training/wearables/notifications/ongoing-activity#:~:text=In%20Wear%20OS%2C%20pairing%20an,engaged%20with%20long%2Drunning%20activities." target="_blank">Ongoing Activity Guide</a>.</p>
<p>Next we create the <code translate="no" dir="ltr">OngoingActivity</code> itself. We pass the context, a notification id, and the notification builder we created above this code into the <code translate="no" dir="ltr">OngoingActivity.Builder()</code>&#39;s constructor.</p>
<p>The notification id and the NotificationCompat.Builder instance are important to tie the <code translate="no" dir="ltr">OngoingActivity</code> to the Ongoing Notification.</p>
<p>First we set an animated icon (for the watch face in active mode) and a static icon (for the watch face in ambient mode).</p>
<p>Next we set a touch event, and finally the text using the <code translate="no" dir="ltr">Status</code> object we created earlier before closing out the statement with <code translate="no" dir="ltr">.build()</code>.</p>
<aside class="special"><p><strong>The icon used in the &#34;Recents&#34; section of the app launcher uses the icon associated with the main/launcher activity.</strong></p>
</aside>
<p>The <code translate="no" dir="ltr">OngoingActivity</code> user interface is provided using the icon and the <code translate="no" dir="ltr">Status</code>&#39;s text. The touch event allows the user to tap back into the app from the watch face or <em>Recents</em> section of the global app launcher.</p>
<aside class="warning"><p><strong>Note: Always set a static icon and touch intent for your Ongoing Activity either  </strong><a href="https://developer.android.com/reference/androidx/wear/ongoing/OngoingActivity.Builder#setStaticIcon(android.graphics.drawable.Icon)" target="_blank"><strong>explicitly</strong></a> <strong>or as a fallback using a  </strong><a href="https://developer.android.com/reference/androidx/core/app/NotificationCompat.Builder#setSmallIcon(int)" target="_blank"><strong>notification</strong></a><strong>. If you don&#39;t, you will get an IllegalArgumentException.</strong></p>
</aside>
<p>Finally, we call <code translate="no" dir="ltr">apply()</code> on the Ongoing Activity and pass the context. This is the final step that applies any changes in Ongoing Activity to the notification builder.</p>
<p>That&#39;s it, we&#39;re done!</p>
<p>When the <code translate="no" dir="ltr">notificationManager.notify(NOTIFICATION_ID, notification)</code> is called with this Notification, it will now appear on the new surfaces!</p>
<p>Now run your app on the new Wear OS emulator or device.</p>
<p>Start a walk from the app and swipe to exit the app.</p>
<aside class="warning"><p><strong>If you don&#39;t have an active walking workout, the app will not show up on the new surfaces.</strong></p>
</aside>
<p>On the watch face, you should now see a little walking person icon like this (but animated):</p>
<p class="image-container"><img alt="59747518d70b053a.png" style="width: 372.00px" src="/static/codelabs/ongoing-activity/img/59747518d70b053a.png" srcset="https://developer.android.com/static/codelabs/ongoing-activity/img/59747518d70b053a_36.png 36w,https://developer.android.com/static/codelabs/ongoing-activity/img/59747518d70b053a_48.png 48w,https://developer.android.com/static/codelabs/ongoing-activity/img/59747518d70b053a_72.png 72w,https://developer.android.com/static/codelabs/ongoing-activity/img/59747518d70b053a_96.png 96w,https://developer.android.com/static/codelabs/ongoing-activity/img/59747518d70b053a_480.png 480w,https://developer.android.com/static/codelabs/ongoing-activity/img/59747518d70b053a_720.png 720w,https://developer.android.com/static/codelabs/ongoing-activity/img/59747518d70b053a_856.png 856w,https://developer.android.com/static/codelabs/ongoing-activity/img/59747518d70b053a_960.png 960w,https://developer.android.com/static/codelabs/ongoing-activity/img/59747518d70b053a_1440.png 1440w,https://developer.android.com/static/codelabs/ongoing-activity/img/59747518d70b053a_1920.png 1920w,https://developer.android.com/static/codelabs/ongoing-activity/img/59747518d70b053a_2880.png 2880w" sizes="(max-width: 840px) 100vw, 856px"></p>
<p>If you tap on the icon, you will go back into the app!</p>
<p>Exit the app again and now tap the app launcher button on your Wear OS device.</p>
<p>You should something like this:</p>
<p class="image-container"><img alt="4817a55e6722629d.png" style="width: 372.00px" src="/static/codelabs/ongoing-activity/img/4817a55e6722629d.png" srcset="https://developer.android.com/static/codelabs/ongoing-activity/img/4817a55e6722629d_36.png 36w,https://developer.android.com/static/codelabs/ongoing-activity/img/4817a55e6722629d_48.png 48w,https://developer.android.com/static/codelabs/ongoing-activity/img/4817a55e6722629d_72.png 72w,https://developer.android.com/static/codelabs/ongoing-activity/img/4817a55e6722629d_96.png 96w,https://developer.android.com/static/codelabs/ongoing-activity/img/4817a55e6722629d_480.png 480w,https://developer.android.com/static/codelabs/ongoing-activity/img/4817a55e6722629d_720.png 720w,https://developer.android.com/static/codelabs/ongoing-activity/img/4817a55e6722629d_856.png 856w,https://developer.android.com/static/codelabs/ongoing-activity/img/4817a55e6722629d_960.png 960w,https://developer.android.com/static/codelabs/ongoing-activity/img/4817a55e6722629d_1440.png 1440w,https://developer.android.com/static/codelabs/ongoing-activity/img/4817a55e6722629d_1920.png 1920w,https://developer.android.com/static/codelabs/ongoing-activity/img/4817a55e6722629d_2880.png 2880w" sizes="(max-width: 840px) 100vw, 856px"></p>
<p>If you click tap on the walking app in the <em>Recents</em> section, you should again enter the app!</p>


        </google-codelab-step>
      
        <google-codelab-step label="Congratulations" duration="1" step="4">
          
          <h2 class="step-title" id="4" data-text="Congratulations" tabindex="-1">
              5. Congratulations
          </h2>
          <p>Congratulations! You learned how to build an Ongoing Activity on Wear OS!</p>
<p>Ongoing Activities are a great way to engage users on new surfaces in Wear.</p>
<h2 is-upgraded id="whats-next" data-text="What's next?" tabindex="-1">What's next?</h2>
<p>Check out the other Wear OS codelabs:</p>
<ul>
<li><a href="https://developer.android.com/codelabs/wear-tiles" target="_blank">Create your first Wear OS Tile</a></li>
<li><a href="https://developer.android.com/codelabs/data-providers" target="_blank">Expose data to watch face complications</a></li>
</ul>
<h2 is-upgraded id="further-reading" data-text="Further reading" tabindex="-1">Further reading</h2>
<ul>
<li><a href="https://developer.android.com/training/wearables/ongoing-activity" target="_blank">Ongoing Activity guide</a></li>
</ul>


        </google-codelab-step>
      
    </google-codelab>
  
  

  
</div>

  
    
    
    
  

  <div class="devsite-floating-action-buttons"></div></article>


<devsite-content-footer class="nocontent">
  <p>Except as otherwise noted, the content of this page is licensed under the <a href="https://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 License</a>, and code samples are licensed under the <a href="https://www.apache.org/licenses/LICENSE-2.0">Apache 2.0 License</a>. For details, see the <a href="https://developers.google.com/site-policies">Google Developers Site Policies</a>. Java is a registered trademark of Oracle and/or its affiliates.</p>
  
</devsite-content-footer>


<devsite-notification
>
</devsite-notification>


  
<div class="devsite-content-data">
  
  
    <template class="devsite-content-data-template">
      [[["Easy to understand","easyToUnderstand","thumb-up"],["Solved my problem","solvedMyProblem","thumb-up"],["Other","otherUp","thumb-up"]],[["Missing the information I need","missingTheInformationINeed","thumb-down"],["Too complicated / too many steps","tooComplicatedTooManySteps","thumb-down"],["Out of date","outOfDate","thumb-down"],["Samples / code issue","samplesCodeIssue","thumb-down"],["Other","otherDown","thumb-down"]],[],[],[],null,[]]
    </template>
  
</div>
            
          </devsite-content>
        </main>
        <devsite-footer-promos class="devsite-footer">
          
            

<nav class="devsite-footer-promos nocontent" aria-label="Promotions">
  <ul class="devsite-footer-promos-list">
    
    <li class="devsite-footer-promo">
      <a href="//x.com/AndroidDev"
         class="devsite-footer-promo-title gc-analytics-event"
         data-category="Site-Wide Custom Events"
       
       
         data-label="Footer X Promo"
       >
        
        
        <picture>
          
          <source class="devsite-dark-theme"
                  srcset="https://developer.android.com/_static/android/images/logo-x_dt.svg"
                  media="(prefers-color-scheme: dark)">
          
          <img class="devsite-footer-promo-icon"
                src="/_static/android/images/logo-x.svg"
                loading="lazy"
                alt="X">
        </picture>
        
        <span class="devsite-footer-promo-label">
          X
        </span>
      </a>
      <div class="devsite-footer-promo-description">Follow @AndroidDev on X</div>
    </li>
    
    <li class="devsite-footer-promo">
      <a href="//www.youtube.com/user/androiddevelopers"
         class="devsite-footer-promo-title gc-analytics-event"
         data-category="Site-Wide Custom Events"
       
       
         data-label="Footer YouTube Promo"
       >
        
        
        <picture>
          
          <source class="devsite-dark-theme"
                  srcset="https://developer.android.com/_static/android/images/logo-youtube_dt.svg"
                  media="(prefers-color-scheme: dark)">
          
          <img class="devsite-footer-promo-icon"
                src="//www.gstatic.com/images/icons/material/product/2x/youtube_48dp.png"
                loading="lazy"
                alt="YouTube">
        </picture>
        
        <span class="devsite-footer-promo-label">
          YouTube
        </span>
      </a>
      <div class="devsite-footer-promo-description">Check out Android Developers on YouTube</div>
    </li>
    
    <li class="devsite-footer-promo">
      <a href="//www.linkedin.com/showcase/androiddev"
         class="devsite-footer-promo-title gc-analytics-event"
         data-category="Site-Wide Custom Events"
       
       
         data-label="Footer LinkedIn Promo"
       >
        
        
        <picture>
          
          <source class="devsite-dark-theme"
                  srcset="https://developer.android.com/_static/android/images/logo-linkedin_dt.svg"
                  media="(prefers-color-scheme: dark)">
          
          <img class="devsite-footer-promo-icon"
                src="/_static/android/images/logo-linkedin.svg"
                loading="lazy"
                alt="LinkedIn">
        </picture>
        
        <span class="devsite-footer-promo-label">
          LinkedIn
        </span>
      </a>
      <div class="devsite-footer-promo-description">Connect with the Android Developers community on LinkedIn</div>
    </li>
    
  </ul>
</nav>

          
        </devsite-footer-promos>
        <devsite-footer-linkboxes class="devsite-footer">
          
            
<nav class="devsite-footer-linkboxes nocontent" aria-label="Footer links">
  
  <ul class="devsite-footer-linkboxes-list">
    
    <li class="devsite-footer-linkbox ">
    <h3 class="devsite-footer-linkbox-heading no-link">More Android</h3>
      <ul class="devsite-footer-linkbox-list">
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="//www.android.com"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 1)"
            >
            
          
            Android
          
          </a>
          
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="//www.android.com/enterprise/"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 2)"
            >
            
          
            Android for Enterprise
          
          </a>
          
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="//www.android.com/security-center/"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 3)"
            >
            
          
            Security
          
          </a>
          
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="//source.android.com"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 4)"
            >
            
          
            Source
          
          </a>
          
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="/news"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 5)"
            >
            
          
            News
          
          </a>
          
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="//android-developers.googleblog.com/"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 6)"
            >
            
          
            Blog
          
          </a>
          
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="/podcasts"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 7)"
            >
            
              
              
            
          
            Podcasts
          
          </a>
          
          
        </li>
        
      </ul>
    </li>
    
    <li class="devsite-footer-linkbox ">
    <h3 class="devsite-footer-linkbox-heading no-link">Discover</h3>
      <ul class="devsite-footer-linkbox-list">
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="/games"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 1)"
            >
            
          
            Gaming
          
          </a>
          
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="/ml"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 2)"
            >
            
          
            Machine Learning
          
          </a>
          
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="/health-and-fitness"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 3)"
            >
            
          
            Health & Fitness
          
          </a>
          
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="/media"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 4)"
            >
            
          
            Camera & Media
          
          </a>
          
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="/privacy"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 5)"
            >
            
          
            Privacy
          
          </a>
          
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="/training/connectivity/5g"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 6)"
            >
            
              
              
            
          
            5G
          
          </a>
          
          
        </li>
        
      </ul>
    </li>
    
    <li class="devsite-footer-linkbox ">
    <h3 class="devsite-footer-linkbox-heading no-link">Android Devices</h3>
      <ul class="devsite-footer-linkbox-list">
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="/large-screens"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 1)"
            >
            
          
            Large screens
          
          </a>
          
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="/wear"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 2)"
            >
            
          
            Wear OS
          
          </a>
          
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="/chrome-os"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 3)"
            >
            
          
            ChromeOS devices
          
          </a>
          
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="/cars"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 4)"
            >
            
          
            Android for cars
          
          </a>
          
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="/tv"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 5)"
            >
            
              
              
            
          
            Android TV
          
          </a>
          
          
        </li>
        
      </ul>
    </li>
    
    <li class="devsite-footer-linkbox ">
    <h3 class="devsite-footer-linkbox-heading no-link">Releases</h3>
      <ul class="devsite-footer-linkbox-list">
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="/about/versions/15"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 1)"
            >
            
          
            Android 15
          
          </a>
          
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="/about/versions/14"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 2)"
            >
            
          
            Android 14
          
          </a>
          
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="/about/versions/13"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 3)"
            >
            
          
            Android 13
          
          </a>
          
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="/about/versions/12"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 4)"
            >
            
          
            Android 12
          
          </a>
          
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="/about/versions/11"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 5)"
            >
            
          
            Android 11
          
          </a>
          
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="/about/versions/10"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 6)"
            >
            
          
            Android 10
          
          </a>
          
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="/about/versions/pie"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 7)"
            >
            
              
              
            
          
            Pie
          
          </a>
          
          
        </li>
        
      </ul>
    </li>
    
    <li class="devsite-footer-linkbox ">
    <h3 class="devsite-footer-linkbox-heading no-link">Documentation and Downloads</h3>
      <ul class="devsite-footer-linkbox-list">
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="/studio/intro"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 1)"
            >
            
          
            Android Studio guide
          
          </a>
          
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="/guide"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 2)"
            >
            
          
            Developers guides
          
          </a>
          
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="/reference"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 3)"
            >
            
          
            API reference
          
          </a>
          
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="/studio"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 4)"
            >
            
          
            Download Studio
          
          </a>
          
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="/ndk"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 5)"
            >
            
              
              
            
          
            Android NDK
          
          </a>
          
          
        </li>
        
      </ul>
    </li>
    
    <li class="devsite-footer-linkbox ">
    <h3 class="devsite-footer-linkbox-heading no-link">Support</h3>
      <ul class="devsite-footer-linkbox-list">
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="//issuetracker.google.com/issues/new?component=190923&amp;template=841312"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 1)"
            >
            
          
            Report platform bug
          
          </a>
          
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="//issuetracker.google.com/issues/new?component=192697"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 2)"
            >
            
          
            Report documentation bug
          
          </a>
          
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="//support.google.com/googleplay/android-developer"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 3)"
            >
            
          
            Google Play support
          
          </a>
          
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="https://g.co/userresearch/androiddeveloperfooter"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 4)"
            >
            
              
              
            
          
            Join research studies
          
          </a>
          
          
        </li>
        
      </ul>
    </li>
    
  </ul>
  
</nav>
          
        </devsite-footer-linkboxes>
        <devsite-footer-utility class="devsite-footer">
          
            

<div class="devsite-footer-utility nocontent">
  
  
  <nav class="devsite-footer-sites" aria-label="Other Google Developers websites">
    <a href="https://developers.google.com/"
       class="devsite-footer-sites-logo-link gc-analytics-event"
       data-category="Site-Wide Custom Events"
       data-label="Footer Google Developers Link">
      <picture>
        
        <source srcset="https://www.gstatic.com/devrel-devsite/prod/vc12d84b6edb3e25e1619b575cf813e1849a1c95098b711a6c56ab3968c9a4fa9/android/images/lockup-google-for-developers-dark-theme.svg"
                media="(prefers-color-scheme: none)"
                class="devsite-dark-theme">
        
        <img class="devsite-footer-sites-logo"
             src="https://www.gstatic.com/devrel-devsite/prod/vc12d84b6edb3e25e1619b575cf813e1849a1c95098b711a6c56ab3968c9a4fa9/android/images/lockup-google-for-developers.svg"
             loading="lazy"
             alt="Google Developers">
      </picture>
    </a>
    <ul class="devsite-footer-sites-list">
      
      <li class="devsite-footer-sites-item">
        <a href="//developer.android.com"
           class="devsite-footer-sites-link
                  gc-analytics-event"
           data-category="Site-Wide Custom Events"
         
           data-label="Footer Android Link"
         
         >
          Android
        </a>
      </li>
      
      <li class="devsite-footer-sites-item">
        <a href="//developer.chrome.com/home"
           class="devsite-footer-sites-link
                  gc-analytics-event"
           data-category="Site-Wide Custom Events"
         
           data-label="Footer Chrome Link"
         
         >
          Chrome
        </a>
      </li>
      
      <li class="devsite-footer-sites-item">
        <a href="//firebase.google.com"
           class="devsite-footer-sites-link
                  gc-analytics-event"
           data-category="Site-Wide Custom Events"
         
           data-label="Footer Firebase Link"
         
         >
          Firebase
        </a>
      </li>
      
      <li class="devsite-footer-sites-item">
        <a href="//cloud.google.com"
           class="devsite-footer-sites-link
                  gc-analytics-event"
           data-category="Site-Wide Custom Events"
         
           data-label="Footer Google Cloud Platform Link"
         
         >
          Google Cloud Platform
        </a>
      </li>
      
      <li class="devsite-footer-sites-item">
        <a href="//developers.google.com/products/"
           class="devsite-footer-sites-link
                  gc-analytics-event"
           data-category="Site-Wide Custom Events"
         
           data-label="Footer All products Link"
         
         >
          All products
        </a>
      </li>
      
    </ul>
  </nav>
  

  
  <nav class="devsite-footer-utility-links" aria-label="Utility links">
    
    <ul class="devsite-footer-utility-list">
      
      <li class="devsite-footer-utility-item
                 ">
        
        
        <a class="devsite-footer-utility-link gc-analytics-event"
           href="//policies.google.com/privacy"
           data-category="Site-Wide Custom Events"
           data-label="Footer Privacy link"
         >
          Privacy
        </a>
        
      </li>
      
      <li class="devsite-footer-utility-item
                 ">
        
        
        <a class="devsite-footer-utility-link gc-analytics-event"
           href="/license"
           data-category="Site-Wide Custom Events"
           data-label="Footer License link"
         >
          License
        </a>
        
      </li>
      
      <li class="devsite-footer-utility-item
                 ">
        
        
        <a class="devsite-footer-utility-link gc-analytics-event"
           href="/distribute/marketing-tools/brand-guidelines"
           data-category="Site-Wide Custom Events"
           data-label="Footer Brand guidelines link"
         >
          Brand guidelines
        </a>
        
      </li>
      
      <li class="devsite-footer-utility-item
                 glue-cookie-notification-bar-control">
        
        
        <a class="devsite-footer-utility-link gc-analytics-event"
           href="#"
           data-category="Site-Wide Custom Events"
           data-label="Footer Manage cookies link"
         
           aria-hidden="true"
         >
          Manage cookies
        </a>
        
      </li>
      
      <li class="devsite-footer-utility-item
                 devsite-footer-utility-button">
        
        <span class="devsite-footer-utility-description">Get news and tips by email</span>
        
        
        <a class="devsite-footer-utility-link gc-analytics-event"
           href="/updates"
           data-category="Site-Wide Custom Events"
           data-label="Footer Subscribe link"
         >
          Subscribe
        </a>
        
      </li>
      
    </ul>
    
    
<devsite-language-selector>
  <ul role="presentation">
    
    
    <li role="presentation">
      <a role="menuitem" lang="en"
        >English</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="de"
        >Deutsch</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="es_419"
        >Español – América Latina</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="fr"
        >Français</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="id"
        >Indonesia</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="pl"
        >Polski</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="pt_br"
        >Português – Brasil</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="vi"
        >Tiếng Việt</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="zh_cn"
        >中文 – 简体</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="zh_tw"
        >中文 – 繁體</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="ja"
        >日本語</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="ko"
        >한국어</a>
    </li>
    
  </ul>
</devsite-language-selector>

  </nav>
</div>
          
        </devsite-footer-utility>
        <devsite-panel>
          
        </devsite-panel>
        
      </section></section>
    <devsite-sitemask></devsite-sitemask>
    <devsite-snackbar></devsite-snackbar>
    <devsite-tooltip ></devsite-tooltip>
    <devsite-heading-link></devsite-heading-link>
    <devsite-analytics>
      
        <script type="application/json" analytics>[]</script>
<script type="application/json" tag-management>{&#34;at&#34;: &#34;True&#34;, &#34;ga4&#34;: [{&#34;id&#34;: &#34;G-QFRN08RN6E&#34;, &#34;purpose&#34;: 0}], &#34;ga4p&#34;: [{&#34;id&#34;: &#34;G-QFRN08RN6E&#34;, &#34;purpose&#34;: 0}], &#34;gtm&#34;: [], &#34;parameters&#34;: {&#34;internalUser&#34;: &#34;False&#34;, &#34;language&#34;: {&#34;machineTranslated&#34;: &#34;False&#34;, &#34;requested&#34;: &#34;en&#34;, &#34;served&#34;: &#34;en&#34;}, &#34;pageType&#34;: &#34;codelab&#34;, &#34;projectName&#34;: null, &#34;signedIn&#34;: &#34;False&#34;, &#34;tenant&#34;: &#34;android&#34;, &#34;recommendations&#34;: {&#34;sourcePage&#34;: &#34;&#34;, &#34;sourceType&#34;: 0, &#34;sourceRank&#34;: 0, &#34;sourceIdenticalDescriptions&#34;: 0, &#34;sourceTitleWords&#34;: 0, &#34;sourceDescriptionWords&#34;: 0, &#34;experiment&#34;: &#34;&#34;}, &#34;experiment&#34;: {&#34;ids&#34;: &#34;&#34;}}}</script>
      
    </devsite-analytics>
    
      <devsite-badger></devsite-badger>
    
    
    
<android-fully-clickable
    target="
        .android-case-study .devsite-landing-row-item,
        .android-editorial-and-updates-cards .devsite-card-content-wrapper,
        .android-editorial-and-updates-cards .devsite-landing-row-item,
        .android-grouped-resources .devsite-landing-row-item,
        .android-grouped-resources-contained--primary .devsite-landing-row-item,
        .android-grouped-resources-contained--secondary .devsite-landing-row-item,
        .android-grouped-resources-contained--tertiary .devsite-landing-row-item,
        .android-grouped-resources-uncontained--primary .devsite-landing-row-item,
        .android-grouped-resources-uncontained--secondary .devsite-landing-row-item,
        .android-grouped-resources-uncontained--tertiary .devsite-landing-row-item,
        .android-guide-cards .devsite-landing-row-item,
        .android-illustrated-resources-index .devsite-landing-row-item,
        .android-illustrated-resources-primary .devsite-landing-row-item,
        .android-illustrated-resources-secondary .devsite-landing-row-item,
        .android-illustrated-resources-secondary-small .devsite-landing-row-item,
        .android-illustrated-resources-tertiary .devsite-landing-row-item,
        .android-illustrated-resources-tertiary-small .devsite-landing-row-item,
        .android-promo .devsite-landing-row-item,
        .android-quick-link,
        .android-samples .devsite-card-wrapper,
        .fully-clickable"
    watch=".android-editorial-and-updates-cards, .android-samples, devsite-content"></android-fully-clickable>
    
<script nonce="ec3ec3Q7pqLcfo1AX7mXCqTdL41Hvv">
  
  (function(d,e,v,s,i,t,E){d['GoogleDevelopersObject']=i;
    t=e.createElement(v);t.async=1;t.src=s;E=e.getElementsByTagName(v)[0];
    E.parentNode.insertBefore(t,E);})(window, document, 'script',
    'https://www.gstatic.com/devrel-devsite/prod/vc12d84b6edb3e25e1619b575cf813e1849a1c95098b711a6c56ab3968c9a4fa9/android/js/app_loader.js', '[3,"en",null,"/js/devsite_app_module.js","https://www.gstatic.com/devrel-devsite/prod/vc12d84b6edb3e25e1619b575cf813e1849a1c95098b711a6c56ab3968c9a4fa9","https://www.gstatic.com/devrel-devsite/prod/vc12d84b6edb3e25e1619b575cf813e1849a1c95098b711a6c56ab3968c9a4fa9/android","https://android-dot-devsite-v2-prod.appspot.com",1,null,["/_pwa/android/manifest.json","https://www.gstatic.com/devrel-devsite/prod/vc12d84b6edb3e25e1619b575cf813e1849a1c95098b711a6c56ab3968c9a4fa9/images/video-placeholder.svg","https://www.gstatic.com/devrel-devsite/prod/vc12d84b6edb3e25e1619b575cf813e1849a1c95098b711a6c56ab3968c9a4fa9/android/images/favicon.svg","https://www.gstatic.com/devrel-devsite/prod/vc12d84b6edb3e25e1619b575cf813e1849a1c95098b711a6c56ab3968c9a4fa9/android/images/lockup.png","https://fonts.googleapis.com/css?family=Google+Sans:400,500,600,700|Google+Sans+Text:400,400italic,500,500italic,600,600italic,700,700italic|Roboto+Mono:400,500,700&display=swap"],1,null,[1,6,8,12,14,17,21,25,50,52,63,70,75,76,80,87,91,92,93,97,98,100,101,102,103,104,105,107,108,109,110,112,113,116,117,118,120,122,124,125,126,127,129,130,131,132,133,134,135,136,138,140,141,147,148,149,151,152,156,157,158,159,161,163,164,168,169,170,179,180,182,183,186,191,193,196],"AIzaSyAP-jjEJBzmIyKR4F-3XITp8yM9T1gEEI8","AIzaSyB6xiKGDR5O3Ak2okS4rLkauxGUG7XP0hg","developer.android.com","AIzaSyAQk0fBONSGUqCNznf6Krs82Ap1-NV6J4o","AIzaSyCCxcqdrZ_7QMeLCRY20bh_SXdAYqy70KY",null,null,null,["CloudShell__cloud_shell_button","DevPro__enable_free_benefits","Profiles__enable_developer_profiles_callout","Profiles__require_profile_eligibility_for_signin","Search__enable_ai_search_summaries_for_all","Profiles__enable_playlist_community_acl","Cloud__enable_cloud_shell_fte_user_flow","MiscFeatureFlags__enable_project_variables","Search__enable_ai_eligibility_checks","MiscFeatureFlags__enable_framebox_badge_methods","CloudShell__cloud_code_overflow_menu","Profiles__enable_profile_collections","DevPro__remove_eu_tax_intake_form","DevPro__enable_google_payments_buyflow","DevPro__enable_embed_profile_creation","DevPro__enable_google_one_card","DevPro__enable_cloud_innovators_plus","Profiles__enable_complete_playlist_endpoint","DevPro__enable_enterprise","Profiles__enable_join_program_group_endpoint","Profiles__enable_developer_profile_benefits_ui_redesign","DevPro__enable_developer_subscriptions","MiscFeatureFlags__enable_project_body_class","Cloud__enable_free_trial_server_call","Profiles__enable_completequiz_endpoint","MiscFeatureFlags__enable_appearance_cookies","DevPro__enable_firebase_workspaces_card","DevPro__enable_nvidia_credits_card","Concierge__enable_actions_menu","MiscFeatureFlags__gdp_dashboard_reskin_enabled","Profiles__enable_user_type","MiscFeatureFlags__enable_variable_operator_index_yaml","EngEduTelemetry__enable_engedu_telemetry","Concierge__enable_remove_info_panel_tags","TpcFeatures__proxy_prod_host","Cloud__cache_serialized_dynamic_content","Concierge__enable_pushui","Search__enable_dynamic_content_confidential_banner","MiscFeatureFlags__enable_dark_theme","Profiles__enable_dashboard_curated_recommendations","Profiles__enable_public_developer_profiles","Cloud__enable_legacy_calculator_redirect","DevPro__enable_vertex_credit_card","BookNav__enable_tenant_cache_key","DevPro__enable_devpro_offers","Profiles__enable_stripe_subscription_management","Cloud__enable_cloud_shell","Profiles__enable_callout_notifications","Cloud__fast_free_trial","DevPro__enable_code_assist","Profiles__enable_recognition_badges","MiscFeatureFlags__enable_variable_operator","MiscFeatureFlags__enable_firebase_utm","MiscFeatureFlags__developers_footer_image","Profiles__enable_release_notes_notifications","MiscFeatureFlags__enable_view_transitions","MiscFeatureFlags__enable_explicit_template_dependencies","Profiles__enable_purchase_prompts","Cloud__enable_llm_concierge_chat","Search__enable_suggestions_from_borg","Experiments__reqs_query_experiments","MiscFeatureFlags__emergency_css","MiscFeatureFlags__developers_footer_dark_image","Analytics__enable_clearcut_logging","Search__enable_page_map","Profiles__enable_page_saving","Profiles__enable_awarding_url","Profiles__enable_completecodelab_endpoint","TpcFeatures__enable_unmirrored_page_left_nav","Cloud__enable_cloudx_experiment_ids","Cloud__enable_cloud_dlp_service","Significatio__enable_by_tenant"],null,null,"AIzaSyBLEMok-5suZ67qRPzx0qUtbnLmyT_kCVE","https://developerscontentserving-pa.googleapis.com","AIzaSyCM4QpTRSqP5qI4Dvjt4OAScIN8sOUlO-k","https://developerscontentsearch-pa.googleapis.com",2,4,null,"https://developerprofiles-pa.googleapis.com",[3,"android","Android Developers","developer.android.com",null,"android-dot-devsite-v2-prod.appspot.com",null,null,[null,1,null,null,null,null,null,null,null,null,null,[1],null,null,null,null,null,null,[1],[1,null,null,[1,20],"/recommendations"],null,null,null,[1,null,1],[1,1,null,1,1]],null,[18,null,null,null,null,null,"/images/lockup.png","/images/touchicon-180.png",null,null,null,null,null,null,null,null,null,null,null,null,null,2,null,null,null,"/images/lockup-dark-theme.png",[]],[],null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,[6,1,14,15,20,22,23,28,29,37,43],null,[[null,null,1],[1,1]],[[null,null,null,null,null,null,null,[["G-QFRN08RN6E"],null,null,[["G-QFRN08RN6E",1]]],null,null,null,null,1],null,[[2,2],[1,1]]],null,4,null,null,null,null,null,null,null,null,null,null,null,null,null,"android.devsite.google"],null,"pk_live_5170syrHvgGVmSx9sBrnWtA5luvk9BwnVcvIi7HizpwauFG96WedXsuXh790rtij9AmGllqPtMLfhe2RSwD6Pn38V00uBCydV4m",1,null,"https://developerscontentinsights-pa.googleapis.com","AIzaSyCg-ZUslalsEbXMfIo9ZP8qufZgo3LSBDU","AIzaSyDxT0vkxnY_KeINtA4LSePJO-4MAZPMRsE","https://developers.googleapis.com",null,null,"AIzaSyBQom12tzI-rybN7Sf-KfeL4nwm-Rf7PmI\n",null,"https://developerslogging.googleapis.com"]')
  
</script>

    <devsite-a11y-announce></devsite-a11y-announce>
  </body>
</html>