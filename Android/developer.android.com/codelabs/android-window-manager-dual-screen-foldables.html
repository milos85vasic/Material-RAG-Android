








<!doctype html>
<html 
      lang="en"
      dir="ltr">
  <head>
    <meta name="google-signin-client-id" content="721724668570-nbkv1cfusk7kk4eni4pjvepaus73b13t.apps.googleusercontent.com">
    <meta name="google-signin-scope"
          content="profile email https://www.googleapis.com/auth/developerprofiles https://www.googleapis.com/auth/developerprofiles.award">
    <meta property="og:site_name" content="Android Developers">
    <meta property="og:type" content="website"><meta name="theme-color" content="#34a853"><meta charset="utf-8">
    <meta content="IE=Edge" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    

    <link rel="manifest" href="/_pwa/android/manifest.json"
          crossorigin="use-credentials">
    <link rel="preconnect" href="//www.gstatic.com" crossorigin>
    <link rel="preconnect" href="//fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="//fonts.googleapis.com" crossorigin>
    <link rel="preconnect" href="//apis.google.com" crossorigin>
    <link rel="preconnect" href="//www.google-analytics.com" crossorigin><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Google+Sans:400,500,600,700|Google+Sans+Text:400,400italic,500,500italic,600,600italic,700,700italic|Roboto+Mono:400,500,700&display=swap">
      <link rel="stylesheet"
            href="//fonts.googleapis.com/css2?family=Material+Icons&family=Material+Symbols+Outlined&display=block"><link rel="stylesheet" href="https://www.gstatic.com/devrel-devsite/prod/vc12d84b6edb3e25e1619b575cf813e1849a1c95098b711a6c56ab3968c9a4fa9/android/css/app.css">
      
        <link rel="stylesheet" href="https://www.gstatic.com/devrel-devsite/prod/vc12d84b6edb3e25e1619b575cf813e1849a1c95098b711a6c56ab3968c9a4fa9/android/css/dark-theme.css" disabled>
      <link rel="shortcut icon" href="https://www.gstatic.com/devrel-devsite/prod/vc12d84b6edb3e25e1619b575cf813e1849a1c95098b711a6c56ab3968c9a4fa9/android/images/favicon.svg">
    <link rel="apple-touch-icon" href="https://www.gstatic.com/devrel-devsite/prod/vc12d84b6edb3e25e1619b575cf813e1849a1c95098b711a6c56ab3968c9a4fa9/android/images/touchicon-180.png"><link rel="canonical" href="https://developer.android.com/codelabs/android-window-manager-dual-screen-foldables"><link rel="search" type="application/opensearchdescription+xml"
            title="Android Developers" href="https://developer.android.com/s/opensearch.xml">
      <link rel="alternate" hreflang="en"
          href="https://developer.android.com/codelabs/android-window-manager-dual-screen-foldables" /><link rel="alternate" hreflang="x-default" href="https://developer.android.com/codelabs/android-window-manager-dual-screen-foldables" /><link rel="alternate" hreflang="zh-Hans"
          href="https://developer.android.com/codelabs/android-window-manager-dual-screen-foldables?hl=zh-cn" /><link rel="alternate" hreflang="zh-Hant"
          href="https://developer.android.com/codelabs/android-window-manager-dual-screen-foldables?hl=zh-tw" /><link rel="alternate" hreflang="fr"
          href="https://developer.android.com/codelabs/android-window-manager-dual-screen-foldables?hl=fr" /><link rel="alternate" hreflang="id"
          href="https://developer.android.com/codelabs/android-window-manager-dual-screen-foldables?hl=id" /><link rel="alternate" hreflang="ja"
          href="https://developer.android.com/codelabs/android-window-manager-dual-screen-foldables?hl=ja" /><link rel="alternate" hreflang="ko"
          href="https://developer.android.com/codelabs/android-window-manager-dual-screen-foldables?hl=ko" /><link rel="alternate" hreflang="pt-BR"
          href="https://developer.android.com/codelabs/android-window-manager-dual-screen-foldables?hl=pt-br" /><link rel="alternate" hreflang="es-419"
          href="https://developer.android.com/codelabs/android-window-manager-dual-screen-foldables?hl=es-419" /><link rel="alternate" hreflang="vi"
          href="https://developer.android.com/codelabs/android-window-manager-dual-screen-foldables?hl=vi" /><title>Support foldable and dual-screen devices with Jetpack WindowManager &nbsp;|&nbsp; Android Developers</title>

<meta property="og:title" content="Support foldable and dual-screen devices with Jetpack WindowManager &nbsp;|&nbsp; Android Developers"><meta name="description" content="Learn to adapt your app to new form factors, like foldable and dual-screen devices, with the Jetpack WindowManager library.">
  <meta property="og:description" content="Learn to adapt your app to new form factors, like foldable and dual-screen devices, with the Jetpack WindowManager library."><meta property="og:url" content="https://developer.android.com/codelabs/android-window-manager-dual-screen-foldables"><meta property="og:locale" content="en">
  
    
    
    
    
    
    
    
    
    
    
  

    
      <link rel="stylesheet" href="/extras.css"></head>
  <body class=""
        template="codelab"
        theme="android-theme"
        type="codelab"
        
        
        appearance
        
        layout="docs"
        
        
        
        
        display-toc
        pending>
  
    <devsite-progress type="indeterminate" id="app-progress"></devsite-progress>
  
  
    <a href="#main-content" class="skip-link button">
      
      Skip to main content
    </a>
    <section class="devsite-wrapper">
      <devsite-cookie-notification-bar></devsite-cookie-notification-bar><devsite-header role="banner">
  
    





















<div class="devsite-header--inner" data-nosnippet>
  <div class="devsite-top-logo-row-wrapper-wrapper">
    <div class="devsite-top-logo-row-wrapper">
      <div class="devsite-top-logo-row">
        <button type="button" id="devsite-hamburger-menu"
          class="devsite-header-icon-button button-flat material-icons gc-analytics-event"
          data-category="Site-Wide Custom Events"
          data-label="Navigation menu button"
          visually-hidden
          aria-label="Open menu">
        </button>
        
<div class="devsite-product-name-wrapper">

  <a href="/" class="devsite-site-logo-link gc-analytics-event"
   data-category="Site-Wide Custom Events" data-label="Site logo" track-type="globalNav"
   track-name="androidDevelopers" track-metadata-position="nav"
   track-metadata-eventDetail="nav">
  
  <picture>
    
    <source srcset="https://www.gstatic.com/devrel-devsite/prod/vc12d84b6edb3e25e1619b575cf813e1849a1c95098b711a6c56ab3968c9a4fa9/android/images/lockup-dark-theme.png"
            media="(prefers-color-scheme: dark)"
            class="devsite-dark-theme">
    
    <img src="https://www.gstatic.com/devrel-devsite/prod/vc12d84b6edb3e25e1619b575cf813e1849a1c95098b711a6c56ab3968c9a4fa9/android/images/lockup.png" class="devsite-site-logo" alt="Android Developers">
  </picture>
  
</a>



</div>
        <div class="devsite-top-logo-row-middle">
          <div class="devsite-header-upper-tabs">
            
           </div>
          
<devsite-search
    enable-signin
    enable-search
    enable-suggestions
      enable-query-completion
    
    enable-search-summaries
    
    tenant-name="Android Developers"
    
    
    
    
    
    >
  <form class="devsite-search-form" action="https://developer.android.com/s/results" method="GET">
    <div class="devsite-search-container">
      <button type="button"
              search-open
              class="devsite-search-button devsite-header-icon-button button-flat material-icons"
              
              aria-label="Open search"></button>
      <div class="devsite-searchbox">
        <input
          aria-activedescendant=""
          aria-autocomplete="list"
          
          aria-label="Search"
          aria-expanded="false"
          aria-haspopup="listbox"
          autocomplete="off"
          class="devsite-search-field devsite-search-query"
          name="q"
          
          placeholder="Search"
          role="combobox"
          type="text"
          value=""
          >
          <div class="devsite-search-image material-icons" aria-hidden="true">
            
              <svg class="devsite-search-ai-image" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <g clip-path="url(#clip0_6641_386)">
                    <path d="M19.6 21L13.3 14.7C12.8 15.1 12.225 15.4167 11.575 15.65C10.925 15.8833 10.2333 16 9.5 16C7.68333 16 6.14167 15.375 4.875 14.125C3.625 12.8583 3 11.3167 3 9.5C3 7.68333 3.625 6.15 4.875 4.9C6.14167 3.63333 7.68333 3 9.5 3C10.0167 3 10.5167 3.05833 11 3.175C11.4833 3.275 11.9417 3.43333 12.375 3.65L10.825 5.2C10.6083 5.13333 10.3917 5.08333 10.175 5.05C9.95833 5.01667 9.73333 5 9.5 5C8.25 5 7.18333 5.44167 6.3 6.325C5.43333 7.19167 5 8.25 5 9.5C5 10.75 5.43333 11.8167 6.3 12.7C7.18333 13.5667 8.25 14 9.5 14C10.6667 14 11.6667 13.625 12.5 12.875C13.35 12.1083 13.8417 11.15 13.975 10H15.975C15.925 10.6333 15.7833 11.2333 15.55 11.8C15.3333 12.3667 15.05 12.8667 14.7 13.3L21 19.6L19.6 21ZM17.5 12C17.5 10.4667 16.9667 9.16667 15.9 8.1C14.8333 7.03333 13.5333 6.5 12 6.5C13.5333 6.5 14.8333 5.96667 15.9 4.9C16.9667 3.83333 17.5 2.53333 17.5 0.999999C17.5 2.53333 18.0333 3.83333 19.1 4.9C20.1667 5.96667 21.4667 6.5 23 6.5C21.4667 6.5 20.1667 7.03333 19.1 8.1C18.0333 9.16667 17.5 10.4667 17.5 12Z" fill="#5F6368"/>
                  </g>
                <defs>
                <clipPath id="clip0_6641_386">
                <rect width="24" height="24" fill="white"/>
                </clipPath>
                </defs>
              </svg>
            
          </div>
          <div class="devsite-search-shortcut-icon-container" aria-hidden="true">
            <kbd class="devsite-search-shortcut-icon">/</kbd>
          </div>
      </div>
    </div>
  </form>
  <button type="button"
          search-close
          class="devsite-search-button devsite-header-icon-button button-flat material-icons"
          
          aria-label="Close search"></button>
</devsite-search>

        </div>

        

          

          

          <devsite-appearance-selector></devsite-appearance-selector>

          
<devsite-language-selector>
  <ul role="presentation">
    
    
    <li role="presentation">
      <a role="menuitem" lang="en"
        >English</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="de"
        >Deutsch</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="es_419"
        >Español – América Latina</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="fr"
        >Français</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="id"
        >Indonesia</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="pl"
        >Polski</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="pt_br"
        >Português – Brasil</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="vi"
        >Tiếng Việt</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="zh_cn"
        >中文 – 简体</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="zh_tw"
        >中文 – 繁體</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="ja"
        >日本語</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="ko"
        >한국어</a>
    </li>
    
  </ul>
</devsite-language-selector>


          
            <a class="devsite-header-link devsite-top-button button gc-analytics-event "
    href="https://developer.android.com/studio"
    data-category="Site-Wide Custom Events"
    data-label="Site header link: Android Studio"
    >
  Android Studio
</a>
          

        

        
          <devsite-user 
                        
                        
                          enable-profiles
                        
                        
                        id="devsite-user">
            
              
              <span class="button devsite-top-button" aria-hidden="true" visually-hidden>Sign in</span>
            
          </devsite-user>
        
        
        
      </div>
    </div>
  </div>



</div>



  
</devsite-header>
      <devsite-book-nav scrollbars hidden>
        
          





















<div class="devsite-book-nav-filter"
     hidden>
  <span class="filter-list-icon material-icons" aria-hidden="true"></span>
  <input type="text"
         placeholder="Filter"
         
         aria-label="Type to filter"
         role="searchbox">
  
  <span class="filter-clear-button hidden"
        data-title="Clear filter"
        aria-label="Clear filter"
        role="button"
        tabindex="0"></span>
</div>

<nav class="devsite-book-nav devsite-nav nocontent"
     aria-label="Side menu">
  <div class="devsite-mobile-header">
    <button type="button"
            id="devsite-close-nav"
            class="devsite-header-icon-button button-flat material-icons gc-analytics-event"
            data-category="Site-Wide Custom Events"
            data-label="Close navigation"
            aria-label="Close navigation">
    </button>
    <div class="devsite-product-name-wrapper">

  <a href="/" class="devsite-site-logo-link gc-analytics-event"
   data-category="Site-Wide Custom Events" data-label="Site logo" track-type="globalNav"
   track-name="androidDevelopers" track-metadata-position="nav"
   track-metadata-eventDetail="nav">
  
  <picture>
    
    <source srcset="https://www.gstatic.com/devrel-devsite/prod/vc12d84b6edb3e25e1619b575cf813e1849a1c95098b711a6c56ab3968c9a4fa9/android/images/lockup-dark-theme.png"
            media="(prefers-color-scheme: dark)"
            class="devsite-dark-theme">
    
    <img src="https://www.gstatic.com/devrel-devsite/prod/vc12d84b6edb3e25e1619b575cf813e1849a1c95098b711a6c56ab3968c9a4fa9/android/images/lockup.png" class="devsite-site-logo" alt="Android Developers">
  </picture>
  
</a>


</div>
  </div>

  <div class="devsite-book-nav-wrapper">
    <div class="devsite-mobile-nav-top">
      
        <ul class="devsite-nav-list">
          
          
    
    
<li class="devsite-nav-item">

  
  <a href="/studio"
    
       class="devsite-nav-title gc-analytics-event "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Android Studio"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      Android Studio
   </span>
    
  
  </a>
  

</li>

  
          
        </ul>
      
    </div>
    
  </div>
</nav>
        
      </devsite-book-nav>
      <section id="gc-wrapper">
        <main role="main" id="main-content" class="devsite-main-content"
            
              
              has-sidebar
            >
          <div class="devsite-sidebar">
            <div class="devsite-sidebar-content">
                
                <devsite-toc class="devsite-nav"
                            role="navigation"
                            aria-label="On this page"
                            depth="1"
                            scrollbars
                  ></devsite-toc>
                <devsite-recommendations-sidebar class="nocontent devsite-nav">
                </devsite-recommendations-sidebar>
            </div>
          </div>
          <devsite-content>
            
              












<article class="devsite-article"><style>
      body {
        transition: opacity ease-in 0.2s;
      }

      body[unresolved] {
        opacity: 0;
        display: block;
        overflow: hidden;
        position: relative;
      }
      </style>
  
  
  
  
  

  <div class="devsite-article-meta nocontent" role="navigation">
    
    
    <ul class="devsite-breadcrumb-list"
  >
  
</ul>
    
  </div>
  
    <h1 class="devsite-page-title" tabindex="-1">
      Support foldable and dual-screen devices with Jetpack WindowManager<div class="devsite-actions" hidden data-nosnippet><devsite-feature-tooltip
      ack-key="AckCollectionsBookmarkTooltipDismiss"
      analytics-category="Site-Wide Custom Events"
      analytics-action-show="Callout Profile displayed"
      analytics-action-close="Callout Profile dismissed"
      analytics-label="Create Collection Callout"
      class="devsite-page-bookmark-tooltip nocontent"
      dismiss-button="true"
      id="devsite-collections-dropdown"
      
      dismiss-button-text="Dismiss"

      
      close-button-text="Got it">

    
    
      <devsite-bookmark></devsite-bookmark>
    

    <span slot="popout-heading">
      
      Stay organized with collections
    </span>
    <span slot="popout-contents">
      
      Save and categorize content based on your preferences.
    </span>
  </devsite-feature-tooltip></div>
  
      
    </h1>
  

  <devsite-toc class="devsite-nav"
    depth="1"
    devsite-toc-embedded
    >
  </devsite-toc>
  
    
  <div class="devsite-article-body clearfix
  ">

  
    
    
    <google-codelab-analytics gaid="UA-49880327-14" ga4id="G-JTFZSJVVVZ"></google-codelab-analytics>
    <google-codelab codelab-gaid=""
                    codelab-ga4id=""
                    doc-id="1KAVVq1XOXkWvlH-iCzx2QtVXbOZhbxTeExL_EL8IWUg"
                    id="android-window-manager-dual-screen-foldables"
                    title="Support foldable and dual-screen devices with Jetpack WindowManager"
                    no-tooltip=""
                    environment="web"
                    category="android"
                    feedback-link="https://github.com/android/codelab-android-foldable/issues"
                    layout="paginated"
                    >
      
        <google-codelab-step label="Before you begin" duration="2" step="0">
          
            <google-codelab-about codelab-title="Support foldable and dual-screen devices with Jetpack WindowManager"
                                  authors="Cesar Valiente (Microsoft) / Kenneth Ford and Pietro Maggi (Google)"
                                  last-updated="2023-10-11T05:18:05Z"
                                  duration="60">
            </google-codelab-about>
          
          <h2 class="step-title" id="0" data-text="Before you begin" tabindex="-1">
              1. Before you begin
          </h2>
          <p>This practical codelab will teach you the basics of developing for dual-screen and foldable devices. When you&#39;re finished, the app can support foldable devices like Pixel Fold, Microsoft Surface Duo, Samsung Galaxy Z Fold 5, etc.</p>
<h2 is-upgraded id="prerequisites" data-text="Prerequisites" tabindex="-1">Prerequisites</h2>
<p>To complete this codelab, you need:</p>
<ul>
<li>Experience building Android apps</li>
<li>Experience with  <a href="https://developer.android.com/reference/android/app/Activity" target="_blank">Activities</a>,  <a href="https://developer.android.com/guide/fragments" target="_blank">Fragments</a>,  <a href="https://developer.android.com/topic/libraries/view-binding" target="_blank">View binding</a>, and  <a href="https://developer.android.com/guide/topics/ui/declaring-layout" target="_blank">xml-layouts</a></li>
</ul>
<h2 is-upgraded id="what-youll-do" data-text="What you'll do" tabindex="-1">What you'll do</h2>
<p>Create a simple app that:</p>
<ul>
<li>Displays the device features</li>
<li>Detects when the application is running on a foldable or dual-screen device</li>
<li>Determines the device state</li>
<li>Uses  <a href="https://developer.android.com/jetpack/androidx/releases/window" target="_blank">Jetpack WindowManager</a> to work with new form factor devices.</li>
</ul>
<h2 is-upgraded id="what-youll-need" data-text="What you'll need" tabindex="-1">What you'll need</h2>
<ul>
<li><a href="https://developer.android.com/studio" target="_blank">Android Studio Arctic Fox</a> or higher</li>
<li>A foldable device or emulator</li>
</ul>
<p>The  <a href="https://developer.android.com/studio/releases/emulator#30-0-26" target="_blank">Android Emulator v30.0.6+</a> includes foldables support with virtual hinge sensor and 3D view. There are a few foldable emulators you can use, as shown in the image below:</p>
<p class="image-container"><img alt="ca76200cc00b6ce6.png" style="width: 624.00px" src="/static/codelabs/android-window-manager-dual-screen-foldables/img/ca76200cc00b6ce6.png" srcset="https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/ca76200cc00b6ce6_36.png 36w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/ca76200cc00b6ce6_48.png 48w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/ca76200cc00b6ce6_72.png 72w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/ca76200cc00b6ce6_96.png 96w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/ca76200cc00b6ce6_480.png 480w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/ca76200cc00b6ce6_720.png 720w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/ca76200cc00b6ce6_856.png 856w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/ca76200cc00b6ce6_960.png 960w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/ca76200cc00b6ce6_1440.png 1440w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/ca76200cc00b6ce6_1920.png 1920w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/ca76200cc00b6ce6_2880.png 2880w" sizes="(max-width: 840px) 100vw, 856px"></p>
<ul>
<li>If you want to use a dual screen emulator, you can download the  <a href="https://www.microsoft.com/download/details.aspx?id=100847" target="_blank">Microsoft Surface Duo emulator</a> for your platform (Windows, MacOS or GNU/Linux).</li>
</ul>
<aside class="special"><p><strong>Note</strong>: In this codelab we have used the dual screen and the 6.7&#34; Horizontal Fold-in emulators. If you use other foldable emulators, you may or may not have to make some changes in the code (mainly Jetpack WindowManager).</p>
</aside>


        </google-codelab-step>
      
        <google-codelab-step label="Single screen devices vs foldable devices" duration="5" step="1">
          
          <h2 class="step-title" id="1" data-text="Single screen devices vs foldable devices" tabindex="-1">
              2. Single screen devices vs foldable devices
          </h2>
          <p>Foldable devices offer users a bigger screen and more versatile user interface than previously available in a mobile device. When folded, these devices are often smaller than a common-size tablet, making them more portable and functional.</p>
<p>At the time of this writing, there are two types of foldable devices:</p>
<ul>
<li><strong>Single-screen foldable devices</strong>, with one screen that can be folded. Users can run multiple apps on the same screen at the same time using   <a href="https://developer.android.com/guide/topics/ui/multi-window" target="_blank"><code translate="no" dir="ltr">multi-window</code></a> mode.</li>
<li><strong>Dual-screen foldable devices</strong>, with two screens joined by a hinge. These devices can be folded as well, but they have two different logical display regions.</li>
</ul>
<p class="image-container"><img alt="9ff347a7c8483fed.png" style="width: 624.00px" src="/static/codelabs/android-window-manager-dual-screen-foldables/img/9ff347a7c8483fed.png" srcset="https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/9ff347a7c8483fed_36.png 36w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/9ff347a7c8483fed_48.png 48w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/9ff347a7c8483fed_72.png 72w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/9ff347a7c8483fed_96.png 96w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/9ff347a7c8483fed_480.png 480w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/9ff347a7c8483fed_720.png 720w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/9ff347a7c8483fed_856.png 856w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/9ff347a7c8483fed_960.png 960w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/9ff347a7c8483fed_1440.png 1440w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/9ff347a7c8483fed_1920.png 1920w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/9ff347a7c8483fed_2880.png 2880w" sizes="(max-width: 840px) 100vw, 856px"></p>
<p>Like tablets and other single screen mobile devices, foldables can:</p>
<ul>
<li>Run one app in one of the display regions.</li>
<li>Run two apps side by side, each one on a different display region (using <code translate="no" dir="ltr">multi-window</code> mode).</li>
</ul>
<p>Unlike single screen devices, foldable devices also support different postures. Postures can be used to display content in different ways.</p>
<p class="image-container"><img alt="bac1d8089687c0c2.png" style="width: 529.50px" src="/static/codelabs/android-window-manager-dual-screen-foldables/img/bac1d8089687c0c2.png" srcset="https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/bac1d8089687c0c2_36.png 36w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/bac1d8089687c0c2_48.png 48w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/bac1d8089687c0c2_72.png 72w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/bac1d8089687c0c2_96.png 96w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/bac1d8089687c0c2_480.png 480w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/bac1d8089687c0c2_720.png 720w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/bac1d8089687c0c2_856.png 856w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/bac1d8089687c0c2_960.png 960w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/bac1d8089687c0c2_1440.png 1440w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/bac1d8089687c0c2_1920.png 1920w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/bac1d8089687c0c2_2880.png 2880w" sizes="(max-width: 840px) 100vw, 856px"></p>
<p>Foldable devices can offer different spanning postures when an app is spanned (displayed) across the whole display region (using all display regions on dual-screen foldable devices).</p>
<p>Foldable devices can also offer folded postures, like tabletop mode, so you can have a logical split between the part of the screen that&#39;s flat and the part that&#39;s tilted towards you, and tent mode, so you can visualize the content as if the device was using a stand gadget.</p>


        </google-codelab-step>
      
        <google-codelab-step label="Jetpack WindowManager" duration="0" step="2">
          
          <h2 class="step-title" id="2" data-text="Jetpack WindowManager" tabindex="-1">
              3. Jetpack WindowManager
          </h2>
          <p>The  <a href="https://developer.android.com/jetpack/androidx/releases/window" target="_blank">Jetpack WindowManager</a> library helps application developers support new device form factors and provides a common API surface for various WindowManager features on both old and new platform versions.</p>
<h2 is-upgraded id="key-features" data-text="Key features" tabindex="-1">Key features</h2>
<p>Jetpack WindowManager version  <a href="https://developer.android.com/jetpack/androidx/releases/window#version_11_2" target="_blank">1.1.0</a> contains the  <a href="https://developer.android.com/reference/androidx/window/layout/FoldingFeature" target="_blank"><code translate="no" dir="ltr">FoldingFeature</code></a> class that describes a fold in a flexible display or a hinge between two physical display panels. Its API provides access to important information related to the device:</p>
<ul>
<li><a href="https://developer.android.com/reference/androidx/window/layout/FoldingFeature#state()" target="_blank"><code translate="no" dir="ltr">state()</code></a>: Provides the current posture of the device from a list of defined postures ( <a href="https://developer.android.com/reference/androidx/window/layout/FoldingFeature.State#FLAT()" target="_blank"><code translate="no" dir="ltr">FLAT</code></a> and  <a href="https://developer.android.com/reference/androidx/window/layout/FoldingFeature.State#HALF_OPENED()" target="_blank"><code translate="no" dir="ltr">HALF_OPENED</code></a>)</li>
<li><a href="https://developer.android.com/reference/androidx/window/layout/FoldingFeature#isSeparating()" target="_blank"><code translate="no" dir="ltr">isSeparating()</code></a>: Calculates if a <code translate="no" dir="ltr">FoldingFeature</code> should be thought of as splitting the window into multiple physical areas that can be seen by users as logically separate</li>
<li><a href="https://developer.android.com/reference/androidx/window/layout/FoldingFeature#occlusionType()" target="_blank"><code translate="no" dir="ltr">occlusionType()</code></a>: Calculates the occlusion mode to determine if a <code translate="no" dir="ltr">FoldingFeature</code> occludes a part of the window.</li>
<li><a href="https://developer.android.com/reference/androidx/window/layout/FoldingFeature#orientation()" target="_blank"><code translate="no" dir="ltr">orientation()</code></a>: Returns  <a href="https://developer.android.com/reference/androidx/window/layout/FoldingFeature.Orientation#HORIZONTAL()" target="_blank"><code translate="no" dir="ltr">FoldingFeature.Orientation.HORIZONTAL</code></a> if the <code translate="no" dir="ltr">FoldingFeature</code> width is greater than the height; otherwise, returns  <a href="https://developer.android.com/reference/androidx/window/layout/FoldingFeature.Orientation#VERTICAL()" target="_blank"><code translate="no" dir="ltr">FoldingFeature.Orientation.VERTICAL</code></a>.</li>
<li><a href="https://developer.android.com/reference/androidx/window/layout/FoldingFeature#bounds()" target="_blank"><code translate="no" dir="ltr">bounds()</code></a>: Provides a  <a href="https://developer.android.com/reference/android/graphics/Rect" target="_blank"><code translate="no" dir="ltr">Rect</code></a> instance that contains the boundaries of the device feature, for example, the boundaries of a physical hinge.</li>
</ul>
<p>Using the  <a href="https://developer.android.com/reference/androidx/window/layout/WindowInfoTracker" target="_blank"><code translate="no" dir="ltr">WindowInfoTracker</code></a> interface you can access  <a href="https://developer.android.com/reference/androidx/window/layout/WindowInfoTracker#windowLayoutInfo(android.content.Context)" target="_blank"><code translate="no" dir="ltr">windowLayoutInfo()</code></a> to collect a  <a href="https://kotlin.github.io/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines.flow/-flow/index.html" target="_blank"><code translate="no" dir="ltr">Flow</code></a> of  <a href="https://developer.android.com/reference/androidx/window/layout/WindowLayoutInfo" target="_blank"><code translate="no" dir="ltr">WindowLayoutInfo</code></a> that contains all the available  <a href="https://developer.android.com/reference/androidx/window/layout/DisplayFeature" target="_blank"><code translate="no" dir="ltr">DisplayFeature</code></a>s.</p>


        </google-codelab-step>
      
        <google-codelab-step label="Set up" duration="5" step="3">
          
          <h2 class="step-title" id="3" data-text="Set up" tabindex="-1">
              4. Set up
          </h2>
          <p>Create a new project and select the &#34;Empty Activity&#34; template:</p>
<p class="image-container"><img alt="a5ce5c7fb033ec4c.png" style="width: 624.00px" src="/static/codelabs/android-window-manager-dual-screen-foldables/img/a5ce5c7fb033ec4c.png" srcset="https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/a5ce5c7fb033ec4c_36.png 36w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/a5ce5c7fb033ec4c_48.png 48w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/a5ce5c7fb033ec4c_72.png 72w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/a5ce5c7fb033ec4c_96.png 96w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/a5ce5c7fb033ec4c_480.png 480w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/a5ce5c7fb033ec4c_720.png 720w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/a5ce5c7fb033ec4c_856.png 856w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/a5ce5c7fb033ec4c_960.png 960w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/a5ce5c7fb033ec4c_1440.png 1440w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/a5ce5c7fb033ec4c_1920.png 1920w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/a5ce5c7fb033ec4c_2880.png 2880w" sizes="(max-width: 840px) 100vw, 856px"></p>
<p>Leave all the parameters as their default.</p>
<aside class="special"><p><strong>Note</strong>: The final version of the codelab is available on GitHub:  <a href="https://github.com/android/large-screen-codelabs/tree/main/WindowManager" target="_blank"><code translate="no" dir="ltr">https://github.com/android/large-screen-codelabs</code></a></p>
</aside>
<h2 is-upgraded id="declare-dependencies" data-text="Declare dependencies" tabindex="-1">Declare dependencies</h2>
<p>In order to use Jetpack WindowManager, add the dependency in the <code translate="no" dir="ltr">build.gradle</code> file for app or module:</p>
<h3 is-upgraded id="appbuild.gradle" data-text="app/build.gradle" tabindex="-1"><a href="https://github.com/android/large-screen-codelabs/tree/main/WindowManager/app/build.gradle" target="_blank">app/build.gradle</a></h3>
<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="Carbon"><code translate="no" dir="ltr"><span class="devsite-syntax-nx">dependencies</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-nx">ext</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">windowmanager_version</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s">"1.1.0"</span>

<span class="devsite-syntax-w">    </span><span class="devsite-syntax-nx">implementation</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s">"androidx.window:window:$windowmanager_version"</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-nx">androidTestImplementation</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s">"androidx.window:window-testing:$windowmanager_version"</span>

<span class="devsite-syntax-w">    </span><span class="devsite-syntax-c1">// Needed to use lifecycleScope to collect the WindowLayoutInfo flow</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-nx">implementation</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s">"androidx.lifecycle:lifecycle-runtime-ktx:2.6.2"</span>
<span class="devsite-syntax-p">}</span>
</code></pre></devsite-code>
<h2 is-upgraded id="use-windowmanager" data-text="Use WindowManager" tabindex="-1">Use WindowManager</h2>
<p>Window features can be accessed via WindowManager&#39;s  <a href="https://developer.android.com/reference/androidx/window/layout/WindowInfoTracker" target="_blank"><code translate="no" dir="ltr">WindowInfoTracker</code></a> interface.</p>
<p>Open the <code translate="no" dir="ltr">MainActivity.kt</code> source file and call  <a href="https://developer.android.com/reference/androidx/window/layout/WindowInfoTracker#getOrCreate(android.content.Context)" target="_blank"><code translate="no" dir="ltr">WindowInfoTracker.getOrCreate(this@MainActivity)</code></a> to initialize the <code translate="no" dir="ltr">WindowInfoTracker</code> instance associated with the current activity:</p>
<h3 is-upgraded id="mainactivity.kt" data-text="MainActivity.kt" tabindex="-1"><a href="https://github.com/android/large-screen-codelabs/tree/main/WindowManager/app/src/main/java/com/example/codelab/windowmanager/MainActivity.kt" target="_blank">MainActivity.kt</a></h3>
<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="Python"><code translate="no" dir="ltr"><span class="devsite-syntax-kn">import</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">androidx.window.layout.WindowInfoTracker</span>

<span class="devsite-syntax-n">private</span> <span class="devsite-syntax-n">lateinit</span> <span class="devsite-syntax-n">var</span> <span class="devsite-syntax-n">windowInfoTracker</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-n">WindowInfoTracker</span>

<span class="devsite-syntax-n">override</span> <span class="devsite-syntax-n">fun</span> <span class="devsite-syntax-n">onCreate</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">savedInstanceState</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-n">Bundle</span><span class="devsite-syntax-err">?</span><span class="devsite-syntax-p">)</span> <span class="devsite-syntax-p">{</span>
        <span class="devsite-syntax-nb">super</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">onCreate</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">savedInstanceState</span><span class="devsite-syntax-p">)</span>
     
        <span class="devsite-syntax-n">windowInfoTracker</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">WindowInfoTracker</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">getOrCreate</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">this</span><span class="devsite-syntax-nd">@MainActivity</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-p">}</span>
</code></pre></devsite-code>
<p>With the <code translate="no" dir="ltr">WindowInfoTracker</code> instance, get the information about the current window state of the device.</p>
<aside class="special"><p><strong>Note</strong>: May need to manually change the project configuration to use JDK 11 for Gradle to be able to correctly build the project.</p>
</aside>


        </google-codelab-step>
      
        <google-codelab-step label="Set up the application UI" duration="5" step="4">
          
          <h2 class="step-title" id="4" data-text="Set up the application UI" tabindex="-1">
              5. Set up the application UI
          </h2>
          <p>From Jetpack WindowManager, get information about window metrics, layout, and display configuration. Show this in the main activity layout, using a <code translate="no" dir="ltr">TextView</code> for each of these.</p>
<p>Create a  <a href="https://developer.android.com/reference/androidx/constraintlayout/widget/ConstraintLayout" target="_blank"><code translate="no" dir="ltr">ConstraintLayout</code></a>, with three  <a href="https://developer.android.com/reference/android/widget/TextView" target="_blank"><code translate="no" dir="ltr">TextView</code></a>s, centered on screen.</p>
<p>Open the <code translate="no" dir="ltr">activity_main.xml</code> file and paste the following content:</p>
<h3 is-upgraded id="activity_main.xml" data-text="activity_main.xml" tabindex="-1"><a href="https://github.com/android/large-screen-codelabs/tree/main/WindowManager/app/src/main/res/layout/activity_main.xml" target="_blank">activity_main.xml</a></h3>
<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="GDScript"><code translate="no" dir="ltr">&lt;<span class="devsite-syntax-err">?</span><span class="devsite-syntax-n">xml</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">version</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-s2">"1.0"</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">encoding</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-s2">"utf-8"</span><span class="devsite-syntax-err">?</span>&gt;
&lt;<span class="devsite-syntax-n">androidx</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">constraintlayout</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">widget</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">ConstraintLayout</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">xmlns</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-n">android</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-s2">"http://schemas.android.com/apk/res/android"</span>
<span class="devsite-syntax-w">   </span><span class="devsite-syntax-n">xmlns</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-n">app</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-s2">"http://schemas.android.com/apk/res-auto"</span>
<span class="devsite-syntax-w">   </span><span class="devsite-syntax-n">xmlns</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-n">tools</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-s2">"http://schemas.android.com/tools"</span>
<span class="devsite-syntax-w">   </span><span class="devsite-syntax-n">android</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-n">id</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-s2">"@+id/constraint_layout"</span>
<span class="devsite-syntax-w">   </span><span class="devsite-syntax-n">android</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-n">layout_width</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-s2">"match_parent"</span>
<span class="devsite-syntax-w">   </span><span class="devsite-syntax-n">android</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-n">layout_height</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-s2">"match_parent"</span>
<span class="devsite-syntax-w">   </span><span class="devsite-syntax-n">tools</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-n">context</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-s2">".MainActivity"</span>&gt;

<span class="devsite-syntax-w">    </span>&lt;<span class="devsite-syntax-n">TextView</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-n">android</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-n">id</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-s2">"@+id/window_metrics"</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-n">android</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-n">layout_width</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-s2">"wrap_content"</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-n">android</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-n">layout_height</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-s2">"wrap_content"</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-n">android</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-n">padding</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-s2">"20dp"</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-n">tools</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-n">text</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-s2">"Window metrics"</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-n">android</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-n">textSize</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-s2">"20sp"</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-n">app</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-n">layout_constraintBottom_toTopOf</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-s2">"@+id/layout_change"</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-n">app</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-n">layout_constraintStart_toStartOf</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-s2">"parent"</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-n">app</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-n">layout_constraintTop_toTopOf</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-s2">"parent"</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-n">app</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-n">layout_constraintVertical_chainStyle</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-s2">"packed"</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">/</span>&gt;

<span class="devsite-syntax-w">    </span>&lt;<span class="devsite-syntax-n">TextView</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-n">android</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-n">id</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-s2">"@+id/layout_change"</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-n">android</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-n">layout_width</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-s2">"wrap_content"</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-n">android</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-n">layout_height</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-s2">"wrap_content"</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-n">android</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-n">padding</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-s2">"20dp"</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-n">tools</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-n">text</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-s2">"Layout change"</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-n">android</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-n">textSize</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-s2">"20sp"</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-n">app</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-n">layout_constrainedWidth</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-s2">"true"</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-n">app</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-n">layout_constraintBottom_toTopOf</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-s2">"@+id/configuration_changed"</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-n">app</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-n">layout_constraintStart_toStartOf</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-s2">"parent"</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-n">app</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-n">layout_constraintTop_toBottomOf</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-s2">"@+id/window_metrics"</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">/</span>&gt;

<span class="devsite-syntax-w">    </span>&lt;<span class="devsite-syntax-n">TextView</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-n">android</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-n">id</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-s2">"@+id/configuration_changed"</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-n">android</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-n">layout_width</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-s2">"wrap_content"</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-n">android</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-n">layout_height</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-s2">"wrap_content"</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-n">android</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-n">padding</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-s2">"20dp"</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-n">tools</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-n">text</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-s2">"Using one logic/physical display - unspanned"</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-n">android</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-n">textSize</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-s2">"20sp"</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-n">app</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-n">layout_constraintBottom_toBottomOf</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-s2">"parent"</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-n">app</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-n">layout_constraintStart_toStartOf</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-s2">"parent"</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-n">app</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-n">layout_constraintTop_toBottomOf</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-s2">"@+id/layout_change"</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">/</span>&gt;

&lt;<span class="devsite-syntax-o">/</span><span class="devsite-syntax-n">androidx</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">constraintlayout</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">widget</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">ConstraintLayout</span>&gt;
</code></pre></devsite-code>
<p>We are now going to connect these UI elements in the code using  <a href="https://developer.android.com/topic/libraries/view-binding" target="_blank">view binding</a>. To do this we start enabling it in the application&#39;s <code translate="no" dir="ltr">build.gradle</code> file:</p>
<h3 is-upgraded id="appbuild.gradle_1" data-text="app/build.gradle" tabindex="-1"><a href="https://github.com/android/large-screen-codelabs/tree/main/WindowManager/app/build.gradle" target="_blank">app/build.gradle</a></h3>
<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="Text only"><code translate="no" dir="ltr">android {
   // Other configurations

   buildFeatures {
      viewBinding true
   }
}
</code></pre></devsite-code>
<p>Sync the gradle project as suggested by Android Studio and use view binding in <code translate="no" dir="ltr">MainActivity.kt</code> using the following code:</p>
<h3 is-upgraded id="mainactivity.kt_1" data-text="MainActivity.kt" tabindex="-1"><a href="https://github.com/android/large-screen-codelabs/tree/main/WindowManager/app/src/main/java/com/example/codelab/windowmanager/MainActivity.kt" target="_blank">MainActivity.kt</a></h3>
<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="GDScript"><code translate="no" dir="ltr"><span class="devsite-syntax-k">class</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">MainActivity</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">AppCompatActivity</span><span class="devsite-syntax-p">()</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-n">private</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">lateinit</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-k">var</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">windowInfoTracker</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">WindowInfoTracker</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-n">private</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">lateinit</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-k">var</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">binding</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">ActivityMainBinding</span>

<span class="devsite-syntax-w">    </span><span class="devsite-syntax-n">override</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">fun</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">onCreate</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">savedInstanceState</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Bundle</span><span class="devsite-syntax-err">?</span><span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-n">super</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">onCreate</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">savedInstanceState</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-n">binding</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">ActivityMainBinding</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">inflate</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">layoutInflater</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-n">setContentView</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">binding</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">root</span><span class="devsite-syntax-p">)</span>

<span class="devsite-syntax-w">        </span><span class="devsite-syntax-n">windowInfoTracker</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">WindowInfoTracker</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">getOrCreate</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">this</span><span class="devsite-syntax-err">@</span><span class="devsite-syntax-n">MainActivity</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-p">}</span>
<span class="devsite-syntax-p">}</span>
</code></pre></devsite-code>


        </google-codelab-step>
      
        <google-codelab-step label="Visualize the WindowMetrics information" duration="10" step="5">
          
          <h2 class="step-title" id="5" data-text="Visualize the WindowMetrics information" tabindex="-1">
              6. Visualize the WindowMetrics information
          </h2>
          <p>In the <code translate="no" dir="ltr">onCreate</code> method of the <code translate="no" dir="ltr">MainActivity</code>, call a function to get and show the  <a href="https://developer.android.com/reference/androidx/window/layout/WindowMetrics" target="_blank"><code translate="no" dir="ltr">WindowMetrics</code></a> information. Add an <code translate="no" dir="ltr">obtainWindowMetrics()</code>call in the <code translate="no" dir="ltr">onCreate</code> method:</p>
<h3 is-upgraded id="mainactivity.kt_2" data-text="MainActivity.kt" tabindex="-1"><a href="https://github.com/android/large-screen-codelabs/tree/main/WindowManager/app/src/main/java/com/example/codelab/windowmanager/MainActivity.kt" target="_blank">MainActivity.kt</a></h3>
<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="Transact-SQL"><code translate="no" dir="ltr"><span class="devsite-syntax-n">override</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">fun</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">onCreate</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nl">savedInstanceState</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Bundle</span><span class="devsite-syntax-vm">?</span><span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-err">{</span>
<span class="devsite-syntax-w">   </span><span class="devsite-syntax-n">super</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-n">onCreate</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">savedInstanceState</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">   </span><span class="devsite-syntax-n">binding</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">ActivityMainBinding</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-n">inflate</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">layoutInflater</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">   </span><span class="devsite-syntax-n">setContentView</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">binding</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-n">root</span><span class="devsite-syntax-p">)</span>

<span class="devsite-syntax-w">   </span><span class="devsite-syntax-n">windowInfoTracker</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">WindowInfoTracker</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-n">getOrCreate</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">this</span><span class="devsite-syntax-nv">@MainActivity</span><span class="devsite-syntax-p">)</span>

<span class="devsite-syntax-w">   </span><span class="devsite-syntax-n">obtainWindowMetrics</span><span class="devsite-syntax-p">()</span>
<span class="devsite-syntax-err">}</span>
</code></pre></devsite-code>
<p>Implement the <code translate="no" dir="ltr">obtainWindowMetrics</code> method:</p>
<h3 is-upgraded id="mainactivity.kt_3" data-text="MainActivity.kt" tabindex="-1"><a href="https://github.com/android/large-screen-codelabs/tree/main/WindowManager/app/src/main/java/com/example/codelab/windowmanager/MainActivity.kt" target="_blank">MainActivity.kt</a></h3>
<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="Python"><code translate="no" dir="ltr"><span class="devsite-syntax-kn">import</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">androidx.window.layout.WindowMetricsCalculator</span>

<span class="devsite-syntax-n">private</span> <span class="devsite-syntax-n">fun</span> <span class="devsite-syntax-n">obtainWindowMetrics</span><span class="devsite-syntax-p">()</span> <span class="devsite-syntax-p">{</span>
   <span class="devsite-syntax-n">val</span> <span class="devsite-syntax-n">wmc</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">WindowMetricsCalculator</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">getOrCreate</span><span class="devsite-syntax-p">()</span>
   <span class="devsite-syntax-n">val</span> <span class="devsite-syntax-n">currentWM</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">wmc</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">computeCurrentWindowMetrics</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">this</span><span class="devsite-syntax-p">)</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">bounds</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">flattenToString</span><span class="devsite-syntax-p">()</span>
   <span class="devsite-syntax-n">val</span> <span class="devsite-syntax-n">maximumWM</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">wmc</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">computeMaximumWindowMetrics</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">this</span><span class="devsite-syntax-p">)</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">bounds</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">flattenToString</span><span class="devsite-syntax-p">()</span>
   <span class="devsite-syntax-n">binding</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">windowMetrics</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">text</span> <span class="devsite-syntax-o">=</span>
       <span class="devsite-syntax-s2">"CurrentWindowMetrics: $</span><span class="devsite-syntax-si">{currentWM}</span><span class="devsite-syntax-se">\n</span><span class="devsite-syntax-s2">MaximumWindowMetrics: $</span><span class="devsite-syntax-si">{maximumWM}</span><span class="devsite-syntax-s2">"</span>
<span class="devsite-syntax-p">}</span>
</code></pre></devsite-code>
<p>Get an instance of  <a href="https://developer.android.com/reference/androidx/window/layout/WindowMetricsCalculator" target="_blank"><code translate="no" dir="ltr">WindowMetricsCalculator</code></a> through its companion function <code translate="no" dir="ltr">getOrCreate()</code>.</p>
<p>Using that <code translate="no" dir="ltr">WindowMetricsCalculator</code> instance, set the information into the <code translate="no" dir="ltr">windowMetrics</code> <code translate="no" dir="ltr">TextView</code>. Use the values that the functions <code translate="no" dir="ltr">computeCurrentWindowMetrics.bounds</code> and <code translate="no" dir="ltr">computeMaximumWindowMetrics.bounds</code> return.</p>
<p>These values provide useful information about the metrics of the area the window occupies.</p>
<p>Run the app. In a dual-screen emulator (pictured below), you get the <code translate="no" dir="ltr">CurrentWindowMetrics</code> that fit with the dimensions of the  <a href="https://docs.microsoft.com/en-us/dual-screen/android/duo-dimensions" target="_blank">device that emulator mirrors</a>. You can also see the metrics when the app runs in single-screen mode:</p>
<p class="image-container"><img alt="f6f0deff678fd722.png" style="width: 624.00px" src="/static/codelabs/android-window-manager-dual-screen-foldables/img/f6f0deff678fd722.png" srcset="https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/f6f0deff678fd722_36.png 36w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/f6f0deff678fd722_48.png 48w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/f6f0deff678fd722_72.png 72w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/f6f0deff678fd722_96.png 96w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/f6f0deff678fd722_480.png 480w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/f6f0deff678fd722_720.png 720w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/f6f0deff678fd722_856.png 856w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/f6f0deff678fd722_960.png 960w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/f6f0deff678fd722_1440.png 1440w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/f6f0deff678fd722_1920.png 1920w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/f6f0deff678fd722_2880.png 2880w" sizes="(max-width: 840px) 100vw, 856px"></p>
<p>When the app is spanned across displays, the window metrics change like in the image below, so they now reflect the bigger window area used by the app:</p>
<p class="image-container"><img alt="f1ce73d7198b4990.png" style="width: 624.00px" src="/static/codelabs/android-window-manager-dual-screen-foldables/img/f1ce73d7198b4990.png" srcset="https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/f1ce73d7198b4990_36.png 36w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/f1ce73d7198b4990_48.png 48w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/f1ce73d7198b4990_72.png 72w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/f1ce73d7198b4990_96.png 96w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/f1ce73d7198b4990_480.png 480w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/f1ce73d7198b4990_720.png 720w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/f1ce73d7198b4990_856.png 856w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/f1ce73d7198b4990_960.png 960w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/f1ce73d7198b4990_1440.png 1440w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/f1ce73d7198b4990_1920.png 1920w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/f1ce73d7198b4990_2880.png 2880w" sizes="(max-width: 840px) 100vw, 856px"></p>
<p>Both the current and maximum window metrics have the same values, since the app is always running and taking the whole available display area, both on single and dual screens.</p>
<p>In a foldable emulator with a horizontal fold the values differ when the app spans the entire physical display and when the app runs in multi-window mode:</p>
<p class="image-container"><img alt="d00e53154f32d7df.png" style="width: 624.00px" src="/static/codelabs/android-window-manager-dual-screen-foldables/img/d00e53154f32d7df.png" srcset="https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/d00e53154f32d7df_36.png 36w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/d00e53154f32d7df_48.png 48w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/d00e53154f32d7df_72.png 72w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/d00e53154f32d7df_96.png 96w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/d00e53154f32d7df_480.png 480w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/d00e53154f32d7df_720.png 720w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/d00e53154f32d7df_856.png 856w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/d00e53154f32d7df_960.png 960w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/d00e53154f32d7df_1440.png 1440w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/d00e53154f32d7df_1920.png 1920w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/d00e53154f32d7df_2880.png 2880w" sizes="(max-width: 840px) 100vw, 856px"></p>
<p>As you can see in the image on the left, both metrics have the same value, since the app running is using the whole display area that is the current and maximum available.</p>
<p>But in the image on the right, with the app running in multi-window mode, you can see how the current metrics show the dimensions of the area the app is running in that specific area (top) of the split-screen mode, and you can see how the maximum metrics show the maximum display area that the device has.</p>
<p>The metrics provided by <code translate="no" dir="ltr">WindowMetricsCalculator</code> are very useful for determining the area of the window the app is using or can use.</p>


        </google-codelab-step>
      
        <google-codelab-step label="Visualize the FoldingFeature information" duration="15" step="6">
          
          <h2 class="step-title" id="6" data-text="Visualize the FoldingFeature information" tabindex="-1">
              7. Visualize the FoldingFeature information
          </h2>
          <p>Now register to receive window layout changes along with the characteristics and boundaries of the  <a href="https://developer.android.com/reference/androidx/window/layout/DisplayFeature" target="_blank"><code translate="no" dir="ltr">DisplayFeatures</code></a> of the emulator or device.</p>
<p>To collect the information from  <a href="https://developer.android.com/reference/androidx/window/layout/WindowInfoTracker#windowLayoutInfo(android.app.Activity)" target="_blank"><code translate="no" dir="ltr">WindowInfoTracker#windowLayoutInfo()</code></a>, use the  <a href="https://developer.android.com/topic/libraries/architecture/coroutines#lifecyclescope" target="_blank"><code translate="no" dir="ltr">lifecycleScope</code></a> that is defined for each  <a href="https://developer.android.com/topic/libraries/architecture/lifecycle" target="_blank"><code translate="no" dir="ltr">Lifecycle</code></a> object. Any coroutine launched in this scope is canceled when the Lifecycle is destroyed. You can access the coroutine scope of the lifecycle either via the <code translate="no" dir="ltr">lifecycle.coroutineScope</code> or <code translate="no" dir="ltr">lifecycleOwner.lifecycleScope</code> properties.</p>
<aside class="special"><p><strong>Note</strong>: If you want to know more about Kotlin coroutines and how to use them on Android, please refer to  <a href="https://developer.android.com/kotlin/coroutines" target="_blank">Kotlin coroutines on Android</a> and the  <a href="https://developer.android.com/codelabs/kotlin-coroutines" target="_blank">Android Kotlin Coroutines Codelab</a>.</p>
</aside>
<p>In the <code translate="no" dir="ltr">onCreate</code> method of the <code translate="no" dir="ltr">MainActivity</code>, call a function to get and show the <code translate="no" dir="ltr">WindowInfoTracker</code> information. Start by adding an <code translate="no" dir="ltr">onWindowLayoutInfoChange()</code> call in the <code translate="no" dir="ltr">onCreate</code> method:</p>
<h3 is-upgraded id="mainactivity.kt_4" data-text="MainActivity.kt" tabindex="-1"><a href="https://github.com/android/large-screen-codelabs/tree/main/WindowManager/app/src/main/java/com/example/codelab/windowmanager/MainActivity.kt" target="_blank">MainActivity.kt</a></h3>
<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="Transact-SQL"><code translate="no" dir="ltr"><span class="devsite-syntax-n">override</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">fun</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">onCreate</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nl">savedInstanceState</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Bundle</span><span class="devsite-syntax-vm">?</span><span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-err">{</span>
<span class="devsite-syntax-w">   </span><span class="devsite-syntax-n">super</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-n">onCreate</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">savedInstanceState</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">   </span><span class="devsite-syntax-n">binding</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">ActivityMainBinding</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-n">inflate</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">layoutInflater</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">   </span><span class="devsite-syntax-n">setContentView</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">binding</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-n">root</span><span class="devsite-syntax-p">)</span>

<span class="devsite-syntax-w">   </span><span class="devsite-syntax-n">windowInfoTracker</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">WindowInfoTracker</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-n">getOrCreate</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">this</span><span class="devsite-syntax-nv">@MainActivity</span><span class="devsite-syntax-p">)</span>

<span class="devsite-syntax-w">   </span><span class="devsite-syntax-n">obtainWindowMetrics</span><span class="devsite-syntax-p">()</span>
<span class="devsite-syntax-w">   </span><span class="devsite-syntax-n">onWindowLayoutInfoChange</span><span class="devsite-syntax-p">()</span>
<span class="devsite-syntax-err">}</span>
</code></pre></devsite-code>
<p>Use the implementation of that function to get information whenever a new layout configuration changes.</p>
<p>Define the function signature and skeleton.</p>
<h3 is-upgraded id="mainactivity.kt_5" data-text="MainActivity.kt" tabindex="-1"><a href="https://github.com/android/large-screen-codelabs/tree/main/WindowManager/app/src/main/java/com/example/codelab/windowmanager/MainActivity.kt" target="_blank">MainActivity.kt</a></h3>
<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="Text only"><code translate="no" dir="ltr">private fun onWindowLayoutInfoChange() {
}
</code></pre></devsite-code>
<p>With the parameter the function receives, a <code translate="no" dir="ltr">WindowInfoTracker</code>, get its  <a href="https://developer.android.com/reference/androidx/window/layout/WindowLayoutInfo" target="_blank"><code translate="no" dir="ltr">WindowLayoutInfo</code></a> data. <code translate="no" dir="ltr">WindowLayoutInfo</code> contains the list of  <a href="https://developer.android.com/reference/androidx/window/layout/DisplayFeature" target="_blank"><code translate="no" dir="ltr">DisplayFeature</code></a>s located within the window. For example, a hinge or display fold can go across the window, in which case it might make sense to separate the visual content and interactive elements into two groups (for example, list detail or view controls).</p>
<p>Only the features that are present within the current window bounds are reported. Their positions and sizes can change if the window is moved or resized on screen.</p>
<p>Through the <code translate="no" dir="ltr">lifecycleScope</code> defined in the <code translate="no" dir="ltr">lifecycle-runtime-ktx</code> dependency, get a  <a href="https://developer.android.com/kotlin/flow" target="_blank"><code translate="no" dir="ltr">flow</code></a>of <code translate="no" dir="ltr">WindowLayoutInfo</code> that contains a list of all display features. Add the body of <code translate="no" dir="ltr">onWindowLayoutInfoChange</code>:</p>
<h3 is-upgraded id="mainactivity.kt_6" data-text="MainActivity.kt" tabindex="-1"><a href="https://github.com/android/large-screen-codelabs/tree/main/WindowManager/app/src/main/java/com/example/codelab/windowmanager/MainActivity.kt" target="_blank">MainActivity.kt</a></h3>
<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="Python"><code translate="no" dir="ltr"><span class="devsite-syntax-kn">import</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">androidx.lifecycle.Lifecycle</span>
<span class="devsite-syntax-kn">import</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">androidx.lifecycle.lifecycleScope</span>
<span class="devsite-syntax-kn">import</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">androidx.lifecycle.repeatOnLifecycle</span>
<span class="devsite-syntax-kn">import</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">kotlinx.coroutines.Dispatchers</span>
<span class="devsite-syntax-kn">import</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">kotlinx.coroutines.flow.collect</span>
<span class="devsite-syntax-kn">import</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">kotlinx.coroutines.launch</span>

<span class="devsite-syntax-n">private</span> <span class="devsite-syntax-n">fun</span> <span class="devsite-syntax-n">onWindowLayoutInfoChange</span><span class="devsite-syntax-p">()</span> <span class="devsite-syntax-p">{</span>
    <span class="devsite-syntax-n">lifecycleScope</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">launch</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">Dispatchers</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">Main</span><span class="devsite-syntax-p">)</span> <span class="devsite-syntax-p">{</span>
        <span class="devsite-syntax-n">lifecycle</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">repeatOnLifecycle</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">Lifecycle</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">State</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">STARTED</span><span class="devsite-syntax-p">)</span> <span class="devsite-syntax-p">{</span>
            <span class="devsite-syntax-n">windowInfoTracker</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">windowLayoutInfo</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">this</span><span class="devsite-syntax-nd">@MainActivity</span><span class="devsite-syntax-p">)</span>
                <span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">collect</span> <span class="devsite-syntax-p">{</span> <span class="devsite-syntax-n">value</span> <span class="devsite-syntax-o">-</span>&gt;
                    <span class="devsite-syntax-n">updateUI</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">value</span><span class="devsite-syntax-p">)</span>
                <span class="devsite-syntax-p">}</span>
        <span class="devsite-syntax-p">}</span>
    <span class="devsite-syntax-p">}</span>
<span class="devsite-syntax-p">}</span>
</code></pre></devsite-code>
<p>The <code translate="no" dir="ltr">updateUI</code> function is being called from <code translate="no" dir="ltr">collect</code> . Implement this function to show and print the information received from the <code translate="no" dir="ltr">flow</code> of <code translate="no" dir="ltr">WindowLayoutInfo</code>. Check whether the <code translate="no" dir="ltr">WindowLayoutInfo</code> data has display features. If so, then the display feature is interacting somehow with the app&#39;s UI. If the <code translate="no" dir="ltr">WindowLayoutInfo</code> data does not have any display features, then the app is running in a single-screen device or mode or in multi-window mode.</p>
<h3 is-upgraded id="mainactivity.kt_7" data-text="MainActivity.kt" tabindex="-1"><a href="https://github.com/android/large-screen-codelabs/tree/main/WindowManager/app/src/main/java/com/example/codelab/windowmanager/MainActivity.kt" target="_blank">MainActivity.kt</a></h3>
<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="Python"><code translate="no" dir="ltr"><span class="devsite-syntax-kn">import</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">androidx.window.layout.WindowLayoutInfo</span>

<span class="devsite-syntax-n">private</span> <span class="devsite-syntax-n">fun</span> <span class="devsite-syntax-n">updateUI</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">newLayoutInfo</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-n">WindowLayoutInfo</span><span class="devsite-syntax-p">)</span> <span class="devsite-syntax-p">{</span>
    <span class="devsite-syntax-n">binding</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">layoutChange</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">text</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">newLayoutInfo</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">toString</span><span class="devsite-syntax-p">()</span>
    <span class="devsite-syntax-k">if</span> <span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">newLayoutInfo</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">displayFeatures</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">isNotEmpty</span><span class="devsite-syntax-p">())</span> <span class="devsite-syntax-p">{</span>
        <span class="devsite-syntax-n">binding</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">configurationChanged</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">text</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-s2">"Spanned across displays"</span>
    <span class="devsite-syntax-p">}</span> <span class="devsite-syntax-k">else</span> <span class="devsite-syntax-p">{</span>
        <span class="devsite-syntax-n">binding</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">configurationChanged</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">text</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-s2">"One logic/physical display - unspanned"</span>
    <span class="devsite-syntax-p">}</span>
<span class="devsite-syntax-p">}</span>
</code></pre></devsite-code>
<p>Run the app. In a dual-screen emulator, you have:</p>
<p class="image-container"><img alt="a6f6452155742925.png" style="width: 624.00px" src="/static/codelabs/android-window-manager-dual-screen-foldables/img/a6f6452155742925.png" srcset="https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/a6f6452155742925_36.png 36w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/a6f6452155742925_48.png 48w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/a6f6452155742925_72.png 72w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/a6f6452155742925_96.png 96w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/a6f6452155742925_480.png 480w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/a6f6452155742925_720.png 720w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/a6f6452155742925_856.png 856w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/a6f6452155742925_960.png 960w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/a6f6452155742925_1440.png 1440w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/a6f6452155742925_1920.png 1920w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/a6f6452155742925_2880.png 2880w" sizes="(max-width: 840px) 100vw, 856px"></p>
<p><code translate="no" dir="ltr">WindowLayoutInfo</code> is empty. It has an empty <code translate="no" dir="ltr">List&lt;DisplayFeature&gt;</code>. But if you have an emulator with a hinge in the middle, why don&#39;t you get the information from WindowManager?</p>
<p>WindowManager (through <code translate="no" dir="ltr">WindowInfoTracker</code>) will provide the <code translate="no" dir="ltr">WindowLayoutInfo</code> data (device feature type, device feature boundaries, and device posture) just when the app is spanned across displays (physical or not). So in the previous figure, where the app runs on single screen mode, <code translate="no" dir="ltr">WindowLayoutInfo</code> is empty.</p>
<p>Having that information, you know in which mode the app is running (single screen mode or spanned across displays), so you can then make changes in your UI/UX, providing a better user experience that&#39;s adapted to these specific configurations.</p>
<p>On devices that don&#39;t have two physical displays (they don&#39;t usually have a physical hinge) apps can run side by side using multi-window mode. On these devices, when the app runs in multi-window mode, the app will act as it would on a single screen like in the previous example. And when the app runs occupying all logic displays, it will act the same as when the app is spanned. See the next figure:</p>
<p class="image-container"><img alt="eacdd758eefb6c3c.png" style="width: 318.12px" src="/static/codelabs/android-window-manager-dual-screen-foldables/img/eacdd758eefb6c3c.png" srcset="https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/eacdd758eefb6c3c_36.png 36w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/eacdd758eefb6c3c_48.png 48w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/eacdd758eefb6c3c_72.png 72w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/eacdd758eefb6c3c_96.png 96w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/eacdd758eefb6c3c_480.png 480w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/eacdd758eefb6c3c_720.png 720w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/eacdd758eefb6c3c_856.png 856w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/eacdd758eefb6c3c_960.png 960w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/eacdd758eefb6c3c_1440.png 1440w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/eacdd758eefb6c3c_1920.png 1920w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/eacdd758eefb6c3c_2880.png 2880w" sizes="(max-width: 840px) 100vw, 856px"></p>
<p>When the app runs in multi-window mode, WindowManager provides an empty <code translate="no" dir="ltr">List&lt;LayoutInfo&gt;</code>.</p>
<p>In summary, you get <code translate="no" dir="ltr">WindowLayoutInfo</code> data just when the app runs occupying all logic displays, intersecting the device feature (fold or hinge). In all other cases,  you don&#39;t get any information. <img alt="32e4190913b452e4.png" style="width: 624.00px" src="/static/codelabs/android-window-manager-dual-screen-foldables/img/32e4190913b452e4.png" srcset="https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/32e4190913b452e4_36.png 36w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/32e4190913b452e4_48.png 48w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/32e4190913b452e4_72.png 72w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/32e4190913b452e4_96.png 96w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/32e4190913b452e4_480.png 480w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/32e4190913b452e4_720.png 720w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/32e4190913b452e4_856.png 856w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/32e4190913b452e4_960.png 960w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/32e4190913b452e4_1440.png 1440w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/32e4190913b452e4_1920.png 1920w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/32e4190913b452e4_2880.png 2880w" sizes="(max-width: 840px) 100vw, 856px"></p>
<p>What happens when you span the app across displays? In a dual-screen emulator, <code translate="no" dir="ltr">WindowLayoutInfo</code> will have a <code translate="no" dir="ltr">FoldingFeature</code> object that provides data about the device feature: a <code translate="no" dir="ltr">HINGE</code>, the boundaries of that feature ( <a href="https://developer.android.com/reference/android/graphics/Rect" target="_blank"><code translate="no" dir="ltr">Rect</code></a> (0, 0 - 1434, 1800)), and the posture (state) of the device (<code translate="no" dir="ltr">FLAT</code>).</p>
<p class="image-container"><img alt="586f15def7d23ffd.png" style="width: 624.00px" src="/static/codelabs/android-window-manager-dual-screen-foldables/img/586f15def7d23ffd.png" srcset="https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/586f15def7d23ffd_36.png 36w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/586f15def7d23ffd_48.png 48w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/586f15def7d23ffd_72.png 72w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/586f15def7d23ffd_96.png 96w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/586f15def7d23ffd_480.png 480w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/586f15def7d23ffd_720.png 720w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/586f15def7d23ffd_856.png 856w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/586f15def7d23ffd_960.png 960w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/586f15def7d23ffd_1440.png 1440w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/586f15def7d23ffd_1920.png 1920w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/586f15def7d23ffd_2880.png 2880w" sizes="(max-width: 840px) 100vw, 856px"></p>
<p>Let&#39;s see what each field means:</p>
<ul>
<li><code translate="no" dir="ltr">type = TYPE_HINGE</code>: This dual-screen emulator mirrors a real Surface Duo device that has a physical hinge, and this is what WindowManager reports.</li>
<li><a href="https://developer.android.com/reference/kotlin/androidx/window/layout/DisplayFeature#bounds()" target="_blank"><code translate="no" dir="ltr">Bounds</code></a> [0, 0 - 1434, 1800]: Represents the bounding rectangle of the feature within the application window in the window coordinate space. If you read the  <a href="https://docs.microsoft.com/en-us/dual-screen/android/duo-dimensions" target="_blank">dimensions specs of the Surface Duo</a> device, you&#39;ll see that the hinge is located at the exact position reported by these bounds (left, top, right, bottom).</li>
<li><a href="https://developer.android.com/reference/androidx/window/layout/FoldingFeature.State" target="_blank"><code translate="no" dir="ltr">State</code></a>: There are two different values that represent the device posture (state) of the device.</li>
<li><a href="https://developer.android.com/reference/androidx/window/layout/FoldingFeature.State#HALF_OPENED()" target="_blank"><code translate="no" dir="ltr">HALF_OPENED</code></a>: The foldable device&#39;s hinge is in an intermediate position between opened and closed state, and there is a non-flat angle between parts of the flexible screen or between physical screen panels.</li>
<li><a href="https://developer.android.com/reference/androidx/window/layout/FoldingFeature.State#FLAT()" target="_blank"><code translate="no" dir="ltr">FLAT</code></a>: The foldable device is completely open, and the screen space that is presented to the user is flat.</li>
</ul>
<p>The emulator by default is open at 180 degrees, so the posture that WindowManager returns is <code translate="no" dir="ltr">FLAT</code>.</p>
<p>If you change the posture of the emulator using the Virtual sensors option to the Half-Open posture, WindowManager will notify you about the new position: <code translate="no" dir="ltr">HALF_OPENED</code>.</p>
<p class="image-container"><img alt="cba02ab39d6d346b.png" style="width: 624.00px" src="/static/codelabs/android-window-manager-dual-screen-foldables/img/cba02ab39d6d346b.png" srcset="https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/cba02ab39d6d346b_36.png 36w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/cba02ab39d6d346b_48.png 48w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/cba02ab39d6d346b_72.png 72w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/cba02ab39d6d346b_96.png 96w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/cba02ab39d6d346b_480.png 480w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/cba02ab39d6d346b_720.png 720w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/cba02ab39d6d346b_856.png 856w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/cba02ab39d6d346b_960.png 960w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/cba02ab39d6d346b_1440.png 1440w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/cba02ab39d6d346b_1920.png 1920w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/cba02ab39d6d346b_2880.png 2880w" sizes="(max-width: 840px) 100vw, 856px"></p>
<h2 is-upgraded id="using-windowmanager-to-adapt-your-uiux" data-text="Using WindowManager to adapt your UI/UX" tabindex="-1">Using WindowManager to adapt your UI/UX</h2>
<p>As seen in the figures showing the window layout information, the information shown was cut by the display feature, the same happens here:</p>
<p class="image-container"><img alt="ff2caf93916f1682.png" style="width: 624.00px" src="/static/codelabs/android-window-manager-dual-screen-foldables/img/ff2caf93916f1682.png" srcset="https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/ff2caf93916f1682_36.png 36w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/ff2caf93916f1682_48.png 48w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/ff2caf93916f1682_72.png 72w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/ff2caf93916f1682_96.png 96w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/ff2caf93916f1682_480.png 480w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/ff2caf93916f1682_720.png 720w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/ff2caf93916f1682_856.png 856w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/ff2caf93916f1682_960.png 960w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/ff2caf93916f1682_1440.png 1440w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/ff2caf93916f1682_1920.png 1920w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/ff2caf93916f1682_2880.png 2880w" sizes="(max-width: 840px) 100vw, 856px"></p>
<p>This is not an optimal user experience. You can use the information that WindowManager provides in order to adjust your UI/UX.</p>
<p>As you have seen before, when your app is spanned across all different display regions is also when your app intersects with the device feature, so WindowManager provides window layout Information as display state and display boundaries. So here, when the app is spanned, is when you need to use that information and adjust your UI/UX.</p>
<p>What you are going to do then is to adjust the UI/UX you currently have at runtime when your app is spanned so no important information is cut off or hidden by the display feature. You&#39;ll create a view that mirrors the device&#39;s display feature and will be used as a reference to constrain the <code translate="no" dir="ltr">TextView</code> that is cut off or hidden, so you don&#39;t have missing information anymore.</p>
<p>For learning purposes, color this new view, so it can be easily seen that it is located specifically in the same place the real device display feature is located and with its same dimensions.</p>
<p>Add the new view that you will use as device feature reference in <code translate="no" dir="ltr">activity_main.xml</code>:</p>
<h3 is-upgraded id="activity_main.xml_1" data-text="activity_main.xml" tabindex="-1"><a href="https://github.com/android/large-screen-codelabs/tree/main/WindowManager/app/src/main/res/layout/activity_main.xml" target="_blank">activity_main.xml</a></h3>
<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="GDScript"><code translate="no" dir="ltr">&lt;<span class="devsite-syntax-o">!--</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">It</span><span class="devsite-syntax-s1">'s not important where this view is placed by default, it will be positioned dynamically at runtime --</span>&gt;
&lt;<span class="devsite-syntax-n">View</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-n">android</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-n">id</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-s2">"@+id/folding_feature"</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-n">android</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-n">layout_width</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-s2">"0dp"</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-n">android</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-n">layout_height</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-s2">"0dp"</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-n">android</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-n">background</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-s2">"@android:color/holo_red_dark"</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-n">android</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-n">visibility</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-s2">"gone"</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-n">tools</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-n">ignore</span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-s2">"MissingConstraints"</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">/</span>&gt;
</code></pre></devsite-code>
<p>In <code translate="no" dir="ltr">MainActivity.kt</code>, go to the <code translate="no" dir="ltr">updateUI()</code> function you used to display the information from a given <code translate="no" dir="ltr">WindowLayoutInfo</code>, and add a new function call in the if-else case where you had a display feature:</p>
<h3 is-upgraded id="mainactivity.kt_8" data-text="MainActivity.kt" tabindex="-1"><a href="https://github.com/android/large-screen-codelabs/tree/main/WindowManager/app/src/main/java/com/example/codelab/windowmanager/MainActivity.kt" target="_blank">MainActivity.kt</a></h3>
<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="Text only"><code translate="no" dir="ltr">private fun updateUI(newLayoutInfo: WindowLayoutInfo) {
   binding.layoutChange.text = newLayoutInfo.toString()
   if (newLayoutInfo.displayFeatures.isNotEmpty()) {
       binding.configurationChanged.text = "Spanned across displays"
       alignViewToFoldingFeatureBounds(newLayoutInfo)
   } else {
       binding.configurationChanged.text = "One logic/physical display - unspanned"
   }
}
</code></pre></devsite-code>
<p>You have added the function <code translate="no" dir="ltr">alignViewToFoldingFeatureBounds</code> that receives as a parameter the <code translate="no" dir="ltr">WindowLayoutInfo</code>.</p>
<p>Create that function. Inside the function, create your <a href="https://developer.android.com/reference/androidx/constraintlayout/widget/ConstraintSet" target="_blank"><code translate="no" dir="ltr">ConstraintSet</code></a> in order to apply new constraints to your views. Then, get the display feature boundaries using the <code translate="no" dir="ltr">WindowLayoutInfo</code>. Since <code translate="no" dir="ltr">WindowLayoutInfo</code> returns a list of <code translate="no" dir="ltr">DisplayFeature</code> that is just an interface, cast it to <code translate="no" dir="ltr">FoldingFeature</code> in order to get access to all the information:</p>
<h3 is-upgraded id="mainactivity.kt_9" data-text="MainActivity.kt" tabindex="-1"><a href="https://github.com/android/large-screen-codelabs/tree/main/WindowManager/app/src/main/java/com/example/codelab/windowmanager/MainActivity.kt" target="_blank">MainActivity.kt</a></h3>
<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="Python"><code translate="no" dir="ltr"><span class="devsite-syntax-kn">import</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">androidx.constraintlayout.widget.ConstraintSet</span>
<span class="devsite-syntax-kn">import</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">androidx.window.layout.FoldingFeature</span>

<span class="devsite-syntax-n">private</span> <span class="devsite-syntax-n">fun</span> <span class="devsite-syntax-n">alignViewToFoldingFeatureBounds</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">newLayoutInfo</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-n">WindowLayoutInfo</span><span class="devsite-syntax-p">)</span> <span class="devsite-syntax-p">{</span>
   <span class="devsite-syntax-n">val</span> <span class="devsite-syntax-n">constraintLayout</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">binding</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">constraintLayout</span>
   <span class="devsite-syntax-n">val</span> <span class="devsite-syntax-nb">set</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">ConstraintSet</span><span class="devsite-syntax-p">()</span>
   <span class="devsite-syntax-nb">set</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">clone</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">constraintLayout</span><span class="devsite-syntax-p">)</span>

   <span class="devsite-syntax-o">//</span> <span class="devsite-syntax-n">Get</span> <span class="devsite-syntax-ow">and</span> <span class="devsite-syntax-n">translate</span> <span class="devsite-syntax-n">the</span> <span class="devsite-syntax-n">feature</span> <span class="devsite-syntax-n">bounds</span> <span class="devsite-syntax-n">to</span> <span class="devsite-syntax-n">the</span> <span class="devsite-syntax-n">View</span><span class="devsite-syntax-s1">'s coordinate space and current</span>
   <span class="devsite-syntax-o">//</span> <span class="devsite-syntax-n">position</span> <span class="devsite-syntax-ow">in</span> <span class="devsite-syntax-n">the</span> <span class="devsite-syntax-n">window</span><span class="devsite-syntax-o">.</span>
   <span class="devsite-syntax-n">val</span> <span class="devsite-syntax-n">foldingFeature</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">newLayoutInfo</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">displayFeatures</span><span class="devsite-syntax-p">[</span><span class="devsite-syntax-mi">0</span><span class="devsite-syntax-p">]</span> <span class="devsite-syntax-k">as</span> <span class="devsite-syntax-n">FoldingFeature</span>
   <span class="devsite-syntax-n">val</span> <span class="devsite-syntax-n">bounds</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">getFeatureBoundsInWindow</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">foldingFeature</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">binding</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">root</span><span class="devsite-syntax-p">)</span>


   <span class="devsite-syntax-o">//</span> <span class="devsite-syntax-n">Rest</span> <span class="devsite-syntax-n">of</span> <span class="devsite-syntax-n">the</span> <span class="devsite-syntax-n">code</span> <span class="devsite-syntax-n">to</span> <span class="devsite-syntax-n">be</span> <span class="devsite-syntax-n">added</span> <span class="devsite-syntax-ow">in</span> <span class="devsite-syntax-n">the</span> <span class="devsite-syntax-n">following</span> <span class="devsite-syntax-n">steps</span>
<span class="devsite-syntax-p">}</span>
</code></pre></devsite-code>
<p>Define a <code translate="no" dir="ltr">getFeatureBoundsInWindow()</code>function to translate the feature bounds to the view&#39;s coordinate space and current position in the window.</p>
<h3 is-upgraded id="mainactivity.kt_10" data-text="MainActivity.kt" tabindex="-1"><a href="https://github.com/android/large-screen-codelabs/tree/main/WindowManager/app/src/main/java/com/example/codelab/windowmanager/MainActivity.kt" target="_blank">MainActivity.kt</a></h3>
<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="Python"><code translate="no" dir="ltr"><span class="devsite-syntax-kn">import</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">android.graphics.Rect</span>
<span class="devsite-syntax-kn">import</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">android.view.View</span>
<span class="devsite-syntax-kn">import</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">androidx.window.layout.DisplayFeature</span>

<span class="devsite-syntax-o">/**</span>
 <span class="devsite-syntax-o">*</span> <span class="devsite-syntax-n">Get</span> <span class="devsite-syntax-n">the</span> <span class="devsite-syntax-n">bounds</span> <span class="devsite-syntax-n">of</span> <span class="devsite-syntax-n">the</span> <span class="devsite-syntax-n">display</span> <span class="devsite-syntax-n">feature</span> <span class="devsite-syntax-n">translated</span> <span class="devsite-syntax-n">to</span> <span class="devsite-syntax-n">the</span> <span class="devsite-syntax-n">View</span><span class="devsite-syntax-s1">'s coordinate space and current</span>
 <span class="devsite-syntax-o">*</span> <span class="devsite-syntax-n">position</span> <span class="devsite-syntax-ow">in</span> <span class="devsite-syntax-n">the</span> <span class="devsite-syntax-n">window</span><span class="devsite-syntax-o">.</span> <span class="devsite-syntax-n">This</span> <span class="devsite-syntax-n">will</span> <span class="devsite-syntax-n">also</span> <span class="devsite-syntax-n">include</span> <span class="devsite-syntax-n">view</span> <span class="devsite-syntax-n">padding</span> <span class="devsite-syntax-ow">in</span> <span class="devsite-syntax-n">the</span> <span class="devsite-syntax-n">calculations</span><span class="devsite-syntax-o">.</span>
 <span class="devsite-syntax-o">*/</span>
<span class="devsite-syntax-n">private</span> <span class="devsite-syntax-n">fun</span> <span class="devsite-syntax-n">getFeatureBoundsInWindow</span><span class="devsite-syntax-p">(</span>
    <span class="devsite-syntax-n">displayFeature</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-n">DisplayFeature</span><span class="devsite-syntax-p">,</span>
    <span class="devsite-syntax-n">view</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-n">View</span><span class="devsite-syntax-p">,</span>
    <span class="devsite-syntax-n">includePadding</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-n">Boolean</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">true</span>
<span class="devsite-syntax-p">):</span> <span class="devsite-syntax-n">Rect</span><span class="devsite-syntax-err">?</span> <span class="devsite-syntax-p">{</span>
    <span class="devsite-syntax-o">//</span> <span class="devsite-syntax-n">Adjust</span> <span class="devsite-syntax-n">the</span> <span class="devsite-syntax-n">location</span> <span class="devsite-syntax-n">of</span> <span class="devsite-syntax-n">the</span> <span class="devsite-syntax-n">view</span> <span class="devsite-syntax-ow">in</span> <span class="devsite-syntax-n">the</span> <span class="devsite-syntax-n">window</span> <span class="devsite-syntax-n">to</span> <span class="devsite-syntax-n">be</span> <span class="devsite-syntax-ow">in</span> <span class="devsite-syntax-n">the</span> <span class="devsite-syntax-n">same</span> <span class="devsite-syntax-n">coordinate</span> <span class="devsite-syntax-n">space</span> <span class="devsite-syntax-k">as</span> <span class="devsite-syntax-n">the</span> <span class="devsite-syntax-n">feature</span><span class="devsite-syntax-o">.</span>
    <span class="devsite-syntax-n">val</span> <span class="devsite-syntax-n">viewLocationInWindow</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">IntArray</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-mi">2</span><span class="devsite-syntax-p">)</span>
    <span class="devsite-syntax-n">view</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">getLocationInWindow</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">viewLocationInWindow</span><span class="devsite-syntax-p">)</span>

    <span class="devsite-syntax-o">//</span> <span class="devsite-syntax-n">Intersect</span> <span class="devsite-syntax-n">the</span> <span class="devsite-syntax-n">feature</span> <span class="devsite-syntax-n">rectangle</span> <span class="devsite-syntax-ow">in</span> <span class="devsite-syntax-n">window</span> <span class="devsite-syntax-k">with</span> <span class="devsite-syntax-n">view</span> <span class="devsite-syntax-n">rectangle</span> <span class="devsite-syntax-n">to</span> <span class="devsite-syntax-n">clip</span> <span class="devsite-syntax-n">the</span> <span class="devsite-syntax-n">bounds</span><span class="devsite-syntax-o">.</span>
    <span class="devsite-syntax-n">val</span> <span class="devsite-syntax-n">viewRect</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">Rect</span><span class="devsite-syntax-p">(</span>
        <span class="devsite-syntax-n">viewLocationInWindow</span><span class="devsite-syntax-p">[</span><span class="devsite-syntax-mi">0</span><span class="devsite-syntax-p">],</span> <span class="devsite-syntax-n">viewLocationInWindow</span><span class="devsite-syntax-p">[</span><span class="devsite-syntax-mi">1</span><span class="devsite-syntax-p">],</span>
        <span class="devsite-syntax-n">viewLocationInWindow</span><span class="devsite-syntax-p">[</span><span class="devsite-syntax-mi">0</span><span class="devsite-syntax-p">]</span> <span class="devsite-syntax-o">+</span> <span class="devsite-syntax-n">view</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">width</span><span class="devsite-syntax-p">,</span> <span class="devsite-syntax-n">viewLocationInWindow</span><span class="devsite-syntax-p">[</span><span class="devsite-syntax-mi">1</span><span class="devsite-syntax-p">]</span> <span class="devsite-syntax-o">+</span> <span class="devsite-syntax-n">view</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">height</span>
    <span class="devsite-syntax-p">)</span>

    <span class="devsite-syntax-o">//</span> <span class="devsite-syntax-n">Include</span> <span class="devsite-syntax-n">padding</span> <span class="devsite-syntax-k">if</span> <span class="devsite-syntax-n">needed</span>
    <span class="devsite-syntax-k">if</span> <span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">includePadding</span><span class="devsite-syntax-p">)</span> <span class="devsite-syntax-p">{</span>
        <span class="devsite-syntax-n">viewRect</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">left</span> <span class="devsite-syntax-o">+=</span> <span class="devsite-syntax-n">view</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">paddingLeft</span>
        <span class="devsite-syntax-n">viewRect</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">top</span> <span class="devsite-syntax-o">+=</span> <span class="devsite-syntax-n">view</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">paddingTop</span>
        <span class="devsite-syntax-n">viewRect</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">right</span> <span class="devsite-syntax-o">-=</span> <span class="devsite-syntax-n">view</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">paddingRight</span>
        <span class="devsite-syntax-n">viewRect</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">bottom</span> <span class="devsite-syntax-o">-=</span> <span class="devsite-syntax-n">view</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">paddingBottom</span>
    <span class="devsite-syntax-p">}</span>

    <span class="devsite-syntax-n">val</span> <span class="devsite-syntax-n">featureRectInView</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">Rect</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">displayFeature</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">bounds</span><span class="devsite-syntax-p">)</span>
    <span class="devsite-syntax-n">val</span> <span class="devsite-syntax-n">intersects</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">featureRectInView</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">intersect</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">viewRect</span><span class="devsite-syntax-p">)</span>

    <span class="devsite-syntax-o">//</span> <span class="devsite-syntax-n">Checks</span> <span class="devsite-syntax-n">to</span> <span class="devsite-syntax-n">see</span> <span class="devsite-syntax-k">if</span> <span class="devsite-syntax-n">the</span> <span class="devsite-syntax-n">display</span> <span class="devsite-syntax-n">feature</span> <span class="devsite-syntax-n">overlaps</span> <span class="devsite-syntax-k">with</span> <span class="devsite-syntax-n">our</span> <span class="devsite-syntax-n">view</span> <span class="devsite-syntax-n">at</span> <span class="devsite-syntax-nb">all</span>
    <span class="devsite-syntax-k">if</span> <span class="devsite-syntax-p">((</span><span class="devsite-syntax-n">featureRectInView</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">width</span><span class="devsite-syntax-p">()</span> <span class="devsite-syntax-o">==</span> <span class="devsite-syntax-mi">0</span> &amp;&amp; <span class="devsite-syntax-n">featureRectInView</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">height</span><span class="devsite-syntax-p">()</span> <span class="devsite-syntax-o">==</span> <span class="devsite-syntax-mi">0</span><span class="devsite-syntax-p">)</span> <span class="devsite-syntax-o">||</span>
        <span class="devsite-syntax-err">!</span><span class="devsite-syntax-n">intersects</span>
    <span class="devsite-syntax-p">)</span> <span class="devsite-syntax-p">{</span>
        <span class="devsite-syntax-k">return</span> <span class="devsite-syntax-n">null</span>
    <span class="devsite-syntax-p">}</span>

    <span class="devsite-syntax-o">//</span> <span class="devsite-syntax-n">Offset</span> <span class="devsite-syntax-n">the</span> <span class="devsite-syntax-n">feature</span> <span class="devsite-syntax-n">coordinates</span> <span class="devsite-syntax-n">to</span> <span class="devsite-syntax-n">view</span> <span class="devsite-syntax-n">coordinate</span> <span class="devsite-syntax-n">space</span> <span class="devsite-syntax-n">start</span> <span class="devsite-syntax-n">point</span>
    <span class="devsite-syntax-n">featureRectInView</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">offset</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-o">-</span><span class="devsite-syntax-n">viewLocationInWindow</span><span class="devsite-syntax-p">[</span><span class="devsite-syntax-mi">0</span><span class="devsite-syntax-p">],</span> <span class="devsite-syntax-o">-</span><span class="devsite-syntax-n">viewLocationInWindow</span><span class="devsite-syntax-p">[</span><span class="devsite-syntax-mi">1</span><span class="devsite-syntax-p">])</span>

    <span class="devsite-syntax-k">return</span> <span class="devsite-syntax-n">featureRectInView</span>
<span class="devsite-syntax-p">}</span>
</code></pre></devsite-code>
<p>With the information about the boundaries of the display feature, you can use it to set the correct height size for your reference view and move it accordingly.</p>
<p>The complete code for <code translate="no" dir="ltr">alignViewToFoldingFeatureBounds</code> will be:</p>
<h3 is-upgraded id="mainactivity.kt---alignviewtofoldingfeaturebounds" data-text="MainActivity.kt - alignViewToFoldingFeatureBounds" tabindex="-1"><a href="https://github.com/android/large-screen-codelabs/tree/main/WindowManager/app/src/main/java/com/example/codelab/windowmanager/MainActivity.kt" target="_blank">MainActivity.kt</a> - alignViewToFoldingFeatureBounds</h3>
<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="GDScript"><code translate="no" dir="ltr"><span class="devsite-syntax-n">private</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">fun</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">alignViewToFoldingFeatureBounds</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">newLayoutInfo</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">WindowLayoutInfo</span><span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-n">val</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">constraintLayout</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">binding</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">constraintLayout</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-n">val</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">set</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">ConstraintSet</span><span class="devsite-syntax-p">()</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-n">set</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">clone</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">constraintLayout</span><span class="devsite-syntax-p">)</span>

<span class="devsite-syntax-w">    </span><span class="devsite-syntax-o">//</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Get</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-ow">and</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Translate</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">the</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">feature</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">bounds</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">to</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">the</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">View</span><span class="devsite-syntax-s1">'s coordinate space and current</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-o">//</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">position</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-ow">in</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">the</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">window</span><span class="devsite-syntax-o">.</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-n">val</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">foldingFeature</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">newLayoutInfo</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">displayFeatures</span><span class="devsite-syntax-p">[</span><span class="devsite-syntax-mi">0</span><span class="devsite-syntax-p">]</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-k">as</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">FoldingFeature</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-n">val</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">bounds</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">getFeatureBoundsInWindow</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">foldingFeature</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">binding</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">root</span><span class="devsite-syntax-p">)</span>

<span class="devsite-syntax-w">    </span><span class="devsite-syntax-n">bounds</span><span class="devsite-syntax-err">?</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">let</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">rect</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">-</span>&gt;
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-o">//</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Some</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">devices</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">have</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">a</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-mi">0</span><span class="devsite-syntax-n">px</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">width</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">folding</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">feature</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">We</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">set</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">a</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">minimum</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">of</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-mi">1</span><span class="devsite-syntax-n">px</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">so</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">we</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-o">//</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">can</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">show</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">the</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">view</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">that</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">mirrors</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">the</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">folding</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">feature</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-ow">in</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">the</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">UI</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-ow">and</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">use</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">it</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-k">as</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">reference</span><span class="devsite-syntax-o">.</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-n">val</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">horizontalFoldingFeatureHeight</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">rect</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">bottom</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">-</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">rect</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">top</span><span class="devsite-syntax-p">)</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">coerceAtLeast</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-mi">1</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-n">val</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">verticalFoldingFeatureWidth</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">rect</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">right</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">-</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">rect</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">left</span><span class="devsite-syntax-p">)</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">coerceAtLeast</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-mi">1</span><span class="devsite-syntax-p">)</span>

<span class="devsite-syntax-w">        </span><span class="devsite-syntax-o">//</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Sets</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">the</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">view</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">to</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-k">match</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">the</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">height</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-ow">and</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">width</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">of</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">the</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">folding</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">feature</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-n">set</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">constrainHeight</span><span class="devsite-syntax-p">(</span>
<span class="devsite-syntax-w">            </span><span class="devsite-syntax-n">R</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">id</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">folding_feature</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">            </span><span class="devsite-syntax-n">horizontalFoldingFeatureHeight</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-n">set</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">constrainWidth</span><span class="devsite-syntax-p">(</span>
<span class="devsite-syntax-w">            </span><span class="devsite-syntax-n">R</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">id</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">folding_feature</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">            </span><span class="devsite-syntax-n">verticalFoldingFeatureWidth</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-p">)</span>

<span class="devsite-syntax-w">        </span><span class="devsite-syntax-n">set</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">connect</span><span class="devsite-syntax-p">(</span>
<span class="devsite-syntax-w">            </span><span class="devsite-syntax-n">R</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">id</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">folding_feature</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">ConstraintSet</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">START</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">            </span><span class="devsite-syntax-n">ConstraintSet</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">PARENT_ID</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">ConstraintSet</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">START</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-mi">0</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-n">set</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">connect</span><span class="devsite-syntax-p">(</span>
<span class="devsite-syntax-w">            </span><span class="devsite-syntax-n">R</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">id</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">folding_feature</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">ConstraintSet</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">TOP</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">            </span><span class="devsite-syntax-n">ConstraintSet</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">PARENT_ID</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">ConstraintSet</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">TOP</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-mi">0</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-p">)</span>

<span class="devsite-syntax-w">        </span><span class="devsite-syntax-k">if</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">foldingFeature</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">orientation</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">==</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">FoldingFeature</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">Orientation</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">VERTICAL</span><span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">            </span><span class="devsite-syntax-n">set</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">setMargin</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">R</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">id</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">folding_feature</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">ConstraintSet</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">START</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">rect</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">left</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">            </span><span class="devsite-syntax-n">set</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">connect</span><span class="devsite-syntax-p">(</span>
<span class="devsite-syntax-w">                </span><span class="devsite-syntax-n">R</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">id</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">layout_change</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">ConstraintSet</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">END</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">                </span><span class="devsite-syntax-n">R</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">id</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">folding_feature</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">ConstraintSet</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">START</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-mi">0</span>
<span class="devsite-syntax-w">            </span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-p">}</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-k">else</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">            </span><span class="devsite-syntax-o">//</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">FoldingFeature</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-k">is</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Horizontal</span>
<span class="devsite-syntax-w">            </span><span class="devsite-syntax-n">set</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">setMargin</span><span class="devsite-syntax-p">(</span>
<span class="devsite-syntax-w">                </span><span class="devsite-syntax-n">R</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">id</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">folding_feature</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">ConstraintSet</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">TOP</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">                </span><span class="devsite-syntax-n">rect</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">top</span>
<span class="devsite-syntax-w">            </span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">            </span><span class="devsite-syntax-n">set</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">connect</span><span class="devsite-syntax-p">(</span>
<span class="devsite-syntax-w">                </span><span class="devsite-syntax-n">R</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">id</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">layout_change</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">ConstraintSet</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">TOP</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">                </span><span class="devsite-syntax-n">R</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">id</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">folding_feature</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">ConstraintSet</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">BOTTOM</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-mi">0</span>
<span class="devsite-syntax-w">            </span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-p">}</span>

<span class="devsite-syntax-w">        </span><span class="devsite-syntax-o">//</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Set</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">the</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">view</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">to</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">visible</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-ow">and</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">apply</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">constraints</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-n">set</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">setVisibility</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">R</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">id</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">folding_feature</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">View</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">VISIBLE</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-n">set</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">applyTo</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">constraintLayout</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-p">}</span>
<span class="devsite-syntax-p">}</span>
</code></pre></devsite-code>
<aside class="special"><p><strong>Note</strong>: Since <strong>some foldable devices have a 0px width/height display feature</strong> (depending on whether the device is horizontal or vertical), do a small adjustment in order to make the reference view visible and to constrain other views around it. Hence, set a minimum of 1px for the reference view width and height</p>
</aside>
<p>Now the <code translate="no" dir="ltr">TextView</code> that conflicted with the device display feature takes into consideration where the feature is located, so its content is never cut off or hidden:</p>
<p class="image-container"><img alt="67b41810704d0011.png" style="width: 624.00px" src="/static/codelabs/android-window-manager-dual-screen-foldables/img/67b41810704d0011.png" srcset="https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/67b41810704d0011_36.png 36w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/67b41810704d0011_48.png 48w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/67b41810704d0011_72.png 72w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/67b41810704d0011_96.png 96w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/67b41810704d0011_480.png 480w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/67b41810704d0011_720.png 720w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/67b41810704d0011_856.png 856w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/67b41810704d0011_960.png 960w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/67b41810704d0011_1440.png 1440w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/67b41810704d0011_1920.png 1920w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/67b41810704d0011_2880.png 2880w" sizes="(max-width: 840px) 100vw, 856px"></p>
<p>In the dual-screen emulator (above, left), you can see how the <code translate="no" dir="ltr">TextView</code> that displayed the content across displays and that was cut off by the hinge is not cut off anymore, so there is no missing information.</p>
<p>In a foldable emulator (above, right), you&#39;ll see a light red line that represents where the fold display feature is located, and the <code translate="no" dir="ltr">TextView</code> has been placed now below the feature. So when the device is folded (for example, 90 degrees in a laptop posture), no information is affected by the feature.</p>
<p>If you are wondering where the display feature is on the dual-screen emulator (since this is a hinge-type device), the view that represents the feature is hidden by the hinge. But if the app changes from span to unspan, you&#39;ll see it in the same position as the feature with the correct height and width.</p>
<p class="image-container"><img alt="1a309ab775c49a6a.png" style="width: 624.00px" src="/static/codelabs/android-window-manager-dual-screen-foldables/img/1a309ab775c49a6a.png" srcset="https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/1a309ab775c49a6a_36.png 36w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/1a309ab775c49a6a_48.png 48w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/1a309ab775c49a6a_72.png 72w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/1a309ab775c49a6a_96.png 96w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/1a309ab775c49a6a_480.png 480w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/1a309ab775c49a6a_720.png 720w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/1a309ab775c49a6a_856.png 856w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/1a309ab775c49a6a_960.png 960w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/1a309ab775c49a6a_1440.png 1440w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/1a309ab775c49a6a_1920.png 1920w,https://developer.android.com/static/codelabs/android-window-manager-dual-screen-foldables/img/1a309ab775c49a6a_2880.png 2880w" sizes="(max-width: 840px) 100vw, 856px"></p>


        </google-codelab-step>
      
        <google-codelab-step label="Other Jetpack WindowManager artifacts" duration="5" step="7">
          
          <h2 class="step-title" id="7" data-text="Other Jetpack WindowManager artifacts" tabindex="-1">
              8. Other Jetpack WindowManager artifacts
          </h2>
          <p>WindowManager also comes with other useful artifacts apart from the main one that will help you to interact with the component differently, taking into consideration the current environment you are using while building your apps.</p>
<h2 is-upgraded id="java-artifact" data-text="Java artifact" tabindex="-1">Java artifact</h2>
<p>If you are using the Java programming language instead of Kotlin, or if listening for events through callbacks is a better approach for your architecture, the WindowManager&#39;s Java artifact can be useful since it provides a Java-friendly API to register and unregister listeners for events through callbacks.</p>
<h2 is-upgraded id="rxjava-artifacts" data-text="RxJava artifact(s)" tabindex="-1">RxJava artifact(s)</h2>
<p>If you are already using  <a href="https://github.com/ReactiveX/RxJava" target="_blank"><code translate="no" dir="ltr">RxJava</code></a> (version  <a href="https://github.com/ReactiveX/RxJava#version-2x" target="_blank"><code translate="no" dir="ltr">2</code></a> or  <a href="https://github.com/ReactiveX/RxJava#version-3x-javadoc" target="_blank"><code translate="no" dir="ltr">3</code></a>), you can use specific artifacts that will help you to keep consistency in your code, whether you use  <a href="http://reactivex.io/documentation/observable.html" target="_blank"><code translate="no" dir="ltr">Observables</code></a> or  <a href="http://reactivex.io/RxJava/3.x/javadoc/io/reactivex/rxjava3/core/Flowable.html" target="_blank"><code translate="no" dir="ltr">Flowables</code></a>.</p>


        </google-codelab-step>
      
        <google-codelab-step label="Testing using Jetpack WindowManager" duration="10" step="8">
          
          <h2 class="step-title" id="8" data-text="Testing using Jetpack WindowManager" tabindex="-1">
              9. Testing using Jetpack WindowManager
          </h2>
          <p>Testing foldable postures on any emulator or device can be very useful in order to test how UI elements can be placed around the <code translate="no" dir="ltr">FoldingFeature</code>.</p>
<p>To achieve that, WindowManger comes with a very useful artifact for instrumented tests.</p>
<p>Let&#39;s see how we can use it.</p>
<p>Together with the main WindowManager dependency, we have added the testing artifact in the app <code translate="no" dir="ltr">build.gradle</code> file: <code translate="no" dir="ltr">androidx.window:window-testing</code></p>
<p>The <code translate="no" dir="ltr">window-testing</code> artifact comes with a useful new  <a href="https://junit.org/junit4/javadoc/4.12/org/junit/rules/TestRule.html" target="_blank"><code translate="no" dir="ltr">TestRule</code></a> called  <a href="https://developer.android.com/reference/kotlin/androidx/window/testing/layout/WindowLayoutInfoPublisherRule" target="_blank"><code translate="no" dir="ltr">WindowLayoutInfoPublisherRule</code></a> that will help test consuming a stream of <code translate="no" dir="ltr">WindowLayoutInfo</code> values. <code translate="no" dir="ltr">WindowLayoutInfoPublisherRule</code> allows you to push through different <code translate="no" dir="ltr">WindowLayoutInfo</code> values on demand.</p>
<p>In order to use it, and from there to create a sample that can help you to test your UI with this new artifact update the testing class created by the Android Studio template. Replace all the code in the <code translate="no" dir="ltr">ExampleInstrumentedTest</code> class with the following:</p>
<h3 is-upgraded id="exampleinstrumentedtest.kt" data-text="ExampleInstrumentedTest.kt" tabindex="-1"><a href="https://github.com/android/codelab-android-foldable/blob/main/WindowManager/app/src/androidTest/java/com/example/codelab/windowmanager/ExampleInstrumentedTest.kt" target="_blank">ExampleInstrumentedTest.kt</a></h3>
<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="Python"><code translate="no" dir="ltr"><span class="devsite-syntax-kn">import</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">androidx.test.ext.junit.rules.ActivityScenarioRule</span>
<span class="devsite-syntax-kn">import</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">androidx.test.ext.junit.runners.AndroidJUnit4</span>
<span class="devsite-syntax-kn">import</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">androidx.window.testing.layout.WindowLayoutInfoPublisherRule</span>
<span class="devsite-syntax-kn">import</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">org.junit.Rule</span>
<span class="devsite-syntax-kn">import</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">org.junit.rules.RuleChain</span>
<span class="devsite-syntax-kn">import</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">org.junit.rules.TestRule</span>
<span class="devsite-syntax-kn">import</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">org.junit.runner.RunWith</span>

<span class="devsite-syntax-nd">@RunWith</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">AndroidJUnit4</span><span class="devsite-syntax-p">::</span><span class="devsite-syntax-n">class</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-k">class</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nc">MainActivityTest</span> <span class="devsite-syntax-p">{</span>
    <span class="devsite-syntax-n">private</span> <span class="devsite-syntax-n">val</span> <span class="devsite-syntax-n">activityRule</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">ActivityScenarioRule</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">MainActivity</span><span class="devsite-syntax-p">::</span><span class="devsite-syntax-n">class</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">java</span><span class="devsite-syntax-p">)</span>
    <span class="devsite-syntax-n">private</span> <span class="devsite-syntax-n">val</span> <span class="devsite-syntax-n">publisherRule</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">WindowLayoutInfoPublisherRule</span><span class="devsite-syntax-p">()</span>

    <span class="devsite-syntax-nd">@get</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-n">Rule</span>
    <span class="devsite-syntax-n">val</span> <span class="devsite-syntax-n">testRule</span><span class="devsite-syntax-p">:</span> <span class="devsite-syntax-n">TestRule</span>

    <span class="devsite-syntax-n">init</span> <span class="devsite-syntax-p">{</span>
        <span class="devsite-syntax-n">testRule</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">RuleChain</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">outerRule</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">publisherRule</span><span class="devsite-syntax-p">)</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">around</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">activityRule</span><span class="devsite-syntax-p">)</span>
    <span class="devsite-syntax-p">}</span>
<span class="devsite-syntax-p">}</span>
</code></pre></devsite-code>
<p>The mentioned rule has been chained with an  <a href="https://developer.android.com/reference/androidx/test/ext/junit/rules/ActivityScenarioRule" target="_blank"><code translate="no" dir="ltr">ActvityScenarioRule</code></a>.</p>
<p>In order to mock up a <code translate="no" dir="ltr">FoldingFeature</code>, the new artifact comes with  <a href="https://developer.android.com/reference/kotlin/androidx/window/testing/layout/package-summary#FoldingFeature(android.graphics.Rect,kotlin.Int,kotlin.Int,androidx.window.layout.FoldingFeature.State,androidx.window.layout.FoldingFeature.Orientation)" target="_blank">a couple of very useful functions to do it</a>. Here is the simplest one that provides some default values.</p>
<p>In <code translate="no" dir="ltr">MainActivity</code>, the <code translate="no" dir="ltr">TextView</code>s are aligned to the left of the folding feature. Create a test that checks that this was implemented correctly.</p>
<p>Create a test called <code translate="no" dir="ltr">testText_is_left_of_Vertical_FoldingFeature</code>:</p>
<h3 is-upgraded id="exampleinstrumentedtest.kt_1" data-text="ExampleInstrumentedTest.kt" tabindex="-1"><a href="https://github.com/android/codelab-android-foldable/blob/main/WindowManager/app/src/androidTest/java/com/example/codelab/windowmanager/ExampleInstrumentedTest.kt" target="_blank">ExampleInstrumentedTest.kt</a></h3>
<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="Python"><code translate="no" dir="ltr"><span class="devsite-syntax-kn">import</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">androidx.window.layout.FoldingFeature.Orientation.Companion.VERTICAL</span>
<span class="devsite-syntax-kn">import</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">androidx.window.layout.FoldingFeature.State.Companion.FLAT</span>
<span class="devsite-syntax-kn">import</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">androidx.window.testing.layout.FoldingFeature</span>
<span class="devsite-syntax-kn">import</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">androidx.window.testing.layout.TestWindowLayoutInfo</span>
<span class="devsite-syntax-kn">import</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">org.junit.Test</span>

<span class="devsite-syntax-nd">@Test</span>
<span class="devsite-syntax-n">fun</span> <span class="devsite-syntax-n">testText_is_left_of_Vertical_FoldingFeature</span><span class="devsite-syntax-p">()</span> <span class="devsite-syntax-p">{</span>
   <span class="devsite-syntax-n">activityRule</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">scenario</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">onActivity</span> <span class="devsite-syntax-p">{</span> <span class="devsite-syntax-n">activity</span> <span class="devsite-syntax-o">-</span>&gt;
       <span class="devsite-syntax-n">val</span> <span class="devsite-syntax-n">hinge</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">FoldingFeature</span><span class="devsite-syntax-p">(</span>
           <span class="devsite-syntax-n">activity</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">activity</span><span class="devsite-syntax-p">,</span>
           <span class="devsite-syntax-n">state</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">FLAT</span><span class="devsite-syntax-p">,</span>
           <span class="devsite-syntax-n">orientation</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">VERTICAL</span><span class="devsite-syntax-p">,</span>
           <span class="devsite-syntax-n">size</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-mi">2</span>
       <span class="devsite-syntax-p">)</span>

       <span class="devsite-syntax-n">val</span> <span class="devsite-syntax-n">expected</span> <span class="devsite-syntax-o">=</span> <span class="devsite-syntax-n">TestWindowLayoutInfo</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">listOf</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">hinge</span><span class="devsite-syntax-p">))</span>
       <span class="devsite-syntax-n">publisherRule</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">overrideWindowLayoutInfo</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">expected</span><span class="devsite-syntax-p">)</span>
   <span class="devsite-syntax-p">}</span>

   <span class="devsite-syntax-o">//</span> <span class="devsite-syntax-n">Add</span> <span class="devsite-syntax-n">Assertion</span> <span class="devsite-syntax-k">with</span> <span class="devsite-syntax-n">EspressoMatcher</span> <span class="devsite-syntax-n">here</span>

<span class="devsite-syntax-p">}</span>
</code></pre></devsite-code>
<p>The test  <a href="https://developer.android.com/reference/kotlin/androidx/window/testing/layout/package-summary#FoldingFeature(android.graphics.Rect,kotlin.Int,kotlin.Int,androidx.window.layout.FoldingFeature.State,androidx.window.layout.FoldingFeature.Orientation)" target="_blank"><code translate="no" dir="ltr">FoldingFeature</code></a> has a <code translate="no" dir="ltr">FLAT</code> state and its orientation is <code translate="no" dir="ltr">VERTICAL</code>. We have defined a specific size since we want that the fake <code translate="no" dir="ltr">FoldingFeature</code> to be shown in the UI in our tests so we can see where it&#39;s located on the device.</p>
<p>We use the <code translate="no" dir="ltr">WindowLayoutInfoPublishRule</code> that we instantiated before to publish the fake <code translate="no" dir="ltr">FoldingFeaure</code>, so then we can get it as we would with real <code translate="no" dir="ltr">WindowLayoutInfo</code> data:</p>
<p>The final step is just to test that our UI elements are located where they should be aligned avoiding the <code translate="no" dir="ltr">FoldingFeature</code>. To do that, we simply use  <a href="https://developer.android.com/training/testing/espresso/cheat-sheet" target="_blank"><code translate="no" dir="ltr">EspressoMatchers</code></a>, adding the assertion at the end of the test we just created:</p>
<h3 is-upgraded id="exampleinstrumentedtest.kt_2" data-text="ExampleInstrumentedTest.kt" tabindex="-1"><a href="https://github.com/android/codelab-android-foldable/blob/main/WindowManager/app/src/androidTest/java/com/example/codelab/windowmanager/ExampleInstrumentedTest.kt" target="_blank">ExampleInstrumentedTest.kt</a></h3>
<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="Python"><code translate="no" dir="ltr"><span class="devsite-syntax-kn">import</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">androidx.test.espresso.assertion.PositionAssertions</span>
<span class="devsite-syntax-kn">import</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nn">androidx.test.espresso.matcher.ViewMatchers.withId</span>

<span class="devsite-syntax-n">onView</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">withId</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">R</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">id</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">layout_change</span><span class="devsite-syntax-p">))</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">check</span><span class="devsite-syntax-p">(</span>
    <span class="devsite-syntax-n">PositionAssertions</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">isCompletelyLeftOf</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">withId</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">R</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">id</span><span class="devsite-syntax-o">.</span><span class="devsite-syntax-n">folding_feature</span><span class="devsite-syntax-p">))</span>
<span class="devsite-syntax-p">)</span>
</code></pre></devsite-code>
<p>The complete test is going to be:</p>
<h3 is-upgraded id="exampleinstrumentedtest.kt_3" data-text="ExampleInstrumentedTest.kt" tabindex="-1"><a href="https://github.com/android/codelab-android-foldable/blob/main/WindowManager/app/src/androidTest/java/com/example/codelab/windowmanager/ExampleInstrumentedTest.kt" target="_blank">ExampleInstrumentedTest.kt</a></h3>
<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="Transact-SQL"><code translate="no" dir="ltr"><span class="devsite-syntax-nv">@Test</span>
<span class="devsite-syntax-n">fun</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">testText_is_left_of_Vertical_FoldingFeature</span><span class="devsite-syntax-p">()</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-err">{</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-n">activityRule</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-n">scenario</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-n">onActivity</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-err">{</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">activity</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">-</span>&gt;
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-n">val</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">hinge</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">FoldingFeature</span><span class="devsite-syntax-p">(</span>
<span class="devsite-syntax-w">            </span><span class="devsite-syntax-n">activity</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">activity</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">            </span><span class="devsite-syntax-k">state</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">FoldingFeature</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-k">State</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-n">FLAT</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">            </span><span class="devsite-syntax-n">orientation</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">FoldingFeature</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-n">Orientation</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-n">VERTICAL</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">            </span><span class="devsite-syntax-k">size</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-mi">2</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-n">val</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">expected</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">TestWindowLayoutInfo</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">listOf</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">hinge</span><span class="devsite-syntax-p">))</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-n">publisherRule</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-n">overrideWindowLayoutInfo</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">expected</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-err">}</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-n">onView</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">withId</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">R</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-n">id</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-n">layout_change</span><span class="devsite-syntax-p">)).</span><span class="devsite-syntax-k">check</span><span class="devsite-syntax-p">(</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-n">PositionAssertions</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-n">isCompletelyLeftOf</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">withId</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">R</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-n">id</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-n">folding_feature</span><span class="devsite-syntax-p">))</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-err">}</span>
</code></pre></devsite-code>
<aside class="special"><p><strong>Note</strong>: To create a fake horizontal <code translate="no" dir="ltr">FoldingFeature</code> instead of a vertical one, use the following arguments when you create the feature:</p>
</aside>
<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="scdoc"><code translate="no" dir="ltr">val horizontal_hinge = FoldingFeature(
   activity = activity,
   state = FLAT,
   orientation = HORIZONTAL,
   size = 2
)
</code></pre></devsite-code>
<p>You can now run your test on a device or emulator to check that the application behaves as expected. Note that you don&#39;t need a foldable device or emulator to run this test.</p>


        </google-codelab-step>
      
        <google-codelab-step label="Congratulations!" duration="3" step="9">
          
          <h2 class="step-title" id="9" data-text="Congratulations!" tabindex="-1">
              10. Congratulations!
          </h2>
          <p>Jetpack WindowManager helps developers with new form factor devices such as foldables.</p>
<p>The information WindowManager provides is very helpful in adapting Android apps to foldable devices to deliver a better user experience.</p>
<p>As a summary, in this codelab you have learned:</p>
<ul>
<li>What foldable devices are</li>
<li>Differences between the different foldable devices</li>
<li>Differences between foldable devices, single-screen devices, and tablets</li>
<li>The Jetpack WindowManager API</li>
<li>Using Jetpack WindowManager and adapting our apps to new device form factors</li>
<li>Testing using Jetpack WindowManager</li>
</ul>
<h2 is-upgraded id="learn-more" data-text="Learn more" tabindex="-1">Learn more</h2>
<ul>
<li><a href="https://github.com/android/codelab-android-foldable" target="_blank">Codelab samples repository</a></li>
<li><a href="https://developer.android.com/guide/topics/ui/foldables" target="_blank">Building apps for foldables</a></li>
<li><a href="https://developer.android.com/guide/topics/ui/multi-window" target="_blank">Multi-window support</a></li>
<li><a href="https://developer.android.com/guide/topics/ui/drag-drop" target="_blank">Drag and drop</a></li>
<li><a href="https://developer.android.com/large-screens" target="_blank">Responsive layouts for large screen development</a></li>
<li><a href="https://developer.android.com/jetpack/androidx/releases/window" target="_blank">Jetpack WindowManager</a></li>
<li><a href="https://github.com/android/platform-samples/tree/main/samples/user-interface/windowmanager" target="_blank">Jetpack WindowManager sample</a></li>
<li><a href="https://docs.microsoft.com/dual-screen/android/" target="_blank">Developing apps for dual-screen devices</a></li>
</ul>


        </google-codelab-step>
      
    </google-codelab>
  
  

  
</div>

  
    
    
    
  

  <div class="devsite-floating-action-buttons"></div></article>


<devsite-content-footer class="nocontent">
  <p>Except as otherwise noted, the content of this page is licensed under the <a href="https://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 License</a>, and code samples are licensed under the <a href="https://www.apache.org/licenses/LICENSE-2.0">Apache 2.0 License</a>. For details, see the <a href="https://developers.google.com/site-policies">Google Developers Site Policies</a>. Java is a registered trademark of Oracle and/or its affiliates.</p>
  
</devsite-content-footer>


<devsite-notification
>
</devsite-notification>


  
<div class="devsite-content-data">
  
  
    <template class="devsite-content-data-template">
      [[["Easy to understand","easyToUnderstand","thumb-up"],["Solved my problem","solvedMyProblem","thumb-up"],["Other","otherUp","thumb-up"]],[["Missing the information I need","missingTheInformationINeed","thumb-down"],["Too complicated / too many steps","tooComplicatedTooManySteps","thumb-down"],["Out of date","outOfDate","thumb-down"],["Samples / code issue","samplesCodeIssue","thumb-down"],["Other","otherDown","thumb-down"]],[],[],[],null,[]]
    </template>
  
</div>
            
          </devsite-content>
        </main>
        <devsite-footer-promos class="devsite-footer">
          
            

<nav class="devsite-footer-promos nocontent" aria-label="Promotions">
  <ul class="devsite-footer-promos-list">
    
    <li class="devsite-footer-promo">
      <a href="//x.com/AndroidDev"
         class="devsite-footer-promo-title gc-analytics-event"
         data-category="Site-Wide Custom Events"
       
       
         data-label="Footer X Promo"
       >
        
        
        <picture>
          
          <source class="devsite-dark-theme"
                  srcset="https://developer.android.com/_static/android/images/logo-x_dt.svg"
                  media="(prefers-color-scheme: dark)">
          
          <img class="devsite-footer-promo-icon"
                src="/_static/android/images/logo-x.svg"
                loading="lazy"
                alt="X">
        </picture>
        
        <span class="devsite-footer-promo-label">
          X
        </span>
      </a>
      <div class="devsite-footer-promo-description">Follow @AndroidDev on X</div>
    </li>
    
    <li class="devsite-footer-promo">
      <a href="//www.youtube.com/user/androiddevelopers"
         class="devsite-footer-promo-title gc-analytics-event"
         data-category="Site-Wide Custom Events"
       
       
         data-label="Footer YouTube Promo"
       >
        
        
        <picture>
          
          <source class="devsite-dark-theme"
                  srcset="https://developer.android.com/_static/android/images/logo-youtube_dt.svg"
                  media="(prefers-color-scheme: dark)">
          
          <img class="devsite-footer-promo-icon"
                src="//www.gstatic.com/images/icons/material/product/2x/youtube_48dp.png"
                loading="lazy"
                alt="YouTube">
        </picture>
        
        <span class="devsite-footer-promo-label">
          YouTube
        </span>
      </a>
      <div class="devsite-footer-promo-description">Check out Android Developers on YouTube</div>
    </li>
    
    <li class="devsite-footer-promo">
      <a href="//www.linkedin.com/showcase/androiddev"
         class="devsite-footer-promo-title gc-analytics-event"
         data-category="Site-Wide Custom Events"
       
       
         data-label="Footer LinkedIn Promo"
       >
        
        
        <picture>
          
          <source class="devsite-dark-theme"
                  srcset="https://developer.android.com/_static/android/images/logo-linkedin_dt.svg"
                  media="(prefers-color-scheme: dark)">
          
          <img class="devsite-footer-promo-icon"
                src="/_static/android/images/logo-linkedin.svg"
                loading="lazy"
                alt="LinkedIn">
        </picture>
        
        <span class="devsite-footer-promo-label">
          LinkedIn
        </span>
      </a>
      <div class="devsite-footer-promo-description">Connect with the Android Developers community on LinkedIn</div>
    </li>
    
  </ul>
</nav>

          
        </devsite-footer-promos>
        <devsite-footer-linkboxes class="devsite-footer">
          
            
<nav class="devsite-footer-linkboxes nocontent" aria-label="Footer links">
  
  <ul class="devsite-footer-linkboxes-list">
    
    <li class="devsite-footer-linkbox ">
    <h3 class="devsite-footer-linkbox-heading no-link">More Android</h3>
      <ul class="devsite-footer-linkbox-list">
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="//www.android.com"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 1)"
            >
            
          
            Android
          
          </a>
          
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="//www.android.com/enterprise/"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 2)"
            >
            
          
            Android for Enterprise
          
          </a>
          
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="//www.android.com/security-center/"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 3)"
            >
            
          
            Security
          
          </a>
          
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="//source.android.com"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 4)"
            >
            
          
            Source
          
          </a>
          
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="/news"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 5)"
            >
            
          
            News
          
          </a>
          
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="//android-developers.googleblog.com/"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 6)"
            >
            
          
            Blog
          
          </a>
          
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="/podcasts"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 7)"
            >
            
              
              
            
          
            Podcasts
          
          </a>
          
          
        </li>
        
      </ul>
    </li>
    
    <li class="devsite-footer-linkbox ">
    <h3 class="devsite-footer-linkbox-heading no-link">Discover</h3>
      <ul class="devsite-footer-linkbox-list">
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="/games"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 1)"
            >
            
          
            Gaming
          
          </a>
          
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="/ml"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 2)"
            >
            
          
            Machine Learning
          
          </a>
          
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="/health-and-fitness"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 3)"
            >
            
          
            Health & Fitness
          
          </a>
          
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="/media"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 4)"
            >
            
          
            Camera & Media
          
          </a>
          
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="/privacy"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 5)"
            >
            
          
            Privacy
          
          </a>
          
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="/training/connectivity/5g"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 6)"
            >
            
              
              
            
          
            5G
          
          </a>
          
          
        </li>
        
      </ul>
    </li>
    
    <li class="devsite-footer-linkbox ">
    <h3 class="devsite-footer-linkbox-heading no-link">Android Devices</h3>
      <ul class="devsite-footer-linkbox-list">
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="/large-screens"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 1)"
            >
            
          
            Large screens
          
          </a>
          
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="/wear"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 2)"
            >
            
          
            Wear OS
          
          </a>
          
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="/chrome-os"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 3)"
            >
            
          
            ChromeOS devices
          
          </a>
          
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="/cars"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 4)"
            >
            
          
            Android for cars
          
          </a>
          
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="/tv"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 5)"
            >
            
              
              
            
          
            Android TV
          
          </a>
          
          
        </li>
        
      </ul>
    </li>
    
    <li class="devsite-footer-linkbox ">
    <h3 class="devsite-footer-linkbox-heading no-link">Releases</h3>
      <ul class="devsite-footer-linkbox-list">
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="/about/versions/15"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 1)"
            >
            
          
            Android 15
          
          </a>
          
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="/about/versions/14"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 2)"
            >
            
          
            Android 14
          
          </a>
          
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="/about/versions/13"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 3)"
            >
            
          
            Android 13
          
          </a>
          
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="/about/versions/12"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 4)"
            >
            
          
            Android 12
          
          </a>
          
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="/about/versions/11"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 5)"
            >
            
          
            Android 11
          
          </a>
          
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="/about/versions/10"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 6)"
            >
            
          
            Android 10
          
          </a>
          
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="/about/versions/pie"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 7)"
            >
            
              
              
            
          
            Pie
          
          </a>
          
          
        </li>
        
      </ul>
    </li>
    
    <li class="devsite-footer-linkbox ">
    <h3 class="devsite-footer-linkbox-heading no-link">Documentation and Downloads</h3>
      <ul class="devsite-footer-linkbox-list">
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="/studio/intro"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 1)"
            >
            
          
            Android Studio guide
          
          </a>
          
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="/guide"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 2)"
            >
            
          
            Developers guides
          
          </a>
          
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="/reference"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 3)"
            >
            
          
            API reference
          
          </a>
          
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="/studio"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 4)"
            >
            
          
            Download Studio
          
          </a>
          
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="/ndk"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 5)"
            >
            
              
              
            
          
            Android NDK
          
          </a>
          
          
        </li>
        
      </ul>
    </li>
    
    <li class="devsite-footer-linkbox ">
    <h3 class="devsite-footer-linkbox-heading no-link">Support</h3>
      <ul class="devsite-footer-linkbox-list">
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="//issuetracker.google.com/issues/new?component=190923&amp;template=841312"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 1)"
            >
            
          
            Report platform bug
          
          </a>
          
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="//issuetracker.google.com/issues/new?component=192697"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 2)"
            >
            
          
            Report documentation bug
          
          </a>
          
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="//support.google.com/googleplay/android-developer"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 3)"
            >
            
          
            Google Play support
          
          </a>
          
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="https://g.co/userresearch/androiddeveloperfooter"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 4)"
            >
            
              
              
            
          
            Join research studies
          
          </a>
          
          
        </li>
        
      </ul>
    </li>
    
  </ul>
  
</nav>
          
        </devsite-footer-linkboxes>
        <devsite-footer-utility class="devsite-footer">
          
            

<div class="devsite-footer-utility nocontent">
  
  
  <nav class="devsite-footer-sites" aria-label="Other Google Developers websites">
    <a href="https://developers.google.com/"
       class="devsite-footer-sites-logo-link gc-analytics-event"
       data-category="Site-Wide Custom Events"
       data-label="Footer Google Developers Link">
      <picture>
        
        <source srcset="https://www.gstatic.com/devrel-devsite/prod/vc12d84b6edb3e25e1619b575cf813e1849a1c95098b711a6c56ab3968c9a4fa9/android/images/lockup-google-for-developers-dark-theme.svg"
                media="(prefers-color-scheme: none)"
                class="devsite-dark-theme">
        
        <img class="devsite-footer-sites-logo"
             src="https://www.gstatic.com/devrel-devsite/prod/vc12d84b6edb3e25e1619b575cf813e1849a1c95098b711a6c56ab3968c9a4fa9/android/images/lockup-google-for-developers.svg"
             loading="lazy"
             alt="Google Developers">
      </picture>
    </a>
    <ul class="devsite-footer-sites-list">
      
      <li class="devsite-footer-sites-item">
        <a href="//developer.android.com"
           class="devsite-footer-sites-link
                  gc-analytics-event"
           data-category="Site-Wide Custom Events"
         
           data-label="Footer Android Link"
         
         >
          Android
        </a>
      </li>
      
      <li class="devsite-footer-sites-item">
        <a href="//developer.chrome.com/home"
           class="devsite-footer-sites-link
                  gc-analytics-event"
           data-category="Site-Wide Custom Events"
         
           data-label="Footer Chrome Link"
         
         >
          Chrome
        </a>
      </li>
      
      <li class="devsite-footer-sites-item">
        <a href="//firebase.google.com"
           class="devsite-footer-sites-link
                  gc-analytics-event"
           data-category="Site-Wide Custom Events"
         
           data-label="Footer Firebase Link"
         
         >
          Firebase
        </a>
      </li>
      
      <li class="devsite-footer-sites-item">
        <a href="//cloud.google.com"
           class="devsite-footer-sites-link
                  gc-analytics-event"
           data-category="Site-Wide Custom Events"
         
           data-label="Footer Google Cloud Platform Link"
         
         >
          Google Cloud Platform
        </a>
      </li>
      
      <li class="devsite-footer-sites-item">
        <a href="//developers.google.com/products/"
           class="devsite-footer-sites-link
                  gc-analytics-event"
           data-category="Site-Wide Custom Events"
         
           data-label="Footer All products Link"
         
         >
          All products
        </a>
      </li>
      
    </ul>
  </nav>
  

  
  <nav class="devsite-footer-utility-links" aria-label="Utility links">
    
    <ul class="devsite-footer-utility-list">
      
      <li class="devsite-footer-utility-item
                 ">
        
        
        <a class="devsite-footer-utility-link gc-analytics-event"
           href="//policies.google.com/privacy"
           data-category="Site-Wide Custom Events"
           data-label="Footer Privacy link"
         >
          Privacy
        </a>
        
      </li>
      
      <li class="devsite-footer-utility-item
                 ">
        
        
        <a class="devsite-footer-utility-link gc-analytics-event"
           href="/license"
           data-category="Site-Wide Custom Events"
           data-label="Footer License link"
         >
          License
        </a>
        
      </li>
      
      <li class="devsite-footer-utility-item
                 ">
        
        
        <a class="devsite-footer-utility-link gc-analytics-event"
           href="/distribute/marketing-tools/brand-guidelines"
           data-category="Site-Wide Custom Events"
           data-label="Footer Brand guidelines link"
         >
          Brand guidelines
        </a>
        
      </li>
      
      <li class="devsite-footer-utility-item
                 glue-cookie-notification-bar-control">
        
        
        <a class="devsite-footer-utility-link gc-analytics-event"
           href="#"
           data-category="Site-Wide Custom Events"
           data-label="Footer Manage cookies link"
         
           aria-hidden="true"
         >
          Manage cookies
        </a>
        
      </li>
      
      <li class="devsite-footer-utility-item
                 devsite-footer-utility-button">
        
        <span class="devsite-footer-utility-description">Get news and tips by email</span>
        
        
        <a class="devsite-footer-utility-link gc-analytics-event"
           href="/updates"
           data-category="Site-Wide Custom Events"
           data-label="Footer Subscribe link"
         >
          Subscribe
        </a>
        
      </li>
      
    </ul>
    
    
<devsite-language-selector>
  <ul role="presentation">
    
    
    <li role="presentation">
      <a role="menuitem" lang="en"
        >English</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="de"
        >Deutsch</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="es_419"
        >Español – América Latina</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="fr"
        >Français</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="id"
        >Indonesia</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="pl"
        >Polski</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="pt_br"
        >Português – Brasil</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="vi"
        >Tiếng Việt</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="zh_cn"
        >中文 – 简体</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="zh_tw"
        >中文 – 繁體</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="ja"
        >日本語</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="ko"
        >한국어</a>
    </li>
    
  </ul>
</devsite-language-selector>

  </nav>
</div>
          
        </devsite-footer-utility>
        <devsite-panel>
          
        </devsite-panel>
        
      </section></section>
    <devsite-sitemask></devsite-sitemask>
    <devsite-snackbar></devsite-snackbar>
    <devsite-tooltip ></devsite-tooltip>
    <devsite-heading-link></devsite-heading-link>
    <devsite-analytics>
      
        <script type="application/json" analytics>[]</script>
<script type="application/json" tag-management>{&#34;at&#34;: &#34;True&#34;, &#34;ga4&#34;: [{&#34;id&#34;: &#34;G-QFRN08RN6E&#34;, &#34;purpose&#34;: 0}], &#34;ga4p&#34;: [{&#34;id&#34;: &#34;G-QFRN08RN6E&#34;, &#34;purpose&#34;: 0}], &#34;gtm&#34;: [], &#34;parameters&#34;: {&#34;internalUser&#34;: &#34;False&#34;, &#34;language&#34;: {&#34;machineTranslated&#34;: &#34;False&#34;, &#34;requested&#34;: &#34;en&#34;, &#34;served&#34;: &#34;en&#34;}, &#34;pageType&#34;: &#34;codelab&#34;, &#34;projectName&#34;: null, &#34;signedIn&#34;: &#34;False&#34;, &#34;tenant&#34;: &#34;android&#34;, &#34;recommendations&#34;: {&#34;sourcePage&#34;: &#34;&#34;, &#34;sourceType&#34;: 0, &#34;sourceRank&#34;: 0, &#34;sourceIdenticalDescriptions&#34;: 0, &#34;sourceTitleWords&#34;: 0, &#34;sourceDescriptionWords&#34;: 0, &#34;experiment&#34;: &#34;&#34;}, &#34;experiment&#34;: {&#34;ids&#34;: &#34;&#34;}}}</script>
      
    </devsite-analytics>
    
      <devsite-badger></devsite-badger>
    
    
    
<android-fully-clickable
    target="
        .android-case-study .devsite-landing-row-item,
        .android-editorial-and-updates-cards .devsite-card-content-wrapper,
        .android-editorial-and-updates-cards .devsite-landing-row-item,
        .android-grouped-resources .devsite-landing-row-item,
        .android-grouped-resources-contained--primary .devsite-landing-row-item,
        .android-grouped-resources-contained--secondary .devsite-landing-row-item,
        .android-grouped-resources-contained--tertiary .devsite-landing-row-item,
        .android-grouped-resources-uncontained--primary .devsite-landing-row-item,
        .android-grouped-resources-uncontained--secondary .devsite-landing-row-item,
        .android-grouped-resources-uncontained--tertiary .devsite-landing-row-item,
        .android-guide-cards .devsite-landing-row-item,
        .android-illustrated-resources-index .devsite-landing-row-item,
        .android-illustrated-resources-primary .devsite-landing-row-item,
        .android-illustrated-resources-secondary .devsite-landing-row-item,
        .android-illustrated-resources-secondary-small .devsite-landing-row-item,
        .android-illustrated-resources-tertiary .devsite-landing-row-item,
        .android-illustrated-resources-tertiary-small .devsite-landing-row-item,
        .android-promo .devsite-landing-row-item,
        .android-quick-link,
        .android-samples .devsite-card-wrapper,
        .fully-clickable"
    watch=".android-editorial-and-updates-cards, .android-samples, devsite-content"></android-fully-clickable>
    
<script nonce="3ni1IlNx4heJVWaTI/F+Zr+b965MFp">
  
  (function(d,e,v,s,i,t,E){d['GoogleDevelopersObject']=i;
    t=e.createElement(v);t.async=1;t.src=s;E=e.getElementsByTagName(v)[0];
    E.parentNode.insertBefore(t,E);})(window, document, 'script',
    'https://www.gstatic.com/devrel-devsite/prod/vc12d84b6edb3e25e1619b575cf813e1849a1c95098b711a6c56ab3968c9a4fa9/android/js/app_loader.js', '[3,"en",null,"/js/devsite_app_module.js","https://www.gstatic.com/devrel-devsite/prod/vc12d84b6edb3e25e1619b575cf813e1849a1c95098b711a6c56ab3968c9a4fa9","https://www.gstatic.com/devrel-devsite/prod/vc12d84b6edb3e25e1619b575cf813e1849a1c95098b711a6c56ab3968c9a4fa9/android","https://android-dot-devsite-v2-prod.appspot.com",1,null,["/_pwa/android/manifest.json","https://www.gstatic.com/devrel-devsite/prod/vc12d84b6edb3e25e1619b575cf813e1849a1c95098b711a6c56ab3968c9a4fa9/images/video-placeholder.svg","https://www.gstatic.com/devrel-devsite/prod/vc12d84b6edb3e25e1619b575cf813e1849a1c95098b711a6c56ab3968c9a4fa9/android/images/favicon.svg","https://www.gstatic.com/devrel-devsite/prod/vc12d84b6edb3e25e1619b575cf813e1849a1c95098b711a6c56ab3968c9a4fa9/android/images/lockup.png","https://fonts.googleapis.com/css?family=Google+Sans:400,500,600,700|Google+Sans+Text:400,400italic,500,500italic,600,600italic,700,700italic|Roboto+Mono:400,500,700&display=swap"],1,null,[1,6,8,12,14,17,21,25,50,52,63,70,75,76,80,87,91,92,93,97,98,100,101,102,103,104,105,107,108,109,110,112,113,117,118,120,122,124,125,126,127,129,130,131,132,133,134,135,136,138,140,141,147,148,149,151,152,156,157,158,159,161,163,164,168,169,170,179,180,182,183,186,191,193,196],"AIzaSyAP-jjEJBzmIyKR4F-3XITp8yM9T1gEEI8","AIzaSyB6xiKGDR5O3Ak2okS4rLkauxGUG7XP0hg","developer.android.com","AIzaSyAQk0fBONSGUqCNznf6Krs82Ap1-NV6J4o","AIzaSyCCxcqdrZ_7QMeLCRY20bh_SXdAYqy70KY",null,null,null,["Profiles__enable_developer_profile_benefits_ui_redesign","Search__enable_ai_search_summaries_for_all","Concierge__enable_pushui","CloudShell__cloud_code_overflow_menu","Analytics__enable_clearcut_logging","Search__enable_ai_eligibility_checks","Cloud__enable_cloud_shell_fte_user_flow","Cloud__cache_serialized_dynamic_content","Cloud__enable_llm_concierge_chat","Profiles__enable_profile_collections","Cloud__enable_cloud_dlp_service","MiscFeatureFlags__enable_variable_operator_index_yaml","MiscFeatureFlags__enable_explicit_template_dependencies","DevPro__enable_embed_profile_creation","Profiles__enable_public_developer_profiles","Search__enable_page_map","DevPro__enable_devpro_offers","Profiles__enable_user_type","Concierge__enable_actions_menu","DevPro__enable_google_one_card","DevPro__enable_cloud_innovators_plus","Profiles__enable_purchase_prompts","MiscFeatureFlags__emergency_css","Profiles__enable_complete_playlist_endpoint","Significatio__enable_by_tenant","MiscFeatureFlags__enable_dark_theme","DevPro__enable_vertex_credit_card","DevPro__enable_google_payments_buyflow","MiscFeatureFlags__enable_view_transitions","Experiments__reqs_query_experiments","Cloud__enable_cloudx_experiment_ids","BookNav__enable_tenant_cache_key","Profiles__enable_join_program_group_endpoint","DevPro__enable_developer_subscriptions","Cloud__enable_cloud_shell","CloudShell__cloud_shell_button","MiscFeatureFlags__enable_project_body_class","DevPro__enable_firebase_workspaces_card","DevPro__enable_enterprise","Search__enable_suggestions_from_borg","Cloud__enable_legacy_calculator_redirect","DevPro__enable_nvidia_credits_card","TpcFeatures__proxy_prod_host","MiscFeatureFlags__enable_project_variables","MiscFeatureFlags__enable_firebase_utm","TpcFeatures__enable_unmirrored_page_left_nav","EngEduTelemetry__enable_engedu_telemetry","MiscFeatureFlags__developers_footer_image","Profiles__enable_dashboard_curated_recommendations","Profiles__require_profile_eligibility_for_signin","Concierge__enable_remove_info_panel_tags","Profiles__enable_recognition_badges","MiscFeatureFlags__enable_variable_operator","Profiles__enable_awarding_url","DevPro__enable_code_assist","MiscFeatureFlags__enable_framebox_badge_methods","Profiles__enable_playlist_community_acl","Profiles__enable_completequiz_endpoint","Profiles__enable_page_saving","Cloud__enable_free_trial_server_call","Profiles__enable_release_notes_notifications","DevPro__remove_eu_tax_intake_form","Profiles__enable_developer_profiles_callout","MiscFeatureFlags__developers_footer_dark_image","Profiles__enable_callout_notifications","MiscFeatureFlags__enable_appearance_cookies","Profiles__enable_stripe_subscription_management","DevPro__enable_free_benefits","Profiles__enable_completecodelab_endpoint","Cloud__fast_free_trial","MiscFeatureFlags__gdp_dashboard_reskin_enabled","Search__enable_dynamic_content_confidential_banner"],null,null,"AIzaSyBLEMok-5suZ67qRPzx0qUtbnLmyT_kCVE","https://developerscontentserving-pa.googleapis.com","AIzaSyCM4QpTRSqP5qI4Dvjt4OAScIN8sOUlO-k","https://developerscontentsearch-pa.googleapis.com",2,4,null,"https://developerprofiles-pa.googleapis.com",[3,"android","Android Developers","developer.android.com",null,"android-dot-devsite-v2-prod.appspot.com",null,null,[null,1,null,null,null,null,null,null,null,null,null,[1],null,null,null,null,null,null,[1],[1,null,null,[1,20],"/recommendations"],null,null,null,[1,null,1],[1,1,null,1,1]],null,[18,null,null,null,null,null,"/images/lockup.png","/images/touchicon-180.png",null,null,null,null,null,null,null,null,null,null,null,null,null,2,null,null,null,"/images/lockup-dark-theme.png",[]],[],null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,[6,1,14,15,20,22,23,28,29,37,43],null,[[null,null,1],[1,1]],[[null,null,null,null,null,null,null,[["G-QFRN08RN6E"],null,null,[["G-QFRN08RN6E",1]]],null,null,null,null,1],null,[[1,1],[2,2]]],null,4,null,null,null,null,null,null,null,null,null,null,null,null,null,"android.devsite.google"],null,"pk_live_5170syrHvgGVmSx9sBrnWtA5luvk9BwnVcvIi7HizpwauFG96WedXsuXh790rtij9AmGllqPtMLfhe2RSwD6Pn38V00uBCydV4m",1,null,"https://developerscontentinsights-pa.googleapis.com","AIzaSyCg-ZUslalsEbXMfIo9ZP8qufZgo3LSBDU","AIzaSyDxT0vkxnY_KeINtA4LSePJO-4MAZPMRsE","https://developers.googleapis.com",null,null,"AIzaSyBQom12tzI-rybN7Sf-KfeL4nwm-Rf7PmI\n",null,"https://developerslogging.googleapis.com"]')
  
</script>

    <devsite-a11y-announce></devsite-a11y-announce>
  </body>
</html>