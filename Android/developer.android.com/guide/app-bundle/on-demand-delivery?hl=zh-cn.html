








<!doctype html>
<html 
      lang="zh-CN-x-mtfrom-en"
      dir="ltr">
  <head>
    <meta name="google-signin-client-id" content="721724668570-nbkv1cfusk7kk4eni4pjvepaus73b13t.apps.googleusercontent.com">
    <meta name="google-signin-scope"
          content="profile email https://www.googleapis.com/auth/developerprofiles https://www.googleapis.com/auth/developerprofiles.award">
    <meta property="og:site_name" content="Android Developers">
    <meta property="og:type" content="website"><meta name="theme-color" content="#34a853"><meta charset="utf-8">
    <meta content="IE=Edge" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    

    <link rel="manifest" href="/_pwa/android/manifest.json"
          crossorigin="use-credentials">
    <link rel="preconnect" href="//www.gstatic.com" crossorigin>
    <link rel="preconnect" href="//fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="//fonts.googleapis.com" crossorigin>
    <link rel="preconnect" href="//apis.google.com" crossorigin>
    <link rel="preconnect" href="//www.google-analytics.com" crossorigin><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Google+Sans:400,500,600,700|Google+Sans+Text:400,400italic,500,500italic,600,600italic,700,700italic|Roboto+Mono:400,500,700&display=swap">
      <link rel="stylesheet"
            href="//fonts.googleapis.com/css2?family=Material+Icons&family=Material+Symbols+Outlined&display=block"><link rel="stylesheet" href="https://www.gstatic.com/devrel-devsite/prod/vc12d84b6edb3e25e1619b575cf813e1849a1c95098b711a6c56ab3968c9a4fa9/android/css/app.css">
      
        <link rel="stylesheet" href="https://www.gstatic.com/devrel-devsite/prod/vc12d84b6edb3e25e1619b575cf813e1849a1c95098b711a6c56ab3968c9a4fa9/android/css/dark-theme.css" disabled>
      <link rel="shortcut icon" href="https://www.gstatic.com/devrel-devsite/prod/vc12d84b6edb3e25e1619b575cf813e1849a1c95098b711a6c56ab3968c9a4fa9/android/images/favicon.svg">
    <link rel="apple-touch-icon" href="https://www.gstatic.com/devrel-devsite/prod/vc12d84b6edb3e25e1619b575cf813e1849a1c95098b711a6c56ab3968c9a4fa9/android/images/touchicon-180.png"><link rel="canonical" href="https://developer.android.com/guide/playcore/feature-delivery/on-demand?hl=zh-cn"><link rel="search" type="application/opensearchdescription+xml"
            title="Android Developers" href="https://developer.android.com/s/opensearch.xml?hl=zh-cn">
      <link rel="alternate" hreflang="en"
          href="https://developer.android.com/guide/playcore/feature-delivery/on-demand" /><link rel="alternate" hreflang="x-default" href="https://developer.android.com/guide/playcore/feature-delivery/on-demand" /><link rel="alternate" hreflang="ar"
          href="https://developer.android.com/guide/playcore/feature-delivery/on-demand?hl=ar" /><link rel="alternate" hreflang="bn"
          href="https://developer.android.com/guide/playcore/feature-delivery/on-demand?hl=bn" /><link rel="alternate" hreflang="zh-Hans"
          href="https://developer.android.com/guide/playcore/feature-delivery/on-demand?hl=zh-cn" /><link rel="alternate" hreflang="zh-Hant"
          href="https://developer.android.com/guide/playcore/feature-delivery/on-demand?hl=zh-tw" /><link rel="alternate" hreflang="fa"
          href="https://developer.android.com/guide/playcore/feature-delivery/on-demand?hl=fa" /><link rel="alternate" hreflang="fr"
          href="https://developer.android.com/guide/playcore/feature-delivery/on-demand?hl=fr" /><link rel="alternate" hreflang="de"
          href="https://developer.android.com/guide/playcore/feature-delivery/on-demand?hl=de" /><link rel="alternate" hreflang="he"
          href="https://developer.android.com/guide/playcore/feature-delivery/on-demand?hl=he" /><link rel="alternate" hreflang="hi"
          href="https://developer.android.com/guide/playcore/feature-delivery/on-demand?hl=hi" /><link rel="alternate" hreflang="id"
          href="https://developer.android.com/guide/playcore/feature-delivery/on-demand?hl=id" /><link rel="alternate" hreflang="it"
          href="https://developer.android.com/guide/playcore/feature-delivery/on-demand?hl=it" /><link rel="alternate" hreflang="ja"
          href="https://developer.android.com/guide/playcore/feature-delivery/on-demand?hl=ja" /><link rel="alternate" hreflang="ko"
          href="https://developer.android.com/guide/playcore/feature-delivery/on-demand?hl=ko" /><link rel="alternate" hreflang="pl"
          href="https://developer.android.com/guide/playcore/feature-delivery/on-demand?hl=pl" /><link rel="alternate" hreflang="pt-BR"
          href="https://developer.android.com/guide/playcore/feature-delivery/on-demand?hl=pt-br" /><link rel="alternate" hreflang="ru"
          href="https://developer.android.com/guide/playcore/feature-delivery/on-demand?hl=ru" /><link rel="alternate" hreflang="es-419"
          href="https://developer.android.com/guide/playcore/feature-delivery/on-demand?hl=es-419" /><link rel="alternate" hreflang="th"
          href="https://developer.android.com/guide/playcore/feature-delivery/on-demand?hl=th" /><link rel="alternate" hreflang="tr"
          href="https://developer.android.com/guide/playcore/feature-delivery/on-demand?hl=tr" /><link rel="alternate" hreflang="vi"
          href="https://developer.android.com/guide/playcore/feature-delivery/on-demand?hl=vi" /><title>配置按需分发 &nbsp;|&nbsp; Other Play guides &nbsp;|&nbsp; Android Developers</title>

<meta property="og:title" content="配置按需分发 &nbsp;|&nbsp; Other Play guides &nbsp;|&nbsp; Android Developers"><meta property="og:url" content="https://developer.android.com/guide/playcore/feature-delivery/on-demand?hl=zh-cn"><meta property="og:image" content="https://developer.android.com/static/images/social/android-developers.png?hl=zh-cn">
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="675"><meta property="og:locale" content="zh_cn"><meta name="twitter:card" content="summary_large_image"><script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Article",
    
    "headline": "配置按需分发"
  }
</script><script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "BreadcrumbList",
    "itemListElement": [{
      "@type": "ListItem",
      "position": 1,
      "name": "Google Play",
      "item": "https://developer.android.com/distribute"
    },{
      "@type": "ListItem",
      "position": 2,
      "name": "Other Play guides",
      "item": "https://developer.android.com/guide/app-bundle"
    },{
      "@type": "ListItem",
      "position": 3,
      "name": "配置按需分发",
      "item": "https://developer.android.com/guide/playcore/feature-delivery/on-demand"
    }]
  }
  </script><link rel="alternate machine-translated-from" hreflang="en"
        href="https://developer.android.com/guide/playcore/feature-delivery/on-demand?hl=en">
  

  

  

  


    
      <link rel="stylesheet" href="/extras.css"></head>
  <body class=""
        template="page"
        theme="android-theme"
        type="article"
        
        
        appearance
        
        layout="docs"
        
        
        
        
        display-toc
        pending>
  
    <devsite-progress type="indeterminate" id="app-progress"></devsite-progress>
  
  
    <a href="#main-content" class="skip-link button">
      
      跳至主要内容
    </a>
    <section class="devsite-wrapper">
      <devsite-cookie-notification-bar></devsite-cookie-notification-bar><devsite-header role="banner">
  
    





















<div class="devsite-header--inner" data-nosnippet>
  <div class="devsite-top-logo-row-wrapper-wrapper">
    <div class="devsite-top-logo-row-wrapper">
      <div class="devsite-top-logo-row">
        <button type="button" id="devsite-hamburger-menu"
          class="devsite-header-icon-button button-flat material-icons gc-analytics-event"
          data-category="Site-Wide Custom Events"
          data-label="Navigation menu button"
          visually-hidden
          aria-label="打开菜单">
        </button>
        
<div class="devsite-product-name-wrapper">

  <a href="/" class="devsite-site-logo-link gc-analytics-event"
   data-category="Site-Wide Custom Events" data-label="Site logo" track-type="globalNav"
   track-name="androidDevelopers" track-metadata-position="nav"
   track-metadata-eventDetail="nav">
  
  <picture>
    
    <source srcset="https://www.gstatic.com/devrel-devsite/prod/vc12d84b6edb3e25e1619b575cf813e1849a1c95098b711a6c56ab3968c9a4fa9/android/images/lockup-dark-theme.png"
            media="(prefers-color-scheme: dark)"
            class="devsite-dark-theme">
    
    <img src="https://www.gstatic.com/devrel-devsite/prod/vc12d84b6edb3e25e1619b575cf813e1849a1c95098b711a6c56ab3968c9a4fa9/android/images/lockup.png" class="devsite-site-logo" alt="Android Developers">
  </picture>
  
</a>



  
  
  <span class="devsite-product-name">
    <ul class="devsite-breadcrumb-list"
  >
  
  <li class="devsite-breadcrumb-item
             ">
    
    
    
      
      
    
  </li>
  
</ul>
  </span>

</div>
        <div class="devsite-top-logo-row-middle">
          <div class="devsite-header-upper-tabs">
            
              
              
  <devsite-tabs class="upper-tabs">

    <nav class="devsite-tabs-wrapper" aria-label="上面的标签页">
      
        
          <tab class="devsite-dropdown
    devsite-dropdown-full
    
    
    ">
  
    <a href="https://developer.android.com/get-started?hl=zh-cn"
    class="devsite-tabs-content gc-analytics-event android-dropdown-tab"
      track-metadata-eventdetail="https://developer.android.com/get-started?hl=zh-cn"
    
       track-type="nav"
       track-metadata-position="nav - 基本知识"
       track-metadata-module="primary nav"
       
       
         
           data-category="Site-Wide Custom Events"
         
           data-label="Tab: 基本知识"
         
           track-name="基本知识"
         
       >
    基本知识
  
    </a>
    
      <button
         aria-haspopup="menu"
         aria-expanded="false"
         aria-label="以下项的下拉菜单 基本知识"
         track-type="nav"
         track-metadata-eventdetail="https://developer.android.com/get-started?hl=zh-cn"
         track-metadata-position="nav - 基本知识"
         track-metadata-module="primary nav"
         
          
            data-category="Site-Wide Custom Events"
          
            data-label="Tab: 基本知识"
          
            track-name="基本知识"
          
        
         class="devsite-tabs-dropdown-toggle devsite-icon devsite-icon-arrow-drop-down"></button>
    
  
  <div class="devsite-tabs-dropdown" role="menu" aria-label="submenu" hidden>
    
    <div class="devsite-tabs-dropdown-content">
      
        <div class="devsite-tabs-dropdown-column
                    android-dropdown android-dropdown-primary android-dropdown-ai">
          
            <ul class="devsite-tabs-dropdown-section
                       ">
              
                <li class="devsite-nav-title" role="heading" tooltip>打造 AI 体验</li>
              
              
                <li class="devsite-nav-description">使用 Gemini API 等构建 AI 赋能的 Android 应用。
</li>
              
              
                <li class="devsite-nav-item">
                  <a href="https://developer.android.com/ai?hl=zh-cn"
                    
                     track-type="nav"
                     track-metadata-eventdetail="https://developer.android.com/ai?hl=zh-cn"
                     track-metadata-position="nav - 基本知识"
                     track-metadata-module="tertiary nav"
                     
                       track-metadata-module_headline="打造 ai 体验"
                     
                     tooltip
                  
                    
                     class="button button-primary"
                    
                  >
                    
                    <div class="devsite-nav-item-title">
                      开始使用
                    </div>
                    
                  </a>
                </li>
              
            </ul>
          
        </div>
      
        <div class="devsite-tabs-dropdown-column
                    android-dropdown">
          
            <ul class="devsite-tabs-dropdown-section
                       android-dropdown-section-icon android-dropdown-section-icon-launch">
              
                <li class="devsite-nav-title" role="heading" tooltip>开始使用</li>
              
              
                <li class="devsite-nav-description">首先，构建您的第一个应用。然后，通过我们的培训课程更深入地了解相关知识，或者自行探索应用开发。
</li>
              
              
                <li class="devsite-nav-item">
                  <a href="https://developer.android.com/get-started/overview?hl=zh-cn"
                    
                     track-type="nav"
                     track-metadata-eventdetail="https://developer.android.com/get-started/overview?hl=zh-cn"
                     track-metadata-position="nav - 基本知识"
                     track-metadata-module="tertiary nav"
                     
                       track-metadata-module_headline="开始使用"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Hello World
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://developer.android.com/courses?hl=zh-cn"
                    
                     track-type="nav"
                     track-metadata-eventdetail="https://developer.android.com/courses?hl=zh-cn"
                     track-metadata-position="nav - 基本知识"
                     track-metadata-module="tertiary nav"
                     
                       track-metadata-module_headline="开始使用"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      培训课程
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://developer.android.com/get-started/codelabs?hl=zh-cn"
                    
                     track-type="nav"
                     track-metadata-eventdetail="https://developer.android.com/get-started/codelabs?hl=zh-cn"
                     track-metadata-position="nav - 基本知识"
                     track-metadata-module="tertiary nav"
                     
                       track-metadata-module_headline="开始使用"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      教程
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://developer.android.com/develop/ui/compose/adopt?hl=zh-cn"
                    
                     track-type="nav"
                     track-metadata-eventdetail="https://developer.android.com/develop/ui/compose/adopt?hl=zh-cn"
                     track-metadata-position="nav - 基本知识"
                     track-metadata-module="tertiary nav"
                     
                       track-metadata-module_headline="开始使用"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      团队版 Compose
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://developer.android.com/kotlin?hl=zh-cn"
                    
                     track-type="nav"
                     track-metadata-eventdetail="https://developer.android.com/kotlin?hl=zh-cn"
                     track-metadata-position="nav - 基本知识"
                     track-metadata-module="tertiary nav"
                     
                       track-metadata-module_headline="开始使用"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Android 版 Kotlin
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://play.google.com/console/about/guides/play-commerce/?hl=zh-cn"
                    
                     track-type="nav"
                     track-metadata-eventdetail="https://play.google.com/console/about/guides/play-commerce/?hl=zh-cn"
                     track-metadata-position="nav - 基本知识"
                     track-metadata-module="tertiary nav"
                     
                       track-metadata-module_headline="开始使用"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      利用 Play 变现 ↗️
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://developer.android.com/developer-verification?hl=zh-cn"
                    
                     track-type="nav"
                     track-metadata-eventdetail="https://developer.android.com/developer-verification?hl=zh-cn"
                     track-metadata-position="nav - 基本知识"
                     track-metadata-module="tertiary nav"
                     
                       track-metadata-module_headline="开始使用"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Android 开发者验证工具
                    </div>
                    
                  </a>
                </li>
              
            </ul>
          
        </div>
      
        <div class="devsite-tabs-dropdown-column
                    android-dropdown">
          
            <ul class="devsite-tabs-dropdown-section
                       android-dropdown-section-icon android-dropdown-section-icon-multiple-screens">
              
                <li class="devsite-nav-title" role="heading" tooltip>按设备扩展</li>
              
              
                <li class="devsite-nav-description">构建可让用户在手机、平板电脑、手表、头戴设备等设备上获享无缝体验的应用。
</li>
              
              
                <li class="devsite-nav-item">
                  <a href="https://developer.android.com/adaptive-apps?hl=zh-cn"
                    
                     track-type="nav"
                     track-metadata-eventdetail="https://developer.android.com/adaptive-apps?hl=zh-cn"
                     track-metadata-position="nav - 基本知识"
                     track-metadata-module="tertiary nav"
                     
                       track-metadata-module_headline="按设备扩展"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      自适应应用
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://developer.android.com/xr?hl=zh-cn"
                    
                     track-type="nav"
                     track-metadata-eventdetail="https://developer.android.com/xr?hl=zh-cn"
                     track-metadata-position="nav - 基本知识"
                     track-metadata-module="tertiary nav"
                     
                       track-metadata-module_headline="按设备扩展"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Android XR
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://developer.android.com/wear?hl=zh-cn"
                    
                     track-type="nav"
                     track-metadata-eventdetail="https://developer.android.com/wear?hl=zh-cn"
                     track-metadata-position="nav - 基本知识"
                     track-metadata-module="tertiary nav"
                     
                       track-metadata-module_headline="按设备扩展"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Wear OS
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://developer.android.com/cars?hl=zh-cn"
                    
                     track-type="nav"
                     track-metadata-eventdetail="https://developer.android.com/cars?hl=zh-cn"
                     track-metadata-position="nav - 基本知识"
                     track-metadata-module="tertiary nav"
                     
                       track-metadata-module_headline="按设备扩展"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Android for Cars
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://developer.android.com/tv?hl=zh-cn"
                    
                     track-type="nav"
                     track-metadata-eventdetail="https://developer.android.com/tv?hl=zh-cn"
                     track-metadata-position="nav - 基本知识"
                     track-metadata-module="tertiary nav"
                     
                       track-metadata-module_headline="按设备扩展"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Android TV
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://developer.android.com/chrome-os?hl=zh-cn"
                    
                     track-type="nav"
                     track-metadata-eventdetail="https://developer.android.com/chrome-os?hl=zh-cn"
                     track-metadata-position="nav - 基本知识"
                     track-metadata-module="tertiary nav"
                     
                       track-metadata-module_headline="按设备扩展"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      ChromeOS
                    </div>
                    
                  </a>
                </li>
              
            </ul>
          
        </div>
      
        <div class="devsite-tabs-dropdown-column
                    android-dropdown">
          
            <ul class="devsite-tabs-dropdown-section
                       android-dropdown-section-icon android-dropdown-section-icon-platform">
              
                <li class="devsite-nav-title" role="heading" tooltip>按类别构建</li>
              
              
                <li class="devsite-nav-description">了解如何按照 Google 的明确规范化指导，针对您的使用场景构建应用。
</li>
              
              
                <li class="devsite-nav-item">
                  <a href="https://developer.android.com/games?hl=zh-cn"
                    
                     track-type="nav"
                     track-metadata-eventdetail="https://developer.android.com/games?hl=zh-cn"
                     track-metadata-position="nav - 基本知识"
                     track-metadata-module="tertiary nav"
                     
                       track-metadata-module_headline="按类别构建"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      游戏
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://developer.android.com/media?hl=zh-cn"
                    
                     track-type="nav"
                     track-metadata-eventdetail="https://developer.android.com/media?hl=zh-cn"
                     track-metadata-position="nav - 基本知识"
                     track-metadata-module="tertiary nav"
                     
                       track-metadata-module_headline="按类别构建"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      相机与媒体
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://developer.android.com/social-and-messaging?hl=zh-cn"
                    
                     track-type="nav"
                     track-metadata-eventdetail="https://developer.android.com/social-and-messaging?hl=zh-cn"
                     track-metadata-position="nav - 基本知识"
                     track-metadata-module="tertiary nav"
                     
                       track-metadata-module_headline="按类别构建"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      社交与消息
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://developer.android.com/health-and-fitness?hl=zh-cn"
                    
                     track-type="nav"
                     track-metadata-eventdetail="https://developer.android.com/health-and-fitness?hl=zh-cn"
                     track-metadata-position="nav - 基本知识"
                     track-metadata-module="tertiary nav"
                     
                       track-metadata-module_headline="按类别构建"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      健康与健身
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://developer.android.com/productivity?hl=zh-cn"
                    
                     track-type="nav"
                     track-metadata-eventdetail="https://developer.android.com/productivity?hl=zh-cn"
                     track-metadata-position="nav - 基本知识"
                     track-metadata-module="tertiary nav"
                     
                       track-metadata-module_headline="按类别构建"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      工作效率
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://developer.android.com/work/overview?hl=zh-cn"
                    
                     track-type="nav"
                     track-metadata-eventdetail="https://developer.android.com/work/overview?hl=zh-cn"
                     track-metadata-position="nav - 基本知识"
                     track-metadata-module="tertiary nav"
                     
                       track-metadata-module_headline="按类别构建"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      企业应用
                    </div>
                    
                  </a>
                </li>
              
            </ul>
          
        </div>
      
        <div class="devsite-tabs-dropdown-column
                    android-dropdown">
          
            <ul class="devsite-tabs-dropdown-section
                       android-dropdown-section-icon android-dropdown-section-icon-stars">
              
                <li class="devsite-nav-title" role="heading" tooltip>掌握最新资讯</li>
              
              
                <li class="devsite-nav-description">及时了解一年中发布的新版本，加入我们的试用计划，并向我们提供反馈。
</li>
              
              
                <li class="devsite-nav-item">
                  <a href="https://developer.android.com/latest-updates?hl=zh-cn"
                    
                     track-type="nav"
                     track-metadata-eventdetail="https://developer.android.com/latest-updates?hl=zh-cn"
                     track-metadata-position="nav - 基本知识"
                     track-metadata-module="tertiary nav"
                     
                       track-metadata-module_headline="掌握最新资讯"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      最新动态
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://developer.android.com/latest-updates/experimental?hl=zh-cn"
                    
                     track-type="nav"
                     track-metadata-eventdetail="https://developer.android.com/latest-updates/experimental?hl=zh-cn"
                     track-metadata-position="nav - 基本知识"
                     track-metadata-module="tertiary nav"
                     
                       track-metadata-module_headline="掌握最新资讯"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      实验性更新
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://developer.android.com/studio/preview?hl=zh-cn"
                    
                     track-type="nav"
                     track-metadata-eventdetail="https://developer.android.com/studio/preview?hl=zh-cn"
                     track-metadata-position="nav - 基本知识"
                     track-metadata-module="tertiary nav"
                     
                       track-metadata-module_headline="掌握最新资讯"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Android Studio 预览版
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://developer.android.com/jetpack/androidx/versions?hl=zh-cn"
                    
                     track-type="nav"
                     track-metadata-eventdetail="https://developer.android.com/jetpack/androidx/versions?hl=zh-cn"
                     track-metadata-position="nav - 基本知识"
                     track-metadata-module="tertiary nav"
                     
                       track-metadata-module_headline="掌握最新资讯"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Jetpack 库和 Compose 库
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://developer.android.com/training/wearables/versions/latest?hl=zh-cn"
                    
                     track-type="nav"
                     track-metadata-eventdetail="https://developer.android.com/training/wearables/versions/latest?hl=zh-cn"
                     track-metadata-position="nav - 基本知识"
                     track-metadata-module="tertiary nav"
                     
                       track-metadata-module_headline="掌握最新资讯"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Wear OS 版本
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://developer.android.com/design-for-safety/privacy-sandbox?hl=zh-cn"
                    
                     track-type="nav"
                     track-metadata-eventdetail="https://developer.android.com/design-for-safety/privacy-sandbox?hl=zh-cn"
                     track-metadata-position="nav - 基本知识"
                     track-metadata-module="tertiary nav"
                     
                       track-metadata-module_headline="掌握最新资讯"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Privacy Sandbox ↗️
                    </div>
                    
                  </a>
                </li>
              
            </ul>
          
        </div>
      
    </div>
  </div>
</tab>
        
      
        
          <tab class="devsite-dropdown
    devsite-dropdown-full
    
    
    ">
  
    <a href="https://developer.android.com/design?hl=zh-cn"
    class="devsite-tabs-content gc-analytics-event android-dropdown-tab"
      track-metadata-eventdetail="https://developer.android.com/design?hl=zh-cn"
    
       track-type="nav"
       track-metadata-position="nav - 设计和规划"
       track-metadata-module="primary nav"
       
       
         
           data-category="Site-Wide Custom Events"
         
           data-label="Tab: 设计和规划"
         
           track-name="设计和规划"
         
       >
    设计和规划
  
    </a>
    
      <button
         aria-haspopup="menu"
         aria-expanded="false"
         aria-label="以下项的下拉菜单 设计和规划"
         track-type="nav"
         track-metadata-eventdetail="https://developer.android.com/design?hl=zh-cn"
         track-metadata-position="nav - 设计和规划"
         track-metadata-module="primary nav"
         
          
            data-category="Site-Wide Custom Events"
          
            data-label="Tab: 设计和规划"
          
            track-name="设计和规划"
          
        
         class="devsite-tabs-dropdown-toggle devsite-icon devsite-icon-arrow-drop-down"></button>
    
  
  <div class="devsite-tabs-dropdown" role="menu" aria-label="submenu" hidden>
    
    <div class="devsite-tabs-dropdown-content">
      
        <div class="devsite-tabs-dropdown-column
                    android-dropdown android-dropdown-primary android-dropdown-mad">
          
            <ul class="devsite-tabs-dropdown-section
                       ">
              
                <li class="devsite-nav-title" role="heading" tooltip>出色体验</li>
              
              
                <li class="devsite-nav-description">为优质用户打造优质体验。
</li>
              
              
                <li class="devsite-nav-item">
                  <a href="https://developer.android.com/quality/excellent?hl=zh-cn"
                    
                     track-type="nav"
                     track-metadata-eventdetail="https://developer.android.com/quality/excellent?hl=zh-cn"
                     track-metadata-position="nav - 设计和规划"
                     track-metadata-module="tertiary nav"
                     
                       track-metadata-module_headline="出色体验"
                     
                     tooltip
                  
                    
                     class="button button-primary"
                    
                  >
                    
                    <div class="devsite-nav-item-title">
                      了解详情
                    </div>
                    
                  </a>
                </li>
              
            </ul>
          
        </div>
      
        <div class="devsite-tabs-dropdown-column
                    android-dropdown">
          
            <ul class="devsite-tabs-dropdown-section
                       android-dropdown-section-icon android-dropdown-section-icon-layout">
              
                <li class="devsite-nav-title" role="heading" tooltip>界面设计</li>
              
              
                <li class="devsite-nav-description">遵循 Android 最佳实践设计精美的界面。</li>
              
              
                <li class="devsite-nav-item">
                  <a href="https://developer.android.com/design/ui?hl=zh-cn"
                    
                     track-type="nav"
                     track-metadata-eventdetail="https://developer.android.com/design/ui?hl=zh-cn"
                     track-metadata-position="nav - 设计和规划"
                     track-metadata-module="tertiary nav"
                     
                       track-metadata-module_headline="界面设计"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      为 Android 设计
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://developer.android.com/design/ui/mobile?hl=zh-cn"
                    
                     track-type="nav"
                     track-metadata-eventdetail="https://developer.android.com/design/ui/mobile?hl=zh-cn"
                     track-metadata-position="nav - 设计和规划"
                     track-metadata-module="tertiary nav"
                     
                       track-metadata-module_headline="界面设计"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      移动
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://developer.android.com/design/ui/large-screens?hl=zh-cn"
                    
                     track-type="nav"
                     track-metadata-eventdetail="https://developer.android.com/design/ui/large-screens?hl=zh-cn"
                     track-metadata-position="nav - 设计和规划"
                     track-metadata-module="tertiary nav"
                     
                       track-metadata-module_headline="界面设计"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      自适应界面
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://developer.android.com/design/ui/xr?hl=zh-cn"
                    
                     track-type="nav"
                     track-metadata-eventdetail="https://developer.android.com/design/ui/xr?hl=zh-cn"
                     track-metadata-position="nav - 设计和规划"
                     track-metadata-module="tertiary nav"
                     
                       track-metadata-module_headline="界面设计"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Android XR
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://developer.android.com/design/ui/widget?hl=zh-cn"
                    
                     track-type="nav"
                     track-metadata-eventdetail="https://developer.android.com/design/ui/widget?hl=zh-cn"
                     track-metadata-position="nav - 设计和规划"
                     track-metadata-module="tertiary nav"
                     
                       track-metadata-module_headline="界面设计"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      widget
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://developer.android.com/design/ui/wear?hl=zh-cn"
                    
                     track-type="nav"
                     track-metadata-eventdetail="https://developer.android.com/design/ui/wear?hl=zh-cn"
                     track-metadata-position="nav - 设计和规划"
                     track-metadata-module="tertiary nav"
                     
                       track-metadata-module_headline="界面设计"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Wear OS
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://developer.android.com/design/ui/tv?hl=zh-cn"
                    
                     track-type="nav"
                     track-metadata-eventdetail="https://developer.android.com/design/ui/tv?hl=zh-cn"
                     track-metadata-position="nav - 设计和规划"
                     track-metadata-module="tertiary nav"
                     
                       track-metadata-module_headline="界面设计"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Android TV
                    </div>
                    
                  </a>
                </li>
              
            </ul>
          
        </div>
      
        <div class="devsite-tabs-dropdown-column
                    android-dropdown">
          
            <ul class="devsite-tabs-dropdown-section
                       android-dropdown-section-icon android-dropdown-section-icon-design">
              
                <li class="devsite-nav-title" role="heading" tooltip>架构</li>
              
              
                <li class="devsite-nav-description">设计可靠、可测试且可维护的应用逻辑和服务。</li>
              
              
                <li class="devsite-nav-item">
                  <a href="https://developer.android.com/topic/architecture/intro?hl=zh-cn"
                    
                     track-type="nav"
                     track-metadata-eventdetail="https://developer.android.com/topic/architecture/intro?hl=zh-cn"
                     track-metadata-position="nav - 设计和规划"
                     track-metadata-module="tertiary nav"
                     
                       track-metadata-module_headline="架构"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      简介
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://developer.android.com/topic/libraries/view-binding?hl=zh-cn"
                    
                     track-type="nav"
                     track-metadata-eventdetail="https://developer.android.com/topic/libraries/view-binding?hl=zh-cn"
                     track-metadata-position="nav - 设计和规划"
                     track-metadata-module="tertiary nav"
                     
                       track-metadata-module_headline="架构"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      库
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://developer.android.com/guide/navigation/navigation-principles?hl=zh-cn"
                    
                     track-type="nav"
                     track-metadata-eventdetail="https://developer.android.com/guide/navigation/navigation-principles?hl=zh-cn"
                     track-metadata-position="nav - 设计和规划"
                     track-metadata-module="tertiary nav"
                     
                       track-metadata-module_headline="架构"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      导航
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://developer.android.com/topic/modularization?hl=zh-cn"
                    
                     track-type="nav"
                     track-metadata-eventdetail="https://developer.android.com/topic/modularization?hl=zh-cn"
                     track-metadata-position="nav - 设计和规划"
                     track-metadata-module="tertiary nav"
                     
                       track-metadata-module_headline="架构"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      模块化
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://developer.android.com/training/testing/fundamentals?hl=zh-cn"
                    
                     track-type="nav"
                     track-metadata-eventdetail="https://developer.android.com/training/testing/fundamentals?hl=zh-cn"
                     track-metadata-position="nav - 设计和规划"
                     track-metadata-module="tertiary nav"
                     
                       track-metadata-module_headline="架构"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      测试
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://developer.android.com/kotlin/multiplatform?hl=zh-cn"
                    
                     track-type="nav"
                     track-metadata-eventdetail="https://developer.android.com/kotlin/multiplatform?hl=zh-cn"
                     track-metadata-position="nav - 设计和规划"
                     track-metadata-module="tertiary nav"
                     
                       track-metadata-module_headline="架构"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Kotlin Multiplatform
                    </div>
                    
                  </a>
                </li>
              
            </ul>
          
        </div>
      
        <div class="devsite-tabs-dropdown-column
                    android-dropdown">
          
            <ul class="devsite-tabs-dropdown-section
                       android-dropdown-section-icon android-dropdown-section-icon-vitals">
              
                <li class="devsite-nav-title" role="heading" tooltip>质量</li>
              
              
                <li class="devsite-nav-description">妥善规划，打造高品质应用并符合 Play 商店准则。</li>
              
              
                <li class="devsite-nav-item">
                  <a href="https://developer.android.com/quality?hl=zh-cn"
                    
                     track-type="nav"
                     track-metadata-eventdetail="https://developer.android.com/quality?hl=zh-cn"
                     track-metadata-position="nav - 设计和规划"
                     track-metadata-module="tertiary nav"
                     
                       track-metadata-module_headline="质量"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      概览
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://developer.android.com/quality/core-value?hl=zh-cn"
                    
                     track-type="nav"
                     track-metadata-eventdetail="https://developer.android.com/quality/core-value?hl=zh-cn"
                     track-metadata-position="nav - 设计和规划"
                     track-metadata-module="tertiary nav"
                     
                       track-metadata-module_headline="质量"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      核心价值
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://developer.android.com/quality/user-experience?hl=zh-cn"
                    
                     track-type="nav"
                     track-metadata-eventdetail="https://developer.android.com/quality/user-experience?hl=zh-cn"
                     track-metadata-position="nav - 设计和规划"
                     track-metadata-module="tertiary nav"
                     
                       track-metadata-module_headline="质量"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      用户体验
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://developer.android.com/guide/topics/ui/accessibility?hl=zh-cn"
                    
                     track-type="nav"
                     track-metadata-eventdetail="https://developer.android.com/guide/topics/ui/accessibility?hl=zh-cn"
                     track-metadata-position="nav - 设计和规划"
                     track-metadata-module="tertiary nav"
                     
                       track-metadata-module_headline="质量"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      无障碍
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://developer.android.com/quality/technical?hl=zh-cn"
                    
                     track-type="nav"
                     track-metadata-eventdetail="https://developer.android.com/quality/technical?hl=zh-cn"
                     track-metadata-position="nav - 设计和规划"
                     track-metadata-module="tertiary nav"
                     
                       track-metadata-module_headline="质量"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      技术质量
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://developer.android.com/quality/excellent?hl=zh-cn"
                    
                     track-type="nav"
                     track-metadata-eventdetail="https://developer.android.com/quality/excellent?hl=zh-cn"
                     track-metadata-position="nav - 设计和规划"
                     track-metadata-module="tertiary nav"
                     
                       track-metadata-module_headline="质量"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      出色体验
                    </div>
                    
                  </a>
                </li>
              
            </ul>
          
        </div>
      
        <div class="devsite-tabs-dropdown-column
                    android-dropdown">
          
            <ul class="devsite-tabs-dropdown-section
                       android-dropdown-section-icon android-dropdown-section-icon-security-2">
              
                <li class="devsite-nav-title" role="heading" tooltip>安全</li>
              
              
                <li class="devsite-nav-description">保护用户免受威胁，确保安全的 Android 体验。</li>
              
              
                <li class="devsite-nav-item">
                  <a href="https://developer.android.com/security?hl=zh-cn"
                    
                     track-type="nav"
                     track-metadata-eventdetail="https://developer.android.com/security?hl=zh-cn"
                     track-metadata-position="nav - 设计和规划"
                     track-metadata-module="tertiary nav"
                     
                       track-metadata-module_headline="安全"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      概览
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://developer.android.com/privacy-and-security/about?hl=zh-cn"
                    
                     track-type="nav"
                     track-metadata-eventdetail="https://developer.android.com/privacy-and-security/about?hl=zh-cn"
                     track-metadata-position="nav - 设计和规划"
                     track-metadata-module="tertiary nav"
                     
                       track-metadata-module_headline="安全"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      隐私权
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://developer.android.com/guide/topics/permissions/overview?hl=zh-cn"
                    
                     track-type="nav"
                     track-metadata-eventdetail="https://developer.android.com/guide/topics/permissions/overview?hl=zh-cn"
                     track-metadata-position="nav - 设计和规划"
                     track-metadata-module="tertiary nav"
                     
                       track-metadata-module_headline="安全"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      权限
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://developer.android.com/identity?hl=zh-cn"
                    
                     track-type="nav"
                     track-metadata-eventdetail="https://developer.android.com/identity?hl=zh-cn"
                     track-metadata-position="nav - 设计和规划"
                     track-metadata-module="tertiary nav"
                     
                       track-metadata-module_headline="安全"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      身份
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://developer.android.com/security/fraud-prevention?hl=zh-cn"
                    
                     track-type="nav"
                     track-metadata-eventdetail="https://developer.android.com/security/fraud-prevention?hl=zh-cn"
                     track-metadata-position="nav - 设计和规划"
                     track-metadata-module="tertiary nav"
                     
                       track-metadata-module_headline="安全"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      防范欺诈
                    </div>
                    
                  </a>
                </li>
              
            </ul>
          
        </div>
      
    </div>
  </div>
</tab>
        
      
        
          <tab class="devsite-dropdown
    devsite-dropdown-full
    
    
    ">
  
    <a href="https://developer.android.com/develop?hl=zh-cn"
    class="devsite-tabs-content gc-analytics-event android-dropdown-tab"
      track-metadata-eventdetail="https://developer.android.com/develop?hl=zh-cn"
    
       track-type="nav"
       track-metadata-position="nav - 开发"
       track-metadata-module="primary nav"
       
       
         
           data-category="Site-Wide Custom Events"
         
           data-label="Tab: 开发"
         
           track-name="开发"
         
       >
    开发
  
    </a>
    
      <button
         aria-haspopup="menu"
         aria-expanded="false"
         aria-label="以下项的下拉菜单 开发"
         track-type="nav"
         track-metadata-eventdetail="https://developer.android.com/develop?hl=zh-cn"
         track-metadata-position="nav - 开发"
         track-metadata-module="primary nav"
         
          
            data-category="Site-Wide Custom Events"
          
            data-label="Tab: 开发"
          
            track-name="开发"
          
        
         class="devsite-tabs-dropdown-toggle devsite-icon devsite-icon-arrow-drop-down"></button>
    
  
  <div class="devsite-tabs-dropdown" role="menu" aria-label="submenu" hidden>
    
    <div class="devsite-tabs-dropdown-content">
      
        <div class="devsite-tabs-dropdown-column
                    android-dropdown android-dropdown-primary android-dropdown-studio">
          
            <ul class="devsite-tabs-dropdown-section
                       ">
              
                <li class="devsite-nav-title" role="heading" tooltip>Android Studio 中的 Gemini</li>
              
              
                <li class="devsite-nav-description">用于 Android 开发的 AI 开发助手。
</li>
              
              
                <li class="devsite-nav-item">
                  <a href="https://developer.android.com/gemini-in-android?hl=zh-cn"
                    
                     track-type="nav"
                     track-metadata-eventdetail="https://developer.android.com/gemini-in-android?hl=zh-cn"
                     track-metadata-position="nav - 开发"
                     track-metadata-module="tertiary nav"
                     
                       track-metadata-module_headline="android studio 中的 gemini"
                     
                     tooltip
                  
                    
                     class="button button-primary"
                    
                  >
                    
                    <div class="devsite-nav-item-title">
                      了解详情
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://developer.android.com/studio?hl=zh-cn"
                    
                     track-type="nav"
                     track-metadata-eventdetail="https://developer.android.com/studio?hl=zh-cn"
                     track-metadata-position="nav - 开发"
                     track-metadata-module="tertiary nav"
                     
                       track-metadata-module_headline="android studio 中的 gemini"
                     
                     tooltip
                  
                    
                     class="button button-white"
                    
                  >
                    
                    <div class="devsite-nav-item-title">
                      获取 Android Studio
                    </div>
                    
                  </a>
                </li>
              
            </ul>
          
        </div>
      
        <div class="devsite-tabs-dropdown-column
                    android-dropdown">
          
            <ul class="devsite-tabs-dropdown-section
                       android-dropdown-section-icon android-dropdown-section-icon-flag">
              
                <li class="devsite-nav-title" role="heading" tooltip>核心领域</li>
              
              
                <li class="devsite-nav-description">获取所需功能的相关示例和文档。</li>
              
              
                <li class="devsite-nav-item">
                  <a href="https://developer.android.com/samples?hl=zh-cn"
                    
                     track-type="nav"
                     track-metadata-eventdetail="https://developer.android.com/samples?hl=zh-cn"
                     track-metadata-position="nav - 开发"
                     track-metadata-module="tertiary nav"
                     
                       track-metadata-module_headline="核心领域"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      示例
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://developer.android.com/develop/ui?hl=zh-cn"
                    
                     track-type="nav"
                     track-metadata-eventdetail="https://developer.android.com/develop/ui?hl=zh-cn"
                     track-metadata-position="nav - 开发"
                     track-metadata-module="tertiary nav"
                     
                       track-metadata-module_headline="核心领域"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      界面
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://developer.android.com/develop/background-work?hl=zh-cn"
                    
                     track-type="nav"
                     track-metadata-eventdetail="https://developer.android.com/develop/background-work?hl=zh-cn"
                     track-metadata-position="nav - 开发"
                     track-metadata-module="tertiary nav"
                     
                       track-metadata-module_headline="核心领域"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      后台工作
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://developer.android.com/guide/topics/data?hl=zh-cn"
                    
                     track-type="nav"
                     track-metadata-eventdetail="https://developer.android.com/guide/topics/data?hl=zh-cn"
                     track-metadata-position="nav - 开发"
                     track-metadata-module="tertiary nav"
                     
                       track-metadata-module_headline="核心领域"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      数据和文件
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://developer.android.com/develop/connectivity?hl=zh-cn"
                    
                     track-type="nav"
                     track-metadata-eventdetail="https://developer.android.com/develop/connectivity?hl=zh-cn"
                     track-metadata-position="nav - 开发"
                     track-metadata-module="tertiary nav"
                     
                       track-metadata-module_headline="核心领域"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      连接
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://developer.android.com/develop?hl=zh-cn#core-areas"
                    
                     track-type="nav"
                     track-metadata-eventdetail="https://developer.android.com/develop?hl=zh-cn#core-areas"
                     track-metadata-position="nav - 开发"
                     track-metadata-module="tertiary nav"
                     
                       track-metadata-module_headline="核心领域"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      所有核心领域 ⤵️
                    </div>
                    
                  </a>
                </li>
              
            </ul>
          
        </div>
      
        <div class="devsite-tabs-dropdown-column
                    android-dropdown">
          
            <ul class="devsite-tabs-dropdown-section
                       android-dropdown-section-icon android-dropdown-section-icon-tools-2">
              
                <li class="devsite-nav-title" role="heading" tooltip>工具和工作流</li>
              
              
                <li class="devsite-nav-description">您可以使用 IDE 编写和构建应用，或创建自己的流水线。</li>
              
              
                <li class="devsite-nav-item">
                  <a href="https://developer.android.com/studio/write?hl=zh-cn"
                    
                     track-type="nav"
                     track-metadata-eventdetail="https://developer.android.com/studio/write?hl=zh-cn"
                     track-metadata-position="nav - 开发"
                     track-metadata-module="tertiary nav"
                     
                       track-metadata-module_headline="工具和工作流"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      编写和调试代码
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://developer.android.com/build/gradle-build-overview?hl=zh-cn"
                    
                     track-type="nav"
                     track-metadata-eventdetail="https://developer.android.com/build/gradle-build-overview?hl=zh-cn"
                     track-metadata-position="nav - 开发"
                     track-metadata-module="tertiary nav"
                     
                       track-metadata-module_headline="工具和工作流"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      构建项目
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://developer.android.com/training/testing?hl=zh-cn"
                    
                     track-type="nav"
                     track-metadata-eventdetail="https://developer.android.com/training/testing?hl=zh-cn"
                     track-metadata-position="nav - 开发"
                     track-metadata-module="tertiary nav"
                     
                       track-metadata-module_headline="工具和工作流"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      测试应用
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://developer.android.com/topic/performance/overview?hl=zh-cn"
                    
                     track-type="nav"
                     track-metadata-eventdetail="https://developer.android.com/topic/performance/overview?hl=zh-cn"
                     track-metadata-position="nav - 开发"
                     track-metadata-module="tertiary nav"
                     
                       track-metadata-module_headline="工具和工作流"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      性能
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://developer.android.com/tools?hl=zh-cn"
                    
                     track-type="nav"
                     track-metadata-eventdetail="https://developer.android.com/tools?hl=zh-cn"
                     track-metadata-position="nav - 开发"
                     track-metadata-module="tertiary nav"
                     
                       track-metadata-module_headline="工具和工作流"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      命令行工具
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://developer.android.com/reference/tools/gradle-api?hl=zh-cn"
                    
                     track-type="nav"
                     track-metadata-eventdetail="https://developer.android.com/reference/tools/gradle-api?hl=zh-cn"
                     track-metadata-position="nav - 开发"
                     track-metadata-module="tertiary nav"
                     
                       track-metadata-module_headline="工具和工作流"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Gradle 插件 API
                    </div>
                    
                  </a>
                </li>
              
            </ul>
          
        </div>
      
        <div class="devsite-tabs-dropdown-column
                    android-dropdown">
          
            <ul class="devsite-tabs-dropdown-section
                       android-dropdown-section-icon android-dropdown-section-icon-multiple-screens">
              
                <li class="devsite-nav-title" role="heading" tooltip>设备技术</li>
              
              
                <li class="devsite-nav-description">针对不同设备规格编写代码。连接设备并共享数据。</li>
              
              
                <li class="devsite-nav-item">
                  <a href="https://developer.android.com/guide/topics/large-screens/get-started-with-large-screens?hl=zh-cn"
                    
                     track-type="nav"
                     track-metadata-eventdetail="https://developer.android.com/guide/topics/large-screens/get-started-with-large-screens?hl=zh-cn"
                     track-metadata-position="nav - 开发"
                     track-metadata-module="tertiary nav"
                     
                       track-metadata-module_headline="设备技术"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      自适应界面
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://developer.android.com/training/wearables?hl=zh-cn"
                    
                     track-type="nav"
                     track-metadata-eventdetail="https://developer.android.com/training/wearables?hl=zh-cn"
                     track-metadata-position="nav - 开发"
                     track-metadata-module="tertiary nav"
                     
                       track-metadata-module_headline="设备技术"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Wear OS
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://developer.android.com/develop/xr?hl=zh-cn"
                    
                     track-type="nav"
                     track-metadata-eventdetail="https://developer.android.com/develop/xr?hl=zh-cn"
                     track-metadata-position="nav - 开发"
                     track-metadata-module="tertiary nav"
                     
                       track-metadata-module_headline="设备技术"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Android XR
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://developer.android.com/health-and-fitness/guides?hl=zh-cn"
                    
                     track-type="nav"
                     track-metadata-eventdetail="https://developer.android.com/health-and-fitness/guides?hl=zh-cn"
                     track-metadata-position="nav - 开发"
                     track-metadata-module="tertiary nav"
                     
                       track-metadata-module_headline="设备技术"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Android 运行状况
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://developer.android.com/training/cars?hl=zh-cn"
                    
                     track-type="nav"
                     track-metadata-eventdetail="https://developer.android.com/training/cars?hl=zh-cn"
                     track-metadata-position="nav - 开发"
                     track-metadata-module="tertiary nav"
                     
                       track-metadata-module_headline="设备技术"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Android for Cars
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://developer.android.com/training/tv?hl=zh-cn"
                    
                     track-type="nav"
                     track-metadata-eventdetail="https://developer.android.com/training/tv?hl=zh-cn"
                     track-metadata-position="nav - 开发"
                     track-metadata-module="tertiary nav"
                     
                       track-metadata-module_headline="设备技术"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Android TV
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://developer.android.com/develop?hl=zh-cn#devices"
                    
                     track-type="nav"
                     track-metadata-eventdetail="https://developer.android.com/develop?hl=zh-cn#devices"
                     track-metadata-position="nav - 开发"
                     track-metadata-module="tertiary nav"
                     
                       track-metadata-module_headline="设备技术"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      所有设备 ⤵️
                    </div>
                    
                  </a>
                </li>
              
            </ul>
          
        </div>
      
        <div class="devsite-tabs-dropdown-column
                    android-dropdown">
          
            <ul class="devsite-tabs-dropdown-section
                       android-dropdown-section-icon android-dropdown-section-icon-core-library">
              
                <li class="devsite-nav-title" role="heading" tooltip>库</li>
              
              
                <li class="devsite-nav-description">浏览 API 参考文档，了解各方面的详细信息。</li>
              
              
                <li class="devsite-nav-item">
                  <a href="https://developer.android.com/reference/packages?hl=zh-cn"
                    
                     track-type="nav"
                     track-metadata-eventdetail="https://developer.android.com/reference/packages?hl=zh-cn"
                     track-metadata-position="nav - 开发"
                     track-metadata-module="tertiary nav"
                     
                       track-metadata-module_headline="库"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Android 平台
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://developer.android.com/jetpack/androidx/explorer?hl=zh-cn"
                    
                     track-type="nav"
                     track-metadata-eventdetail="https://developer.android.com/jetpack/androidx/explorer?hl=zh-cn"
                     track-metadata-position="nav - 开发"
                     track-metadata-module="tertiary nav"
                     
                       track-metadata-module_headline="库"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Jetpack 库
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://developer.android.com/jetpack/androidx/releases/compose?hl=zh-cn"
                    
                     track-type="nav"
                     track-metadata-eventdetail="https://developer.android.com/jetpack/androidx/releases/compose?hl=zh-cn"
                     track-metadata-position="nav - 开发"
                     track-metadata-module="tertiary nav"
                     
                       track-metadata-module_headline="库"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Compose 库
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://developers.google.com/android/reference/packages?hl=zh-cn"
                    
                     track-type="nav"
                     track-metadata-eventdetail="https://developers.google.com/android/reference/packages?hl=zh-cn"
                     track-metadata-position="nav - 开发"
                     track-metadata-module="tertiary nav"
                     
                       track-metadata-module_headline="库"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Google Play 服务 ↗️
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://play.google.com/sdks?hl=zh-cn"
                    
                     track-type="nav"
                     track-metadata-eventdetail="https://play.google.com/sdks?hl=zh-cn"
                     track-metadata-position="nav - 开发"
                     track-metadata-module="tertiary nav"
                     
                       track-metadata-module_headline="库"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Google Play SDK 索引 ↗️
                    </div>
                    
                  </a>
                </li>
              
            </ul>
          
        </div>
      
    </div>
  </div>
</tab>
        
      
        
          <tab class="devsite-dropdown
    devsite-dropdown-full
    devsite-active
    
    ">
  
    <a href="https://developer.android.com/distribute?hl=zh-cn"
    class="devsite-tabs-content gc-analytics-event android-dropdown-tab"
      track-metadata-eventdetail="https://developer.android.com/distribute?hl=zh-cn"
    
       track-type="nav"
       track-metadata-position="nav - google play"
       track-metadata-module="primary nav"
       aria-label="Google Play, selected" 
       
         
           data-category="Site-Wide Custom Events"
         
           data-label="Tab: Google Play"
         
           track-name="google play"
         
       >
    Google Play
  
    </a>
    
      <button
         aria-haspopup="menu"
         aria-expanded="false"
         aria-label="以下项的下拉菜单 Google Play"
         track-type="nav"
         track-metadata-eventdetail="https://developer.android.com/distribute?hl=zh-cn"
         track-metadata-position="nav - google play"
         track-metadata-module="primary nav"
         
          
            data-category="Site-Wide Custom Events"
          
            data-label="Tab: Google Play"
          
            track-name="google play"
          
        
         class="devsite-tabs-dropdown-toggle devsite-icon devsite-icon-arrow-drop-down"></button>
    
  
  <div class="devsite-tabs-dropdown" role="menu" aria-label="submenu" hidden>
    
    <div class="devsite-tabs-dropdown-content">
      
        <div class="devsite-tabs-dropdown-column
                    android-dropdown android-dropdown-primary android-dropdown-play">
          
            <ul class="devsite-tabs-dropdown-section
                       ">
              
                <li class="devsite-nav-title" role="heading" tooltip>Play 管理中心</li>
              
              
                <li class="devsite-nav-description">在 Google Play 上发布应用或游戏并拓展业务。
</li>
              
              
                <li class="devsite-nav-item">
                  <a href="https://play.google.com/console?hl=zh-cn"
                    
                     track-type="nav"
                     track-metadata-eventdetail="https://play.google.com/console?hl=zh-cn"
                     track-metadata-position="nav - google play"
                     track-metadata-module="tertiary nav"
                     
                       track-metadata-module_headline="play 管理中心"
                     
                     tooltip
                  
                    
                     class="button button-white"
                    
                  >
                    
                    <div class="devsite-nav-item-title">
                      转到 Play 管理中心
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://play.google.com/console/about/?hl=zh-cn"
                    
                     track-type="nav"
                     track-metadata-eventdetail="https://play.google.com/console/about/?hl=zh-cn"
                     track-metadata-position="nav - google play"
                     track-metadata-module="tertiary nav"
                     
                       track-metadata-module_headline="play 管理中心"
                     
                     tooltip
                  
                    
                     class="button button-primary"
                    
                  >
                    
                    <div class="devsite-nav-item-title">
                      了解详情 ↗️
                    </div>
                    
                  </a>
                </li>
              
            </ul>
          
        </div>
      
        <div class="devsite-tabs-dropdown-column
                    android-dropdown">
          
            <ul class="devsite-tabs-dropdown-section
                       android-dropdown-section-icon android-dropdown-section-icon-google-play">
              
                <li class="devsite-nav-title" role="heading" tooltip>基础知识</li>
              
              
                <li class="devsite-nav-description">了解如何吸引用户、创收并保障应用安全。</li>
              
              
                <li class="devsite-nav-item">
                  <a href="https://developer.android.com/distribute/play-billing?hl=zh-cn"
                    
                     track-type="nav"
                     track-metadata-eventdetail="https://developer.android.com/distribute/play-billing?hl=zh-cn"
                     track-metadata-position="nav - google play"
                     track-metadata-module="tertiary nav"
                     
                       track-metadata-module_headline="基础知识"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Google Play 变现
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://developer.android.com/google/play/integrity?hl=zh-cn"
                    
                     track-type="nav"
                     track-metadata-eventdetail="https://developer.android.com/google/play/integrity?hl=zh-cn"
                     track-metadata-position="nav - google play"
                     track-metadata-module="tertiary nav"
                     
                       track-metadata-module_headline="基础知识"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Play Integrity
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://developer.android.com/distribute/play-policies?hl=zh-cn"
                    
                     track-type="nav"
                     track-metadata-eventdetail="https://developer.android.com/distribute/play-policies?hl=zh-cn"
                     track-metadata-position="nav - google play"
                     track-metadata-module="tertiary nav"
                     
                       track-metadata-module_headline="基础知识"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Play 政策
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://play.google.com/console/about/programs?hl=zh-cn"
                    
                     track-type="nav"
                     track-metadata-eventdetail="https://play.google.com/console/about/programs?hl=zh-cn"
                     track-metadata-position="nav - google play"
                     track-metadata-module="tertiary nav"
                     
                       track-metadata-module_headline="基础知识"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Play 计划 ↗️
                    </div>
                    
                  </a>
                </li>
              
            </ul>
          
        </div>
      
        <div class="devsite-tabs-dropdown-column
                    android-dropdown">
          
            <ul class="devsite-tabs-dropdown-section
                       android-dropdown-section-icon android-dropdown-section-icon-game-controller">
              
                <li class="devsite-nav-title" role="heading" tooltip>游戏开发中心</li>
              
              
                <li class="devsite-nav-description">开发和交付游戏。获取所需的工具、下载内容和示例。</li>
              
              
                <li class="devsite-nav-item">
                  <a href="https://developer.android.com/games?hl=zh-cn"
                    
                     track-type="nav"
                     track-metadata-eventdetail="https://developer.android.com/games?hl=zh-cn"
                     track-metadata-position="nav - google play"
                     track-metadata-module="tertiary nav"
                     
                       track-metadata-module_headline="游戏开发中心"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      概览
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://developer.android.com/guide/playcore/asset-delivery?hl=zh-cn"
                    
                     track-type="nav"
                     track-metadata-eventdetail="https://developer.android.com/guide/playcore/asset-delivery?hl=zh-cn"
                     track-metadata-position="nav - google play"
                     track-metadata-module="tertiary nav"
                     
                       track-metadata-module_headline="游戏开发中心"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Play Asset Delivery
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://developer.android.com/games/pgs/overview?hl=zh-cn"
                    
                     track-type="nav"
                     track-metadata-eventdetail="https://developer.android.com/games/pgs/overview?hl=zh-cn"
                     track-metadata-position="nav - google play"
                     track-metadata-module="tertiary nav"
                     
                       track-metadata-module_headline="游戏开发中心"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Play 游戏服务
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://developer.android.com/games/playgames/overview?hl=zh-cn"
                    
                     track-type="nav"
                     track-metadata-eventdetail="https://developer.android.com/games/playgames/overview?hl=zh-cn"
                     track-metadata-position="nav - google play"
                     track-metadata-module="tertiary nav"
                     
                       track-metadata-module_headline="游戏开发中心"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Play 游戏电脑版
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://developer.android.com/distribute?hl=zh-cn"
                    
                     track-type="nav"
                     track-metadata-eventdetail="https://developer.android.com/distribute?hl=zh-cn"
                     track-metadata-position="nav - google play"
                     track-metadata-module="tertiary nav"
                     
                       track-metadata-module_headline="游戏开发中心"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      所有 Play 指南 ⤵️
                    </div>
                    
                  </a>
                </li>
              
            </ul>
          
        </div>
      
        <div class="devsite-tabs-dropdown-column
                    android-dropdown">
          
            <ul class="devsite-tabs-dropdown-section
                       android-dropdown-section-icon android-dropdown-section-icon-core-library">
              
                <li class="devsite-nav-title" role="heading" tooltip>库</li>
              
              
                <li class="devsite-nav-description">浏览 API 参考文档，了解各方面的详细信息。</li>
              
              
                <li class="devsite-nav-item">
                  <a href="https://developer.android.com/guide/playcore/feature-delivery?hl=zh-cn"
                    
                     track-type="nav"
                     track-metadata-eventdetail="https://developer.android.com/guide/playcore/feature-delivery?hl=zh-cn"
                     track-metadata-position="nav - google play"
                     track-metadata-module="tertiary nav"
                     
                       track-metadata-module_headline="库"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Play Feature Delivery
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://developer.android.com/guide/playcore/in-app-updates?hl=zh-cn"
                    
                     track-type="nav"
                     track-metadata-eventdetail="https://developer.android.com/guide/playcore/in-app-updates?hl=zh-cn"
                     track-metadata-position="nav - google play"
                     track-metadata-module="tertiary nav"
                     
                       track-metadata-module_headline="库"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Play 应用内更新
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://developer.android.com/guide/playcore/in-app-review?hl=zh-cn"
                    
                     track-type="nav"
                     track-metadata-eventdetail="https://developer.android.com/guide/playcore/in-app-review?hl=zh-cn"
                     track-metadata-position="nav - google play"
                     track-metadata-module="tertiary nav"
                     
                       track-metadata-module_headline="库"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Play 应用内评价
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://developer.android.com/google/play/installreferrer?hl=zh-cn"
                    
                     track-type="nav"
                     track-metadata-eventdetail="https://developer.android.com/google/play/installreferrer?hl=zh-cn"
                     track-metadata-position="nav - google play"
                     track-metadata-module="tertiary nav"
                     
                       track-metadata-module_headline="库"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Play Install Referrer
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://developers.google.com/android/reference/packages?hl=zh-cn"
                    
                     track-type="nav"
                     track-metadata-eventdetail="https://developers.google.com/android/reference/packages?hl=zh-cn"
                     track-metadata-position="nav - google play"
                     track-metadata-module="tertiary nav"
                     
                       track-metadata-module_headline="库"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Google Play 服务 ↗️
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://play.google.com/sdks?hl=zh-cn"
                    
                     track-type="nav"
                     track-metadata-eventdetail="https://play.google.com/sdks?hl=zh-cn"
                     track-metadata-position="nav - google play"
                     track-metadata-module="tertiary nav"
                     
                       track-metadata-module_headline="库"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Google Play SDK 索引 ↗️
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://developer.android.com/distribute?hl=zh-cn"
                    
                     track-type="nav"
                     track-metadata-eventdetail="https://developer.android.com/distribute?hl=zh-cn"
                     track-metadata-position="nav - google play"
                     track-metadata-module="tertiary nav"
                     
                       track-metadata-module_headline="库"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      所有 Play 内容库 ⤵️
                    </div>
                    
                  </a>
                </li>
              
            </ul>
          
        </div>
      
        <div class="devsite-tabs-dropdown-column
                    android-dropdown">
          
            <ul class="devsite-tabs-dropdown-section
                       android-dropdown-section-icon android-dropdown-section-icon-tools-2">
              
                <li class="devsite-nav-title" role="heading" tooltip>工具与资源</li>
              
              
                <li class="devsite-nav-description">发布、推广和管理应用的工具。</li>
              
              
                <li class="devsite-nav-item">
                  <a href="https://developer.android.com/guide/app-bundle?hl=zh-cn"
                    
                     track-type="nav"
                     track-metadata-eventdetail="https://developer.android.com/guide/app-bundle?hl=zh-cn"
                     track-metadata-position="nav - google play"
                     track-metadata-module="tertiary nav"
                     
                       track-metadata-module_headline="工具与资源"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Android App Bundle
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://developer.android.com/distribute/marketing-tools?hl=zh-cn"
                    
                     track-type="nav"
                     track-metadata-eventdetail="https://developer.android.com/distribute/marketing-tools?hl=zh-cn"
                     track-metadata-position="nav - google play"
                     track-metadata-module="tertiary nav"
                     
                       track-metadata-module_headline="工具与资源"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      品牌与营销
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://developers.google.com/android-publisher/api-ref/rest?hl=zh-cn"
                    
                     track-type="nav"
                     track-metadata-eventdetail="https://developers.google.com/android-publisher/api-ref/rest?hl=zh-cn"
                     track-metadata-position="nav - google play"
                     track-metadata-module="tertiary nav"
                     
                       track-metadata-module_headline="工具与资源"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Play 管理中心 API ↗️
                    </div>
                    
                  </a>
                </li>
              
            </ul>
          
        </div>
      
    </div>
  </div>
</tab>
        
      
        
          <tab  >
            
    <a href="https://developer.android.com/community?hl=zh-cn"
    class="devsite-tabs-content gc-analytics-event "
      track-metadata-eventdetail="https://developer.android.com/community?hl=zh-cn"
    
       track-type="nav"
       track-metadata-position="nav - 社区"
       track-metadata-module="primary nav"
       
       
         
           data-category="Site-Wide Custom Events"
         
           data-label="Tab: 社区"
         
           track-name="社区"
         
       >
    社区
  
    </a>
    
  
          </tab>
        
      
    </nav>

  </devsite-tabs>

            
           </div>
          
<devsite-search
    enable-signin
    enable-search
    enable-suggestions
      enable-query-completion
    
    enable-search-summaries
    project-name="Other Play guides"
    tenant-name="Android Developers"
    
    
    
    
    
    >
  <form class="devsite-search-form" action="https://developer.android.com/s/results?hl=zh-cn" method="GET">
    <div class="devsite-search-container">
      <button type="button"
              search-open
              class="devsite-search-button devsite-header-icon-button button-flat material-icons"
              
              aria-label="打开搜索框"></button>
      <div class="devsite-searchbox">
        <input
          aria-activedescendant=""
          aria-autocomplete="list"
          
          aria-label="搜索"
          aria-expanded="false"
          aria-haspopup="listbox"
          autocomplete="off"
          class="devsite-search-field devsite-search-query"
          name="q"
          
          placeholder="搜索"
          role="combobox"
          type="text"
          value=""
          >
          <div class="devsite-search-image material-icons" aria-hidden="true">
            
              <svg class="devsite-search-ai-image" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <g clip-path="url(#clip0_6641_386)">
                    <path d="M19.6 21L13.3 14.7C12.8 15.1 12.225 15.4167 11.575 15.65C10.925 15.8833 10.2333 16 9.5 16C7.68333 16 6.14167 15.375 4.875 14.125C3.625 12.8583 3 11.3167 3 9.5C3 7.68333 3.625 6.15 4.875 4.9C6.14167 3.63333 7.68333 3 9.5 3C10.0167 3 10.5167 3.05833 11 3.175C11.4833 3.275 11.9417 3.43333 12.375 3.65L10.825 5.2C10.6083 5.13333 10.3917 5.08333 10.175 5.05C9.95833 5.01667 9.73333 5 9.5 5C8.25 5 7.18333 5.44167 6.3 6.325C5.43333 7.19167 5 8.25 5 9.5C5 10.75 5.43333 11.8167 6.3 12.7C7.18333 13.5667 8.25 14 9.5 14C10.6667 14 11.6667 13.625 12.5 12.875C13.35 12.1083 13.8417 11.15 13.975 10H15.975C15.925 10.6333 15.7833 11.2333 15.55 11.8C15.3333 12.3667 15.05 12.8667 14.7 13.3L21 19.6L19.6 21ZM17.5 12C17.5 10.4667 16.9667 9.16667 15.9 8.1C14.8333 7.03333 13.5333 6.5 12 6.5C13.5333 6.5 14.8333 5.96667 15.9 4.9C16.9667 3.83333 17.5 2.53333 17.5 0.999999C17.5 2.53333 18.0333 3.83333 19.1 4.9C20.1667 5.96667 21.4667 6.5 23 6.5C21.4667 6.5 20.1667 7.03333 19.1 8.1C18.0333 9.16667 17.5 10.4667 17.5 12Z" fill="#5F6368"/>
                  </g>
                <defs>
                <clipPath id="clip0_6641_386">
                <rect width="24" height="24" fill="white"/>
                </clipPath>
                </defs>
              </svg>
            
          </div>
          <div class="devsite-search-shortcut-icon-container" aria-hidden="true">
            <kbd class="devsite-search-shortcut-icon">/</kbd>
          </div>
      </div>
    </div>
  </form>
  <button type="button"
          search-close
          class="devsite-search-button devsite-header-icon-button button-flat material-icons"
          
          aria-label="关闭搜索框"></button>
</devsite-search>

        </div>

        

          

          

          <devsite-appearance-selector></devsite-appearance-selector>

          
<devsite-language-selector>
  <ul role="presentation">
    
    
    <li role="presentation">
      <a role="menuitem" lang="en"
        >English</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="de"
        >Deutsch</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="es_419"
        >Español – América Latina</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="fr"
        >Français</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="id"
        >Indonesia</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="it"
        >Italiano</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="pl"
        >Polski</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="pt_br"
        >Português – Brasil</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="vi"
        >Tiếng Việt</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="tr"
        >Türkçe</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="ru"
        >Русский</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="he"
        >עברית</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="ar"
        >العربيّة</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="fa"
        >فارسی</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="hi"
        >हिंदी</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="bn"
        >বাংলা</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="th"
        >ภาษาไทย</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="zh_cn"
        >中文 – 简体</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="zh_tw"
        >中文 – 繁體</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="ja"
        >日本語</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="ko"
        >한국어</a>
    </li>
    
  </ul>
</devsite-language-selector>


          
            <a class="devsite-header-link devsite-top-button button gc-analytics-event "
    href="https://developer.android.com/studio?hl=zh-cn"
    data-category="Site-Wide Custom Events"
    data-label="Site header link: Android Studio"
    >
  Android Studio
</a>
          

        

        
          <devsite-user 
                        
                        
                          enable-profiles
                        
                        
                        id="devsite-user">
            
              
              <span class="button devsite-top-button" aria-hidden="true" visually-hidden>登录</span>
            
          </devsite-user>
        
        
        
      </div>
    </div>
  </div>



  <div class="devsite-collapsible-section
    
      devsite-header-no-lower-tabs
    ">
    <div class="devsite-header-background">
      
        
          <div class="devsite-product-id-row"
           >
            <div class="devsite-product-description-row">
              
                
                <div class="devsite-product-id">
                  
                  
                  
                    <ul class="devsite-breadcrumb-list"
  
    aria-label="下面的标题面包屑导航">
  
  <li class="devsite-breadcrumb-item
             ">
    
    
    
      
  <a href="https://developer.android.com/distribute?hl=zh-cn"
      
        class="devsite-breadcrumb-link gc-analytics-event"
      
        data-category="Site-Wide Custom Events"
      
        data-label="Lower Header"
      
        data-value="1"
      
        track-type="globalNav"
      
        track-name="breadcrumb"
      
        track-metadata-position="1"
      
        track-metadata-eventdetail="Google Play"
      
    >
    
        Google Play
      
  </a>
  
    
  </li>
  
  <li class="devsite-breadcrumb-item
             ">
    
      
      <div class="devsite-breadcrumb-guillemet material-icons" aria-hidden="true"></div>
    
    
    
      
  <a href="https://developer.android.com/guide/app-bundle?hl=zh-cn"
      
        class="devsite-breadcrumb-link gc-analytics-event"
      
        data-category="Site-Wide Custom Events"
      
        data-label="Lower Header"
      
        data-value="2"
      
        track-type="globalNav"
      
        track-name="breadcrumb"
      
        track-metadata-position="2"
      
        track-metadata-eventdetail="Other Play guides"
      
    >
    
        Other Play guides
      
  </a>
  
    
  </li>
  
</ul>
                </div>
                
              
              
            </div>
            
          </div>
          
        
      
      
    </div>
  </div>

</div>



  

  
</devsite-header>
      <devsite-book-nav scrollbars >
        
          





















<div class="devsite-book-nav-filter"
     >
  <span class="filter-list-icon material-icons" aria-hidden="true"></span>
  <input type="text"
         placeholder="过滤条件"
         
         aria-label="输入文本以进行过滤"
         role="searchbox">
  
  <span class="filter-clear-button hidden"
        data-title="清除过滤条件"
        aria-label="清除过滤条件"
        role="button"
        tabindex="0"></span>
</div>

<nav class="devsite-book-nav devsite-nav nocontent"
     aria-label="侧边菜单">
  <div class="devsite-mobile-header">
    <button type="button"
            id="devsite-close-nav"
            class="devsite-header-icon-button button-flat material-icons gc-analytics-event"
            data-category="Site-Wide Custom Events"
            data-label="Close navigation"
            aria-label="关闭导航栏">
    </button>
    <div class="devsite-product-name-wrapper">

  <a href="/" class="devsite-site-logo-link gc-analytics-event"
   data-category="Site-Wide Custom Events" data-label="Site logo" track-type="globalNav"
   track-name="androidDevelopers" track-metadata-position="nav"
   track-metadata-eventDetail="nav">
  
  <picture>
    
    <source srcset="https://www.gstatic.com/devrel-devsite/prod/vc12d84b6edb3e25e1619b575cf813e1849a1c95098b711a6c56ab3968c9a4fa9/android/images/lockup-dark-theme.png"
            media="(prefers-color-scheme: dark)"
            class="devsite-dark-theme">
    
    <img src="https://www.gstatic.com/devrel-devsite/prod/vc12d84b6edb3e25e1619b575cf813e1849a1c95098b711a6c56ab3968c9a4fa9/android/images/lockup.png" class="devsite-site-logo" alt="Android Developers">
  </picture>
  
</a>


  
      <span class="devsite-product-name">
        
        
        <ul class="devsite-breadcrumb-list"
  >
  
  <li class="devsite-breadcrumb-item
             ">
    
    
    
      
      
    
  </li>
  
</ul>
      </span>
    

</div>
  </div>

  <div class="devsite-book-nav-wrapper">
    <div class="devsite-mobile-nav-top">
      
        <ul class="devsite-nav-list">
          
            <li class="devsite-nav-item">
              
  
  <a href="/get-started"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
      
        data-category="Site-Wide Custom Events"
      
        data-label="Tab: 基本知识"
      
        track-name="基本知识"
      
    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: 基本知识"
     track-type="globalNav"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      基本知识
   </span>
    
  
  </a>
  

  
    <ul class="devsite-nav-responsive-tabs devsite-nav-has-menu
               ">
      
<li class="devsite-nav-item">

  
  <span
    
       class="devsite-nav-title"
       tooltip
    
    
      
        data-category="Site-Wide Custom Events"
      
        data-label="Tab: 基本知识"
      
        track-name="基本知识"
      
    >
  
    <span class="devsite-nav-text" tooltip menu="基本知识">
      更多
   </span>
    
    <span class="devsite-nav-icon material-icons" data-icon="forward"
          menu="基本知识">
    </span>
    
  
  </span>
  

</li>

    </ul>
  
              
            </li>
          
            <li class="devsite-nav-item">
              
  
  <a href="/design"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
      
        data-category="Site-Wide Custom Events"
      
        data-label="Tab: 设计和规划"
      
        track-name="设计和规划"
      
    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: 设计和规划"
     track-type="globalNav"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      设计和规划
   </span>
    
  
  </a>
  

  
    <ul class="devsite-nav-responsive-tabs devsite-nav-has-menu
               ">
      
<li class="devsite-nav-item">

  
  <span
    
       class="devsite-nav-title"
       tooltip
    
    
      
        data-category="Site-Wide Custom Events"
      
        data-label="Tab: 设计和规划"
      
        track-name="设计和规划"
      
    >
  
    <span class="devsite-nav-text" tooltip menu="设计和规划">
      更多
   </span>
    
    <span class="devsite-nav-icon material-icons" data-icon="forward"
          menu="设计和规划">
    </span>
    
  
  </span>
  

</li>

    </ul>
  
              
            </li>
          
            <li class="devsite-nav-item">
              
  
  <a href="/develop"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
      
        data-category="Site-Wide Custom Events"
      
        data-label="Tab: 开发"
      
        track-name="开发"
      
    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: 开发"
     track-type="globalNav"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      开发
   </span>
    
  
  </a>
  

  
    <ul class="devsite-nav-responsive-tabs devsite-nav-has-menu
               ">
      
<li class="devsite-nav-item">

  
  <span
    
       class="devsite-nav-title"
       tooltip
    
    
      
        data-category="Site-Wide Custom Events"
      
        data-label="Tab: 开发"
      
        track-name="开发"
      
    >
  
    <span class="devsite-nav-text" tooltip menu="开发">
      更多
   </span>
    
    <span class="devsite-nav-icon material-icons" data-icon="forward"
          menu="开发">
    </span>
    
  
  </span>
  

</li>

    </ul>
  
              
            </li>
          
            <li class="devsite-nav-item">
              
  
  <a href="/distribute"
    
       class="devsite-nav-title gc-analytics-event
              devsite-nav-has-children
              devsite-nav-active"
    

    
      
        data-category="Site-Wide Custom Events"
      
        data-label="Tab: Google Play"
      
        track-name="google play"
      
    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Google Play"
     track-type="globalNav"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      Google Play
   </span>
    
    <span class="devsite-nav-icon material-icons" data-icon="forward"
          >
    </span>
    
  
  </a>
  

  
    <ul class="devsite-nav-responsive-tabs devsite-nav-has-menu
               ">
      
<li class="devsite-nav-item">

  
  <span
    
       class="devsite-nav-title"
       tooltip
    
    
      
        data-category="Site-Wide Custom Events"
      
        data-label="Tab: Google Play"
      
        track-name="google play"
      
    >
  
    <span class="devsite-nav-text" tooltip menu="Google Play">
      更多
   </span>
    
    <span class="devsite-nav-icon material-icons" data-icon="forward"
          menu="Google Play">
    </span>
    
  
  </span>
  

</li>

    </ul>
  
              
            </li>
          
            <li class="devsite-nav-item">
              
  
  <a href="/community"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
      
        data-category="Site-Wide Custom Events"
      
        data-label="Tab: 社区"
      
        track-name="社区"
      
    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: 社区"
     track-type="globalNav"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      社区
   </span>
    
  
  </a>
  

  
              
            </li>
          
          
    
    
<li class="devsite-nav-item">

  
  <a href="/studio"
    
       class="devsite-nav-title gc-analytics-event "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Android Studio"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      Android Studio
   </span>
    
  
  </a>
  

</li>

  
          
        </ul>
      
    </div>
    
      <div class="devsite-mobile-nav-bottom">
        
          
          <ul class="devsite-nav-list" menu="_book">
            <li class="devsite-nav-item
           devsite-nav-expandable
           devsite-nav-accordion"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Android App Bundle</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/guide/app-bundle"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /guide/app-bundle"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/guide/app-bundle"
      ><span class="devsite-nav-text" tooltip>App Bundle 简介</span></a></li><li class="devsite-nav-item"><a href="/guide/app-bundle/configure-base"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /guide/app-bundle/configure-base"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/guide/app-bundle/configure-base"
      ><span class="devsite-nav-text" tooltip>配置基本模块</span></a></li><li class="devsite-nav-item"><a href="/guide/app-bundle/test"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /guide/app-bundle/test"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/guide/app-bundle/test"
      ><span class="devsite-nav-text" tooltip>构建和测试 app bundle</span></a></li><li class="devsite-nav-item
           devsite-nav-beta"><a href="/google/play/device-targeting"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /google/play/device-targeting"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/google/play/device-targeting"
      ><span class="devsite-nav-text" tooltip>设备定位</span><span class="devsite-nav-icon material-icons"
        data-icon="beta"
        data-title="Beta 版"
        aria-hidden="true"></span></a></li><li class="devsite-nav-item"><a href="/guide/app-bundle/code-transparency"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /guide/app-bundle/code-transparency"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/guide/app-bundle/code-transparency"
      ><span class="devsite-nav-text" tooltip>添加代码公开透明</span></a></li><li class="devsite-nav-item"><a href="/guide/app-bundle/app-bundle-format"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /guide/app-bundle/app-bundle-format"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/guide/app-bundle/app-bundle-format"
      ><span class="devsite-nav-text" tooltip>App Bundle 格式简介</span></a></li><li class="devsite-nav-item"><a href="/guide/app-bundle/faq"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /guide/app-bundle/faq"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/guide/app-bundle/faq"
      ><span class="devsite-nav-text" tooltip>常见问题解答</span></a></li><li class="devsite-nav-item
           devsite-nav-unsupported"><a href="/google/play/expansion-files"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /google/play/expansion-files"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/google/play/expansion-files"
      ><span class="devsite-nav-text" tooltip>APK 扩展文件</span><span class="devsite-nav-icon material-icons"
        data-icon="unsupported"
        data-title="不再支持"
        aria-hidden="true"></span></a></li><li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>多 APK 支持</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/google/play/publishing/multiple-apks"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /google/play/publishing/multiple-apks"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/google/play/publishing/multiple-apks"
      ><span class="devsite-nav-text" tooltip>多个 APK 简介</span></a></li><li class="devsite-nav-item"><a href="/training/multiple-apks/api"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /training/multiple-apks/api"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/training/multiple-apks/api"
      ><span class="devsite-nav-text" tooltip>针对不同的 API 级别创建多个 APK</span></a></li><li class="devsite-nav-item"><a href="/training/multiple-apks/screensize"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /training/multiple-apks/screensize"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/training/multiple-apks/screensize"
      ><span class="devsite-nav-text" tooltip>针对不同的屏幕尺寸创建多个 APK</span></a></li><li class="devsite-nav-item"><a href="/develop/ui/views/graphics/multiple-apks/texture"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /develop/ui/views/graphics/multiple-apks/texture"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/develop/ui/views/graphics/multiple-apks/texture"
      ><span class="devsite-nav-text" tooltip>针对不同的 GL 纹理创建多个 APK ⍈</span></a></li><li class="devsite-nav-item"><a href="/training/multiple-apks/multiple"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /training/multiple-apks/multiple"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/training/multiple-apks/multiple"
      ><span class="devsite-nav-text" tooltip>创建多个具有多个尺寸的 APK</span></a></li></ul></div></li></ul></div></li>

  <li class="devsite-nav-item
           devsite-nav-expandable
           devsite-nav-accordion
           devsite-nav-preview"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Engage SDK</span><span class="devsite-nav-icon material-icons"
        data-icon="preview"
        data-title="预览版"
        aria-hidden="true"></span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/guide/playcore/engage/preview"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /guide/playcore/engage/preview"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/guide/playcore/engage/preview"
      ><span class="devsite-nav-text" tooltip>Engage SDK 开发者预览版</span></a></li><li class="devsite-nav-item"><a href="/guide/playcore/engage"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /guide/playcore/engage"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/guide/playcore/engage"
      ><span class="devsite-nav-text" tooltip>Engage SDK 简介</span></a></li><li class="devsite-nav-item"><a href="/guide/playcore/engage/watch"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /guide/playcore/engage/watch"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/guide/playcore/engage/watch"
      ><span class="devsite-nav-text" tooltip>Engage SDK Watch 集成指南</span></a></li><li class="devsite-nav-item"><a href="/guide/playcore/engage/listen"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /guide/playcore/engage/listen"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/guide/playcore/engage/listen"
      ><span class="devsite-nav-text" tooltip>Engage SDK Listen 集成指南</span></a></li><li class="devsite-nav-item"><a href="/guide/playcore/engage/read"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /guide/playcore/engage/read"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/guide/playcore/engage/read"
      ><span class="devsite-nav-text" tooltip>Engage SDK Read 集成指南</span></a></li><li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Engage SDK TV 集成指南</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/guide/playcore/engage/tv"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /guide/playcore/engage/tv"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/guide/playcore/engage/tv"
      ><span class="devsite-nav-text" tooltip>Engage SDK TV 继续观看</span></a></li><li class="devsite-nav-item"><a href="/guide/playcore/engage/entitlements"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /guide/playcore/engage/entitlements"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/guide/playcore/engage/entitlements"
      ><span class="devsite-nav-text" tooltip>Engage SDK 设备权限</span></a></li><li class="devsite-nav-item"><a href="/guide/playcore/engage/recommendations"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /guide/playcore/engage/recommendations"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/guide/playcore/engage/recommendations"
      ><span class="devsite-nav-text" tooltip>Engage SDK 建议</span></a></li></ul></div></li><li class="devsite-nav-item"><a href="/guide/playcore/engage/shopping"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /guide/playcore/engage/shopping"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/guide/playcore/engage/shopping"
      ><span class="devsite-nav-text" tooltip>Engage SDK Shopping 集成指南</span></a></li><li class="devsite-nav-item"><a href="/guide/playcore/engage/food"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /guide/playcore/engage/food"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/guide/playcore/engage/food"
      ><span class="devsite-nav-text" tooltip>Engage SDK Food 集成指南</span></a></li><li class="devsite-nav-item"><a href="/guide/playcore/engage/social"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /guide/playcore/engage/social"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/guide/playcore/engage/social"
      ><span class="devsite-nav-text" tooltip>Engage SDK Social 集成指南</span></a></li><li class="devsite-nav-item"><a href="/guide/playcore/engage/travel"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /guide/playcore/engage/travel"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/guide/playcore/engage/travel"
      ><span class="devsite-nav-text" tooltip>Engage SDK Travel 集成指南</span></a></li><li class="devsite-nav-item"><a href="/guide/playcore/engage/healthandfitness"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /guide/playcore/engage/healthandfitness"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/guide/playcore/engage/healthandfitness"
      ><span class="devsite-nav-text" tooltip>Engage SDK Health &amp; Fitness 集成指南</span></a></li><li class="devsite-nav-item"><a href="/guide/playcore/engage/otherverticals"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /guide/playcore/engage/otherverticals"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/guide/playcore/engage/otherverticals"
      ><span class="devsite-nav-text" tooltip>Engage SDK Other Verticals 集成指南</span></a></li><li class="devsite-nav-item"><a href="/guide/playcore/engage/workflow"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /guide/playcore/engage/workflow"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/guide/playcore/engage/workflow"
      ><span class="devsite-nav-text" tooltip>Engage SDK 集成工作流程</span></a></li><li class="devsite-nav-item"><a href="/guide/playcore/engage/publish"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /guide/playcore/engage/publish"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/guide/playcore/engage/publish"
      ><span class="devsite-nav-text" tooltip>Engage SDK Cluster 发布指南</span></a></li><li class="devsite-nav-item"><a href="/guide/playcore/engage/faq"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /guide/playcore/engage/faq"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/guide/playcore/engage/faq"
      ><span class="devsite-nav-text" tooltip>Engage SDK 常见问题解答</span></a></li><li class="devsite-nav-item"><a href="/guide/playcore/engage/release"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /guide/playcore/engage/release"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/guide/playcore/engage/release"
      ><span class="devsite-nav-text" tooltip>Engage SDK 版本说明</span></a></li><li class="devsite-nav-item"><a href="/guide/playcore/engage/samples"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /guide/playcore/engage/samples"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/guide/playcore/engage/samples"
      ><span class="devsite-nav-text" tooltip>Engage SDK 示例应用</span></a></li></ul></div></li>

  <li class="devsite-nav-item
           devsite-nav-expandable
           devsite-nav-accordion"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Play 应用分发</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/google/play/app-updates"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /google/play/app-updates"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/google/play/app-updates"
      ><span class="devsite-nav-text" tooltip>应用更新的运作方式</span></a></li><li class="devsite-nav-item"><a href="/google/play/filters"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /google/play/filters"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/google/play/filters"
      ><span class="devsite-nav-text" tooltip>Google Play 上的过滤器</span></a></li><li class="devsite-nav-item"><a href="/google/play/release-audience-restriction"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /google/play/release-audience-restriction"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/google/play/release-audience-restriction"
      ><span class="devsite-nav-text" tooltip>版本受众群体限制</span></a></li><li class="devsite-nav-item
           devsite-nav-expandable
           devsite-nav-beta"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>边下载边玩</span><span class="devsite-nav-icon material-icons"
        data-icon="beta"
        data-title="Beta 版"
        aria-hidden="true"></span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/google/play/play-as-you-download"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /google/play/play-as-you-download"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/google/play/play-as-you-download"
      ><span class="devsite-nav-text" tooltip>“边下载边玩”功能简介</span></a></li><li class="devsite-nav-item"><a href="/google/play/play-as-you-download/best-practices"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /google/play/play-as-you-download/best-practices"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/google/play/play-as-you-download/best-practices"
      ><span class="devsite-nav-text" tooltip>最佳实践</span></a></li></ul></div></li><li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>播放免安装版</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/topic/google-play-instant/overview"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /topic/google-play-instant/overview"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/topic/google-play-instant/overview"
      ><span class="devsite-nav-text" tooltip>Google Play 免安装体验简介</span></a></li><li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>免安装应用开发入门</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/topic/google-play-instant/getting-started/instant-enabled-app-bundle"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /topic/google-play-instant/getting-started/instant-enabled-app-bundle"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/topic/google-play-instant/getting-started/instant-enabled-app-bundle"
      ><span class="devsite-nav-text" tooltip>创建支持免安装体验的 app bundle</span></a></li><li class="devsite-nav-item"><a href="/topic/google-play-instant/best-practices/apps"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /topic/google-play-instant/best-practices/apps"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/topic/google-play-instant/best-practices/apps"
      ><span class="devsite-nav-text" tooltip>应用的用户体验最佳做法</span></a></li></ul></div></li><li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>免安装游戏开发入门</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/topic/google-play-instant/getting-started/game-instant-app"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /topic/google-play-instant/getting-started/game-instant-app"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/topic/google-play-instant/getting-started/game-instant-app"
      ><span class="devsite-nav-text" tooltip>免安装游戏简介</span></a></li><li class="devsite-nav-item"><a href="/topic/google-play-instant/getting-started/game-unity-plugin"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /topic/google-play-instant/getting-started/game-unity-plugin"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/topic/google-play-instant/getting-started/game-unity-plugin"
      ><span class="devsite-nav-text" tooltip>Unity 插件</span></a></li><li class="devsite-nav-item"><a href="/topic/google-play-instant/best-practices/games"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /topic/google-play-instant/best-practices/games"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/topic/google-play-instant/best-practices/games"
      ><span class="devsite-nav-text" tooltip>游戏的用户体验最佳做法</span></a></li><li class="devsite-nav-item"><a href="/topic/google-play-instant/feature-module-migration"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /topic/google-play-instant/feature-module-migration"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/topic/google-play-instant/feature-module-migration"
      ><span class="devsite-nav-text" tooltip>迁移至 Android App Bundle</span></a></li><li class="devsite-nav-item"><a href="/topic/google-play-instant/getting-started/cloud-delivery-assets"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /topic/google-play-instant/getting-started/cloud-delivery-assets"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/topic/google-play-instant/getting-started/cloud-delivery-assets"
      ><span class="devsite-nav-text" tooltip>实现资源的云端分发</span></a></li><li class="devsite-nav-item"><a href="/topic/google-play-instant/getting-started/support-play-games-services"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /topic/google-play-instant/getting-started/support-play-games-services"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/topic/google-play-instant/getting-started/support-play-games-services"
      ><span class="devsite-nav-text" tooltip>支持 Google Play 游戏服务</span></a></li><li class="devsite-nav-item"><a href="/topic/google-play-instant/instant-play-games"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /topic/google-play-instant/instant-play-games"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/topic/google-play-instant/instant-play-games"
      ><span class="devsite-nav-text" tooltip>免安装游戏</span></a></li><li class="devsite-nav-item"><a href="/topic/google-play-instant/instant-play-games-checklist"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /topic/google-play-instant/instant-play-games-checklist"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/topic/google-play-instant/instant-play-games-checklist"
      ><span class="devsite-nav-text" tooltip>免安装游戏核对清单</span></a></li></ul></div></li><li class="devsite-nav-item"><a href="/topic/google-play-instant/guides/reduce-module-size"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /topic/google-play-instant/guides/reduce-module-size"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/topic/google-play-instant/guides/reduce-module-size"
      ><span class="devsite-nav-text" tooltip>缩减免安装应用或游戏的大小</span></a></li><li class="devsite-nav-item"><a href="/topic/google-play-instant/guides/advertising"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /topic/google-play-instant/guides/advertising"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/topic/google-play-instant/guides/advertising"
      ><span class="devsite-nav-text" tooltip>将广告添加到免安装应用或游戏中</span></a></li><li class="devsite-nav-item"><a href="/topic/google-play-instant/guides/multiple-entry-points"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /topic/google-play-instant/guides/multiple-entry-points"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/topic/google-play-instant/guides/multiple-entry-points"
      ><span class="devsite-nav-text" tooltip>提供多个入口点</span></a></li><li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>与 Firebase 集成</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/topic/google-play-instant/guides/analytics"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /topic/google-play-instant/guides/analytics"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/topic/google-play-instant/guides/analytics"
      ><span class="devsite-nav-text" tooltip>为您的免安装应用添加 Google Analytics for Firebase</span></a></li><li class="devsite-nav-item"><a href="/topic/google-play-instant/guides/dynamic-links"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /topic/google-play-instant/guides/dynamic-links"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/topic/google-play-instant/guides/dynamic-links"
      ><span class="devsite-nav-text" tooltip>将 Firebase Dynamic Links 用于免安装应用</span></a></li></ul></div></li><li class="devsite-nav-item"><a href="/topic/google-play-instant/tech-requirements"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /topic/google-play-instant/tech-requirements"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/topic/google-play-instant/tech-requirements"
      ><span class="devsite-nav-text" tooltip>技术要求核对清单</span></a></li><li class="devsite-nav-item
           devsite-nav-external"><a href="https://play.google.com/about/other-programs/android-instant-apps/"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: https://play.google.com/about/other-programs/android-instant-apps/"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="https://play.google.com/about/other-programs/android-instant-apps/"
      ><span class="devsite-nav-text" tooltip>Google Play 免安装体验政策</span><span class="devsite-nav-icon material-icons"
        data-icon="external"
        data-title="外部"
        aria-hidden="true"></span></a></li><li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>资源</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item
           devsite-nav-external"><a href="https://developers.google.com/android/reference/com/google/android/gms/instantapps/package-summary"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: https://developers.google.com/android/reference/com/google/android/gms/instantapps/package-summary"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="https://developers.google.com/android/reference/com/google/android/gms/instantapps/package-summary"
      ><span class="devsite-nav-text" tooltip>参考文档</span><span class="devsite-nav-icon material-icons"
        data-icon="external"
        data-title="外部"
        aria-hidden="true"></span></a></li><li class="devsite-nav-item"><a href="/topic/google-play-instant/samples"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /topic/google-play-instant/samples"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/topic/google-play-instant/samples"
      ><span class="devsite-nav-text" tooltip>代码示例</span></a></li><li class="devsite-nav-item"><a href="/topic/google-play-instant/release-notes"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /topic/google-play-instant/release-notes"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/topic/google-play-instant/release-notes"
      ><span class="devsite-nav-text" tooltip>SDK 版本说明</span></a></li><li class="devsite-nav-item"><a href="/topic/google-play-instant/instant-app-intents"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /topic/google-play-instant/instant-app-intents"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/topic/google-play-instant/instant-app-intents"
      ><span class="devsite-nav-text" tooltip>免安装应用 intent</span></a></li></ul></div></li><li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>支持</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item
           devsite-nav-external"><a href="https://issuetracker.google.com/issues?q=status:open%20componentid:316045"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: https://issuetracker.google.com/issues?q=status:open%20componentid:316045"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="https://issuetracker.google.com/issues?q=status:open%20componentid:316045"
      ><span class="devsite-nav-text" tooltip>已知问题</span><span class="devsite-nav-icon material-icons"
        data-icon="external"
        data-title="外部"
        aria-hidden="true"></span></a></li><li class="devsite-nav-item
           devsite-nav-external"><a href="https://stackoverflow.com/questions/tagged/android-instant-apps"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: https://stackoverflow.com/questions/tagged/android-instant-apps"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="https://stackoverflow.com/questions/tagged/android-instant-apps"
      ><span class="devsite-nav-text" tooltip>StackOverflow</span><span class="devsite-nav-icon material-icons"
        data-icon="external"
        data-title="外部"
        aria-hidden="true"></span></a></li></ul></div></li></ul></div></li><li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>应用许可</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/google/play/licensing"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /google/play/licensing"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/google/play/licensing"
      ><span class="devsite-nav-text" tooltip>应用许可简介</span></a></li><li class="devsite-nav-item"><a href="/google/play/licensing/overview"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /google/play/licensing/overview"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/google/play/licensing/overview"
      ><span class="devsite-nav-text" tooltip>许可概览</span></a></li><li class="devsite-nav-item"><a href="/google/play/licensing/setting-up"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /google/play/licensing/setting-up"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/google/play/licensing/setting-up"
      ><span class="devsite-nav-text" tooltip>设置许可</span></a></li><li class="devsite-nav-item"><a href="/google/play/licensing/server-side-verification"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /google/play/licensing/server-side-verification"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/google/play/licensing/server-side-verification"
      ><span class="devsite-nav-text" tooltip>添加服务器端验证</span></a></li><li class="devsite-nav-item"><a href="/google/play/licensing/client-side-verification"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /google/play/licensing/client-side-verification"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/google/play/licensing/client-side-verification"
      ><span class="devsite-nav-text" tooltip>添加客户端验证</span></a></li><li class="devsite-nav-item"><a href="/google/play/licensing/licensing-reference"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /google/play/licensing/licensing-reference"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/google/play/licensing/licensing-reference"
      ><span class="devsite-nav-text" tooltip>许可参考文档</span></a></li></ul></div></li></ul></div></li>

  <li class="devsite-nav-item
           devsite-nav-expandable
           devsite-nav-accordion"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Play Asset Delivery</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/guide/playcore/asset-delivery"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /guide/playcore/asset-delivery"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/guide/playcore/asset-delivery"
      ><span class="devsite-nav-text" tooltip>Play Asset Delivery 简介</span></a></li><li class="devsite-nav-item"><a href="/guide/playcore/asset-delivery/integrate-java"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /guide/playcore/asset-delivery/integrate-java"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/guide/playcore/asset-delivery/integrate-java"
      ><span class="devsite-nav-text" tooltip>集成 Asset Delivery（Kotlin 和 Java）</span></a></li><li class="devsite-nav-item"><a href="/guide/playcore/asset-delivery/integrate-native"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /guide/playcore/asset-delivery/integrate-native"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/guide/playcore/asset-delivery/integrate-native"
      ><span class="devsite-nav-text" tooltip>集成 Asset Delivery（原生）</span></a></li><li class="devsite-nav-item"><a href="/guide/playcore/asset-delivery/integrate-unity"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /guide/playcore/asset-delivery/integrate-unity"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/guide/playcore/asset-delivery/integrate-unity"
      ><span class="devsite-nav-text" tooltip>集成 Asset Delivery (Unity)</span></a></li><li class="devsite-nav-item
           devsite-nav-beta"><a href="/guide/playcore/asset-delivery/device-targeting"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /guide/playcore/asset-delivery/device-targeting"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/guide/playcore/asset-delivery/device-targeting"
      ><span class="devsite-nav-text" tooltip>资源分发的设备定位</span><span class="devsite-nav-icon material-icons"
        data-icon="beta"
        data-title="Beta 版"
        aria-hidden="true"></span></a></li><li class="devsite-nav-item"><a href="/guide/playcore/asset-delivery/texture-compression"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /guide/playcore/asset-delivery/texture-compression"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/guide/playcore/asset-delivery/texture-compression"
      ><span class="devsite-nav-text" tooltip>目标纹理压缩格式</span></a></li><li class="devsite-nav-item"><a href="/guide/playcore/asset-delivery/test"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /guide/playcore/asset-delivery/test"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/guide/playcore/asset-delivery/test"
      ><span class="devsite-nav-text" tooltip>测试 Asset Delivery</span></a></li></ul></div></li>

  <li class="devsite-nav-item"><a href="/guide/playcore"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /guide/playcore"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/guide/playcore"
      ><span class="devsite-nav-text" tooltip>Play Core 库</span></a></li>

  <li class="devsite-nav-item"><a href="/google/play/developer-api"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /google/play/developer-api"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/google/play/developer-api"
      ><span class="devsite-nav-text" tooltip>Play Developer API</span></a></li>

  <li class="devsite-nav-item
           devsite-nav-expandable
           devsite-nav-accordion"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Play Feature Delivery</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/guide/playcore/feature-delivery"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /guide/playcore/feature-delivery"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/guide/playcore/feature-delivery"
      ><span class="devsite-nav-text" tooltip>Play Feature Delivery 简介</span></a></li><li class="devsite-nav-item"><a href="/guide/playcore/feature-delivery/install-time"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /guide/playcore/feature-delivery/install-time"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/guide/playcore/feature-delivery/install-time"
      ><span class="devsite-nav-text" tooltip>配置安装时分发</span></a></li><li class="devsite-nav-item"><a href="/guide/playcore/feature-delivery/conditional"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /guide/playcore/feature-delivery/conditional"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/guide/playcore/feature-delivery/conditional"
      ><span class="devsite-nav-text" tooltip>配置按条件分发</span></a></li><li class="devsite-nav-item"><a href="/guide/playcore/feature-delivery/on-demand"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /guide/playcore/feature-delivery/on-demand"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/guide/playcore/feature-delivery/on-demand"
      ><span class="devsite-nav-text" tooltip>配置按需分发</span></a></li><li class="devsite-nav-item"><a href="/guide/playcore/feature-delivery/ux-guidelines"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /guide/playcore/feature-delivery/ux-guidelines"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/guide/playcore/feature-delivery/ux-guidelines"
      ><span class="devsite-nav-text" tooltip>按需分发最佳实践</span></a></li><li class="devsite-nav-item"><a href="/guide/playcore/feature-delivery/instant"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /guide/playcore/feature-delivery/instant"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/guide/playcore/feature-delivery/instant"
      ><span class="devsite-nav-text" tooltip>配置免安装分发</span></a></li><li class="devsite-nav-item"><a href="/guide/playcore/feature-delivery/additional-resources"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /guide/playcore/feature-delivery/additional-resources"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/guide/playcore/feature-delivery/additional-resources"
      ><span class="devsite-nav-text" tooltip>其他资源</span></a></li></ul></div></li>

  <li class="devsite-nav-item
           devsite-nav-beta"><a href="/google/play/on-device-ai"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /google/play/on-device-ai"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/google/play/on-device-ai"
      ><span class="devsite-nav-text" tooltip>Play for On-device AI</span><span class="devsite-nav-icon material-icons"
        data-icon="beta"
        data-title="Beta 版"
        aria-hidden="true"></span></a></li>

  <li class="devsite-nav-item"><a href="/games"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /games"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/games"
      ><span class="devsite-nav-text" tooltip>Play 游戏 ⍈</span></a></li>

  <li class="devsite-nav-item
           devsite-nav-expandable
           devsite-nav-accordion"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Play 应用内评价</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/guide/playcore/in-app-review"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /guide/playcore/in-app-review"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/guide/playcore/in-app-review"
      ><span class="devsite-nav-text" tooltip>应用内评价简介</span></a></li><li class="devsite-nav-item"><a href="/guide/playcore/in-app-review/kotlin-java"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /guide/playcore/in-app-review/kotlin-java"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/guide/playcore/in-app-review/kotlin-java"
      ><span class="devsite-nav-text" tooltip>集成应用内评价（Kotlin 或 Java）</span></a></li><li class="devsite-nav-item"><a href="/guide/playcore/in-app-review/native"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /guide/playcore/in-app-review/native"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/guide/playcore/in-app-review/native"
      ><span class="devsite-nav-text" tooltip>集成应用内评价（原生）</span></a></li><li class="devsite-nav-item"><a href="/guide/playcore/in-app-review/unity"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /guide/playcore/in-app-review/unity"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/guide/playcore/in-app-review/unity"
      ><span class="devsite-nav-text" tooltip>集成应用内评价 (Unity)</span></a></li><li class="devsite-nav-item"><a href="/guide/playcore/in-app-review/unreal-engine"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /guide/playcore/in-app-review/unreal-engine"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/guide/playcore/in-app-review/unreal-engine"
      ><span class="devsite-nav-text" tooltip>集成应用内评价 (Unreal Engine)</span></a></li><li class="devsite-nav-item"><a href="/guide/playcore/in-app-review/test"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /guide/playcore/in-app-review/test"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/guide/playcore/in-app-review/test"
      ><span class="devsite-nav-text" tooltip>测试应用内评价</span></a></li></ul></div></li>

  <li class="devsite-nav-item
           devsite-nav-expandable
           devsite-nav-accordion"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>玩应用内更新</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/guide/playcore/in-app-updates"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /guide/playcore/in-app-updates"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/guide/playcore/in-app-updates"
      ><span class="devsite-nav-text" tooltip>应用内更新简介</span></a></li><li class="devsite-nav-item"><a href="/guide/playcore/in-app-updates/kotlin-java"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /guide/playcore/in-app-updates/kotlin-java"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/guide/playcore/in-app-updates/kotlin-java"
      ><span class="devsite-nav-text" tooltip>支持应用内更新（Kotlin 或 Java）</span></a></li><li class="devsite-nav-item"><a href="/guide/playcore/in-app-updates/native"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /guide/playcore/in-app-updates/native"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/guide/playcore/in-app-updates/native"
      ><span class="devsite-nav-text" tooltip>支持应用内更新（原生代码）</span></a></li><li class="devsite-nav-item"><a href="/guide/playcore/in-app-updates/unity"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /guide/playcore/in-app-updates/unity"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/guide/playcore/in-app-updates/unity"
      ><span class="devsite-nav-text" tooltip>支持应用内更新 (Unity)</span></a></li><li class="devsite-nav-item"><a href="/guide/playcore/in-app-updates/unreal-engine"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /guide/playcore/in-app-updates/unreal-engine"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/guide/playcore/in-app-updates/unreal-engine"
      ><span class="devsite-nav-text" tooltip>支持应用内更新 (Unreal Engine)</span></a></li><li class="devsite-nav-item"><a href="/guide/playcore/in-app-updates/test"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /guide/playcore/in-app-updates/test"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/guide/playcore/in-app-updates/test"
      ><span class="devsite-nav-text" tooltip>测试应用内更新</span></a></li></ul></div></li>

  <li class="devsite-nav-item
           devsite-nav-expandable
           devsite-nav-accordion"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Play Install Referrer</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/google/play/installreferrer"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /google/play/installreferrer"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/google/play/installreferrer"
      ><span class="devsite-nav-text" tooltip>Play Install Referrer 简介</span></a></li><li class="devsite-nav-item
           devsite-nav-expandable"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Play Install Referrer 库</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/google/play/installreferrer/library"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /google/play/installreferrer/library"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/google/play/installreferrer/library"
      ><span class="devsite-nav-text" tooltip>概览</span></a></li><li class="devsite-nav-item
           devsite-nav-external"><a href="/reference/com/android/installreferrer/packages"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /reference/com/android/installreferrer/packages"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/reference/com/android/installreferrer/packages"
      ><span class="devsite-nav-text" tooltip>参考文档</span><span class="devsite-nav-icon material-icons"
        data-icon="external"
        data-title="外部"
        aria-hidden="true"></span></a></li><li class="devsite-nav-item"><a href="/google/play/installreferrer/release-notes"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /google/play/installreferrer/release-notes"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/google/play/installreferrer/release-notes"
      ><span class="devsite-nav-text" tooltip>版本说明</span></a></li></ul></div></li><li class="devsite-nav-item"><a href="/google/play/installreferrer/igetinstallreferrerservice"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /google/play/installreferrer/igetinstallreferrerservice"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/google/play/installreferrer/igetinstallreferrerservice"
      ><span class="devsite-nav-text" tooltip>Play Install Referrer API</span></a></li></ul></div></li>

  <li class="devsite-nav-item
           devsite-nav-expandable
           devsite-nav-accordion"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Play Points</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/guide/playpoints"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /guide/playpoints"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/guide/playpoints"
      ><span class="devsite-nav-text" tooltip>Play Points 简介</span></a></li><li class="devsite-nav-item"><a href="/guide/playpoints/create-products"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /guide/playpoints/create-products"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/guide/playpoints/create-products"
      ><span class="devsite-nav-text" tooltip>创建商品和促销活动</span></a></li><li class="devsite-nav-item"><a href="/guide/playpoints/deliver-items"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /guide/playpoints/deliver-items"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/guide/playpoints/deliver-items"
      ><span class="devsite-nav-text" tooltip>检测和分发商品</span></a></li><li class="devsite-nav-item"><a href="/guide/playpoints/test"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /guide/playpoints/test"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/guide/playpoints/test"
      ><span class="devsite-nav-text" tooltip>测试商品</span></a></li></ul></div></li>

  <li class="devsite-nav-item
           devsite-nav-expandable
           devsite-nav-accordion"><div class="devsite-expandable-nav">
      <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button">
        <span class="devsite-nav-text" tooltip>Play 要求</span>
      </div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/google/play/requirements/target-sdk"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /google/play/requirements/target-sdk"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/google/play/requirements/target-sdk"
      ><span class="devsite-nav-text" tooltip>目标 API 级别要求</span></a></li><li class="devsite-nav-item
           devsite-nav-external"><a href="/google/play/requirements/64-bit"
        class="devsite-nav-title gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Book nav link, pathname: /google/play/requirements/64-bit"
        track-type="bookNav"
        track-name="click"
        track-metadata-eventdetail="/google/play/requirements/64-bit"
      ><span class="devsite-nav-text" tooltip>支持 64 位架构</span><span class="devsite-nav-icon material-icons"
        data-icon="external"
        data-title="外部"
        aria-hidden="true"></span></a></li></ul></div></li>
          </ul>
        
        
          
    
      
      <ul class="devsite-nav-list" menu="基本知识"
          aria-label="侧边菜单" hidden>
        
          
            
              
<li class="devsite-nav-item devsite-nav-heading">

  
  <span
    
       class="devsite-nav-title"
       tooltip
    
    >
  
    <span class="devsite-nav-text" tooltip >
      打造 AI 体验
   </span>
    
  
  </span>
  

</li>

            
            
              
<li class="devsite-nav-item">

  
  <a href="/ai"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: 开始使用"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      开始使用
   </span>
    
  
  </a>
  

</li>

            
          
        
          
            
              
<li class="devsite-nav-item devsite-nav-heading">

  
  <span
    
       class="devsite-nav-title"
       tooltip
    
    >
  
    <span class="devsite-nav-text" tooltip >
      开始使用
   </span>
    
  
  </span>
  

</li>

            
            
              
<li class="devsite-nav-item">

  
  <a href="/get-started/overview"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Hello World"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      Hello World
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/courses"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: 培训课程"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      培训课程
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/get-started/codelabs"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: 教程"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      教程
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/develop/ui/compose/adopt"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: 团队版 Compose"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      团队版 Compose
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/kotlin"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Android 版 Kotlin"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      Android 版 Kotlin
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="https://play.google.com/console/about/guides/play-commerce/"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: 利用 Play 变现 ↗️"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      利用 Play 变现 ↗️
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/developer-verification"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Android 开发者验证工具"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      Android 开发者验证工具
   </span>
    
  
  </a>
  

</li>

            
          
        
          
            
              
<li class="devsite-nav-item devsite-nav-heading">

  
  <span
    
       class="devsite-nav-title"
       tooltip
    
    >
  
    <span class="devsite-nav-text" tooltip >
      按设备扩展
   </span>
    
  
  </span>
  

</li>

            
            
              
<li class="devsite-nav-item">

  
  <a href="/adaptive-apps"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: 自适应应用"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      自适应应用
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/xr"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Android XR"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      Android XR
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/wear"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Wear OS"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      Wear OS
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/cars"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Android for Cars"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      Android for Cars
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/tv"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Android TV"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      Android TV
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/chrome-os"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: ChromeOS"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      ChromeOS
   </span>
    
  
  </a>
  

</li>

            
          
        
          
            
              
<li class="devsite-nav-item devsite-nav-heading">

  
  <span
    
       class="devsite-nav-title"
       tooltip
    
    >
  
    <span class="devsite-nav-text" tooltip >
      按类别构建
   </span>
    
  
  </span>
  

</li>

            
            
              
<li class="devsite-nav-item">

  
  <a href="/games"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: 游戏"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      游戏
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/media"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: 相机与媒体"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      相机与媒体
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/social-and-messaging"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: 社交与消息"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      社交与消息
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/health-and-fitness"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: 健康与健身"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      健康与健身
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/productivity"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: 工作效率"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      工作效率
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/work/overview"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: 企业应用"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      企业应用
   </span>
    
  
  </a>
  

</li>

            
          
        
          
            
              
<li class="devsite-nav-item devsite-nav-heading">

  
  <span
    
       class="devsite-nav-title"
       tooltip
    
    >
  
    <span class="devsite-nav-text" tooltip >
      掌握最新资讯
   </span>
    
  
  </span>
  

</li>

            
            
              
<li class="devsite-nav-item">

  
  <a href="/latest-updates"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: 最新动态"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      最新动态
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/latest-updates/experimental"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: 实验性更新"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      实验性更新
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/studio/preview"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Android Studio 预览版"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      Android Studio 预览版
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/jetpack/androidx/versions"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Jetpack 库和 Compose 库"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      Jetpack 库和 Compose 库
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/training/wearables/versions/latest"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Wear OS 版本"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      Wear OS 版本
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/design-for-safety/privacy-sandbox"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Privacy Sandbox ↗️"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      Privacy Sandbox ↗️
   </span>
    
  
  </a>
  

</li>

            
          
        
      </ul>
    
  
    
      
      <ul class="devsite-nav-list" menu="设计和规划"
          aria-label="侧边菜单" hidden>
        
          
            
              
<li class="devsite-nav-item devsite-nav-heading">

  
  <span
    
       class="devsite-nav-title"
       tooltip
    
    >
  
    <span class="devsite-nav-text" tooltip >
      出色体验
   </span>
    
  
  </span>
  

</li>

            
            
              
<li class="devsite-nav-item">

  
  <a href="/quality/excellent"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: 了解详情"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      了解详情
   </span>
    
  
  </a>
  

</li>

            
          
        
          
            
              
<li class="devsite-nav-item devsite-nav-heading">

  
  <span
    
       class="devsite-nav-title"
       tooltip
    
    >
  
    <span class="devsite-nav-text" tooltip >
      界面设计
   </span>
    
  
  </span>
  

</li>

            
            
              
<li class="devsite-nav-item">

  
  <a href="/design/ui"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: 为 Android 设计"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      为 Android 设计
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/design/ui/mobile"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: 移动"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      移动
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/design/ui/large-screens"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: 自适应界面"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      自适应界面
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/design/ui/xr"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Android XR"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      Android XR
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/design/ui/widget"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: widget"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      widget
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/design/ui/wear"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Wear OS"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      Wear OS
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/design/ui/tv"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Android TV"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      Android TV
   </span>
    
  
  </a>
  

</li>

            
          
        
          
            
              
<li class="devsite-nav-item devsite-nav-heading">

  
  <span
    
       class="devsite-nav-title"
       tooltip
    
    >
  
    <span class="devsite-nav-text" tooltip >
      架构
   </span>
    
  
  </span>
  

</li>

            
            
              
<li class="devsite-nav-item">

  
  <a href="/topic/architecture/intro"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: 简介"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      简介
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/topic/libraries/view-binding"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: 库"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      库
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/guide/navigation/navigation-principles"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: 导航"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      导航
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/topic/modularization"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: 模块化"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      模块化
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/training/testing/fundamentals"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: 测试"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      测试
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/kotlin/multiplatform"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Kotlin Multiplatform"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      Kotlin Multiplatform
   </span>
    
  
  </a>
  

</li>

            
          
        
          
            
              
<li class="devsite-nav-item devsite-nav-heading">

  
  <span
    
       class="devsite-nav-title"
       tooltip
    
    >
  
    <span class="devsite-nav-text" tooltip >
      质量
   </span>
    
  
  </span>
  

</li>

            
            
              
<li class="devsite-nav-item">

  
  <a href="/quality"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: 概览"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      概览
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/quality/core-value"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: 核心价值"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      核心价值
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/quality/user-experience"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: 用户体验"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      用户体验
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/guide/topics/ui/accessibility"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: 无障碍"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      无障碍
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/quality/technical"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: 技术质量"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      技术质量
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/quality/excellent"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: 出色体验"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      出色体验
   </span>
    
  
  </a>
  

</li>

            
          
        
          
            
              
<li class="devsite-nav-item devsite-nav-heading">

  
  <span
    
       class="devsite-nav-title"
       tooltip
    
    >
  
    <span class="devsite-nav-text" tooltip >
      安全
   </span>
    
  
  </span>
  

</li>

            
            
              
<li class="devsite-nav-item">

  
  <a href="/security"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: 概览"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      概览
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/privacy-and-security/about"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: 隐私权"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      隐私权
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/guide/topics/permissions/overview"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: 权限"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      权限
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/identity"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: 身份"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      身份
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/security/fraud-prevention"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: 防范欺诈"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      防范欺诈
   </span>
    
  
  </a>
  

</li>

            
          
        
      </ul>
    
  
    
      
      <ul class="devsite-nav-list" menu="开发"
          aria-label="侧边菜单" hidden>
        
          
            
              
<li class="devsite-nav-item devsite-nav-heading">

  
  <span
    
       class="devsite-nav-title"
       tooltip
    
    >
  
    <span class="devsite-nav-text" tooltip >
      Android Studio 中的 Gemini
   </span>
    
  
  </span>
  

</li>

            
            
              
<li class="devsite-nav-item">

  
  <a href="/gemini-in-android"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: 了解详情"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      了解详情
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/studio"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: 获取 Android Studio"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      获取 Android Studio
   </span>
    
  
  </a>
  

</li>

            
          
        
          
            
              
<li class="devsite-nav-item devsite-nav-heading">

  
  <span
    
       class="devsite-nav-title"
       tooltip
    
    >
  
    <span class="devsite-nav-text" tooltip >
      核心领域
   </span>
    
  
  </span>
  

</li>

            
            
              
<li class="devsite-nav-item">

  
  <a href="/samples"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: 示例"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      示例
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/develop/ui"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: 界面"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      界面
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/develop/background-work"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: 后台工作"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      后台工作
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/guide/topics/data"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: 数据和文件"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      数据和文件
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/develop/connectivity"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: 连接"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      连接
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/develop#core-areas"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: 所有核心领域 ⤵️"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      所有核心领域 ⤵️
   </span>
    
  
  </a>
  

</li>

            
          
        
          
            
              
<li class="devsite-nav-item devsite-nav-heading">

  
  <span
    
       class="devsite-nav-title"
       tooltip
    
    >
  
    <span class="devsite-nav-text" tooltip >
      工具和工作流
   </span>
    
  
  </span>
  

</li>

            
            
              
<li class="devsite-nav-item">

  
  <a href="/studio/write"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: 编写和调试代码"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      编写和调试代码
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/build/gradle-build-overview"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: 构建项目"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      构建项目
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/training/testing"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: 测试应用"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      测试应用
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/topic/performance/overview"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: 性能"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      性能
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/tools"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: 命令行工具"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      命令行工具
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/reference/tools/gradle-api"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Gradle 插件 API"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      Gradle 插件 API
   </span>
    
  
  </a>
  

</li>

            
          
        
          
            
              
<li class="devsite-nav-item devsite-nav-heading">

  
  <span
    
       class="devsite-nav-title"
       tooltip
    
    >
  
    <span class="devsite-nav-text" tooltip >
      设备技术
   </span>
    
  
  </span>
  

</li>

            
            
              
<li class="devsite-nav-item">

  
  <a href="/guide/topics/large-screens/get-started-with-large-screens"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: 自适应界面"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      自适应界面
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/training/wearables"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Wear OS"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      Wear OS
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/develop/xr"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Android XR"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      Android XR
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/health-and-fitness/guides"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Android 运行状况"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      Android 运行状况
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/training/cars"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Android for Cars"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      Android for Cars
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/training/tv"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Android TV"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      Android TV
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/develop#devices"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: 所有设备 ⤵️"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      所有设备 ⤵️
   </span>
    
  
  </a>
  

</li>

            
          
        
          
            
              
<li class="devsite-nav-item devsite-nav-heading">

  
  <span
    
       class="devsite-nav-title"
       tooltip
    
    >
  
    <span class="devsite-nav-text" tooltip >
      库
   </span>
    
  
  </span>
  

</li>

            
            
              
<li class="devsite-nav-item">

  
  <a href="/reference/packages"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Android 平台"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      Android 平台
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/jetpack/androidx/explorer"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Jetpack 库"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      Jetpack 库
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/jetpack/androidx/releases/compose"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Compose 库"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      Compose 库
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="https://developers.google.com/android/reference/packages"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Google Play 服务 ↗️"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      Google Play 服务 ↗️
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="https://play.google.com/sdks"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Google Play SDK 索引 ↗️"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      Google Play SDK 索引 ↗️
   </span>
    
  
  </a>
  

</li>

            
          
        
      </ul>
    
  
    
      
      <ul class="devsite-nav-list" menu="Google Play"
          aria-label="侧边菜单" hidden>
        
          
            
              
<li class="devsite-nav-item devsite-nav-heading">

  
  <span
    
       class="devsite-nav-title"
       tooltip
    
    >
  
    <span class="devsite-nav-text" tooltip >
      Play 管理中心
   </span>
    
  
  </span>
  

</li>

            
            
              
<li class="devsite-nav-item">

  
  <a href="https://play.google.com/console"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: 转到 Play 管理中心"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      转到 Play 管理中心
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="https://play.google.com/console/about/"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: 了解详情 ↗️"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      了解详情 ↗️
   </span>
    
  
  </a>
  

</li>

            
          
        
          
            
              
<li class="devsite-nav-item devsite-nav-heading">

  
  <span
    
       class="devsite-nav-title"
       tooltip
    
    >
  
    <span class="devsite-nav-text" tooltip >
      基础知识
   </span>
    
  
  </span>
  

</li>

            
            
              
<li class="devsite-nav-item">

  
  <a href="/distribute/play-billing"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Google Play 变现"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      Google Play 变现
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/google/play/integrity"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Play Integrity"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      Play Integrity
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/distribute/play-policies"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Play 政策"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      Play 政策
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="https://play.google.com/console/about/programs"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Play 计划 ↗️"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      Play 计划 ↗️
   </span>
    
  
  </a>
  

</li>

            
          
        
          
            
              
<li class="devsite-nav-item devsite-nav-heading">

  
  <span
    
       class="devsite-nav-title"
       tooltip
    
    >
  
    <span class="devsite-nav-text" tooltip >
      游戏开发中心
   </span>
    
  
  </span>
  

</li>

            
            
              
<li class="devsite-nav-item">

  
  <a href="/games"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: 概览"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      概览
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/guide/playcore/asset-delivery"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Play Asset Delivery"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      Play Asset Delivery
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/games/pgs/overview"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Play 游戏服务"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      Play 游戏服务
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/games/playgames/overview"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Play 游戏电脑版"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      Play 游戏电脑版
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/distribute"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: 所有 Play 指南 ⤵️"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      所有 Play 指南 ⤵️
   </span>
    
  
  </a>
  

</li>

            
          
        
          
            
              
<li class="devsite-nav-item devsite-nav-heading">

  
  <span
    
       class="devsite-nav-title"
       tooltip
    
    >
  
    <span class="devsite-nav-text" tooltip >
      库
   </span>
    
  
  </span>
  

</li>

            
            
              
<li class="devsite-nav-item">

  
  <a href="/guide/playcore/feature-delivery"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Play Feature Delivery"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      Play Feature Delivery
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/guide/playcore/in-app-updates"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Play 应用内更新"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      Play 应用内更新
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/guide/playcore/in-app-review"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Play 应用内评价"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      Play 应用内评价
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/google/play/installreferrer"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Play Install Referrer"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      Play Install Referrer
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="https://developers.google.com/android/reference/packages"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Google Play 服务 ↗️"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      Google Play 服务 ↗️
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="https://play.google.com/sdks"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Google Play SDK 索引 ↗️"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      Google Play SDK 索引 ↗️
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/distribute"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: 所有 Play 内容库 ⤵️"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      所有 Play 内容库 ⤵️
   </span>
    
  
  </a>
  

</li>

            
          
        
          
            
              
<li class="devsite-nav-item devsite-nav-heading">

  
  <span
    
       class="devsite-nav-title"
       tooltip
    
    >
  
    <span class="devsite-nav-text" tooltip >
      工具与资源
   </span>
    
  
  </span>
  

</li>

            
            
              
<li class="devsite-nav-item">

  
  <a href="/guide/app-bundle"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Android App Bundle"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      Android App Bundle
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/distribute/marketing-tools"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: 品牌与营销"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      品牌与营销
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="https://developers.google.com/android-publisher/api-ref/rest"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Play 管理中心 API ↗️"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav">
  
    <span class="devsite-nav-text" tooltip >
      Play 管理中心 API ↗️
   </span>
    
  
  </a>
  

</li>

            
          
        
      </ul>
    
  
    
  
        
        
          
    
  
        
      </div>
    
  </div>
</nav>
        
      </devsite-book-nav>
      <section id="gc-wrapper">
        <main role="main" id="main-content" class="devsite-main-content"
            
              has-book-nav
              has-sidebar
            >
          <div class="devsite-sidebar">
            <div class="devsite-sidebar-content">
                
                <devsite-toc class="devsite-nav"
                            role="navigation"
                            aria-label="本页内容"
                            depth="2"
                            scrollbars
                  ></devsite-toc>
                <devsite-recommendations-sidebar class="nocontent devsite-nav">
                </devsite-recommendations-sidebar>
            </div>
          </div>
          <devsite-content>
            
              












<article class="devsite-article">
  
  
  
  
  
    <div class="devsite-banner devsite-banner-translated nocontent">
      <div class="devsite-banner-message">
        <div class="devsite-banner-message-text">
          <img src="https://developer.android.com/_static/images/translated.svg?hl=zh-cn"
               class="devsite-banner-translated-image invert"
               alt="">
          <span class="devsite-banner-translated-text">
            
            此页面由 <a href="//cloud.google.com/translate/?hl=zh-cn">Cloud Translation API</a> 翻译。
          </span>
        </div>
        <devsite-switch-to-english-button></devsite-switch-to-english-button>
      </div>
    </div>
  

  <div class="devsite-article-meta nocontent" role="navigation">
    
    
    <ul class="devsite-breadcrumb-list"
  
    aria-label="面包屑导航">
  
  <li class="devsite-breadcrumb-item
             ">
    
    
    
      
  <a href="https://developer.android.com/?hl=zh-cn"
      
        class="devsite-breadcrumb-link gc-analytics-event"
      
        data-category="Site-Wide Custom Events"
      
        data-label="Breadcrumbs"
      
        data-value="1"
      
        track-type="globalNav"
      
        track-name="breadcrumb"
      
        track-metadata-position="1"
      
        track-metadata-eventdetail="Android Developers"
      
    >
    
        Android Developers
      
  </a>
  
    
  </li>
  
  <li class="devsite-breadcrumb-item
             ">
    
      
      <div class="devsite-breadcrumb-guillemet material-icons" aria-hidden="true"></div>
    
    
    
      
  <a href="https://developer.android.com/distribute?hl=zh-cn"
      
        class="devsite-breadcrumb-link gc-analytics-event"
      
        data-category="Site-Wide Custom Events"
      
        data-label="Breadcrumbs"
      
        data-value="2"
      
        track-type="globalNav"
      
        track-name="breadcrumb"
      
        track-metadata-position="2"
      
        track-metadata-eventdetail="Google Play"
      
    >
    
        Google Play
      
  </a>
  
    
  </li>
  
  <li class="devsite-breadcrumb-item
             ">
    
      
      <div class="devsite-breadcrumb-guillemet material-icons" aria-hidden="true"></div>
    
    
    
      
  <a href="https://developer.android.com/guide/app-bundle?hl=zh-cn"
      
        class="devsite-breadcrumb-link gc-analytics-event"
      
        data-category="Site-Wide Custom Events"
      
        data-label="Breadcrumbs"
      
        data-value="3"
      
        track-type="globalNav"
      
        track-name="breadcrumb"
      
        track-metadata-position="3"
      
        track-metadata-eventdetail="Other Play guides"
      
    >
    
        Other Play guides
      
  </a>
  
    
  </li>
  
</ul>
    
      
    <devsite-thumb-rating position="header">
    </devsite-thumb-rating>
  
    
  </div>
  
    <h1 class="devsite-page-title" tabindex="-1">
      配置按需分发<div class="devsite-actions" hidden data-nosnippet><devsite-feature-tooltip
      ack-key="AckCollectionsBookmarkTooltipDismiss"
      analytics-category="Site-Wide Custom Events"
      analytics-action-show="Callout Profile displayed"
      analytics-action-close="Callout Profile dismissed"
      analytics-label="Create Collection Callout"
      class="devsite-page-bookmark-tooltip nocontent"
      dismiss-button="true"
      id="devsite-collections-dropdown"
      
      dismiss-button-text="关闭"

      
      close-button-text="知道了">

    
    
      <devsite-bookmark></devsite-bookmark>
    

    <span slot="popout-heading">
      
      使用集合让一切井井有条
    </span>
    <span slot="popout-contents">
      
      根据您的偏好保存内容并对其进行分类。
    </span>
  </devsite-feature-tooltip></div>
  
      
    </h1>
  <div class="devsite-page-title-meta"><devsite-view-release-notes></devsite-view-release-notes></div>
  

  <devsite-toc class="devsite-nav"
    depth="2"
    devsite-toc-embedded
    >
  </devsite-toc>
  
    
    <devsite-recommendations-dropdown class="nocontent"></devsite-recommendations-dropdown>
    
  <div class="devsite-article-body clearfix
  ">

  
    
    
    






























































































































































<p>借助功能模块，您可以从应用的基本模块中分离某些功能和资源，并将其纳入到 app bundle 中。然后，用户在安装应用的基本 APK 后，便可以通过 Play Feature Delivery 按需下载和安装这些组件。</p>

<p>例如，假设某个短信应用包含拍摄和发送图片消息的功能，但只有一小部分用户发送图片消息。合理的做法是，将图片消息功能添加为可下载的功能模块。这样，所有用户最初下载的应用所占的空间会更小，而只有那些发送图片消息的用户才需要下载该附加组件。</p>

<p>请注意，这种类型的模块化所需的工作量更大，并且可能需要重构应用的现有代码，因此请仔细考虑按需提供给用户对应用的哪些功能益处最大。如需更好地了解有关按需功能的最佳用例和准则，请阅读<a href="https://developer.android.com/studio/projects/dynamic-delivery/ux-guidelines?hl=zh-cn">有关按需分发的用户体验最佳做法</a>。</p>

<p>如果您想逐步对应用功能进行模块化处理，而不启用按需分发等高级分发选项，请改为<a href="https://developer.android.com/studio/projects/dynamic-delivery/at-install-delivery?hl=zh-cn">配置安装时分发</a>。</p>

<p>本文旨在帮助您向应用项目中添加功能模块，并将其配置为按需分发。开始前，请确保您使用的是 <a href="https://developer.android.com/studio?hl=zh-cn">Android Studio 3.5</a> 或更高版本以及 Android Gradle 插件 3.5.0 或更高版本。</p>

<h2 data-text="将新模块配置为按需分发" id="create_dynamic_feature" tabindex="-1">将新模块配置为按需分发</h2>

<p>如需创建新功能模块，最简单的方法是使用 <a href="https://developer.android.com/studio?hl=zh-cn">Android Studio 3.5</a> 或更高版本。由于功能模块本身依赖于应用的基础模块，因此您只能在创建好应用项目之后再向其中添加功能模块。</p>

<p>如需使用 Android Studio 向应用项目中添加功能模块，请按以下步骤操作：</p>

<ol>
<li>在 IDE 中打开您的应用项目（如果您尚未打开）。</li>
<li>从菜单栏中依次选择 <strong>File（文件）> New（新建）> New Module（新建模块）</strong>。</li>
<li>在<strong>Create New Module</strong>（创建新模块）对话框中，选择 <strong>Dynamic Feature Module</strong>（动态功能模块），然后点击 <strong>Next</strong>（下一步）。</li>
<li>在 <strong>Configure your new module</strong>（配置新模块）部分中，完成以下操作：
<ol>
<li>从下拉菜单中选择应用项目的 <strong>Base application module</strong>（应用基础模块）。</li>
<li>指定 <strong>Module name</strong>（模块名称）。IDE 会使用此名称在 <a href="https://developer.android.com/studio/build?hl=zh-cn#settings-file">Gradle 设置文件</a>中将该模块标识为 Gradle 子项目。当您构建 app bundle 时，Gradle 会使用子项目名称的最后一个元素在<a href="https://developer.android.com/guide/playcore/feature-delivery?hl=zh-cn#feature-module-manifest">功能模块的清单</a>中注入 <code dir="ltr" translate="no">&lt;manifest split&gt;</code> 属性。</li>
<li>指定该模块的 <strong>package name</strong>（软件包名称）。默认情况下，Android Studio 会给出一个软件包名称建议，该名称由基础模块的根软件包名称和您在上一步中指定的模块名称组合而成。</li>
<li>选择您希望该模块支持的 <strong>Minimum API level</strong>（最低 API 级别）。此值应与基础模块的值一致。</li>
</ol></li>
<li>点击 <strong>Next</strong>（下一步）。</li>
<li><p>在 <strong>Module Download Options</strong>（模块下载选项）部分中，完成以下操作：</p>

<ol>
<li><p>指定最多包含 50 个字符的 <strong>Module title</strong>。例如，平台会在确认用户是否要下载模块时，使用此标题向用户标识该模块。因此，应用的基本模块必须将模块标题作为您能读懂的<a href="https://developer.android.com/guide/topics/resources/string-resource?hl=zh-cn">字符串资源</a>纳入其中。使用 Android Studio 创建模块时，IDE 会为您将字符串资源添加到基本模块中，并在功能模块的清单中注入以下条目：</p>
<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="XML"><code translate="no" dir="ltr">&lt;dist:module
<span class="devsite-syntax-w">    </span>...
<span class="devsite-syntax-w">    </span>dist:title="@string/feature_title"&gt;
&lt;/dist:module&gt;
</code></pre></devsite-code><aside class="note"><strong>注意</strong>：<span> 启用资源缩减（例如为发布 build 启用）后，如果基本模块中的代码未引用模块标题字符串资源，缩减器可能会移除该字符串资源。为了确保该字符串资源保留在构建输出中，请将该资源包含在<a href="https://developer.android.com/studio/build/shrink-code?hl=zh-cn#keep-resources">自定义资源 keep 文件</a>中。</span></aside></li>
<li><p>在 <strong>Install-time inclusion</strong> 下的下拉菜单中，选择 <strong>Do not include module at install-time</strong>。Android Studio 会在该模块的清单中注入以下内容来反映您的选择：</p>
<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="XML"><code translate="no" dir="ltr">&lt;dist:module<span class="devsite-syntax-w"> </span>...<span class="devsite-syntax-w"> </span>&gt;
<span class="devsite-syntax-w">  </span>&lt;dist:delivery&gt;
<span class="devsite-syntax-w">      </span>&lt;dist:on-demand/&gt;
<span class="devsite-syntax-w">  </span>&lt;/dist:delivery&gt;
&lt;/dist:module&gt;
</code></pre></devsite-code></li>
<li><p>如果您希望此模块可提供给搭载 Android 4.4（API 级别 20）及更低版本的设备并包含在多 APK 中，请选中 <strong>Fusing</strong> 旁边的复选框。这意味着，您可以为此模块启用按需行为，也可以停用融合功能，以便从不支持下载和安装拆分 APK 的设备上将其省略。Android Studio 会在该模块的清单中注入以下内容来反映您的选择：</p>
<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="XML"><code translate="no" dir="ltr">&lt;dist:module<span class="devsite-syntax-w"> </span>...&gt;
<span class="devsite-syntax-w">    </span>&lt;dist:fusing<span class="devsite-syntax-w"> </span>dist:include="true<span class="devsite-syntax-w"> </span>|<span class="devsite-syntax-w"> </span>false"<span class="devsite-syntax-w"> </span>/&gt;
&lt;/dist:module&gt;
</code></pre></devsite-code></li>
</ol></li>
<li><p>点击 <strong>Finish</strong>（完成）。</p></li>
</ol>

<p>在 Android Studio 完成模块创建后，从 <strong>Project</strong>（项目）窗格（从菜单栏中依次选择 <strong>View [查看] > Tool Windows [工具窗口] > Project[项目]</strong>）中自行检查其内容。默认代码、资源和组织应与标准应用模块类似。</p>

<p>接下来，您需要使用 Play Feature Delivery 库实现按需安装功能。</p>

<h2 data-text="将 Play Feature Delivery 库添加到您的项目中" id="include-play-feature-delivery" tabindex="-1">将 Play Feature Delivery 库添加到您的项目中</h2>

<p>开始之前，您需要先<a href="https://developer.android.com/guide/playcore?hl=zh-cn#java-kotlin-feature-delivery">将 Play Feature Delivery 库添加</a>到您的项目中。</p>

<h2 data-text="请求按需模块" id="request" tabindex="-1">请求按需模块</h2>

<p>当您的应用需要使用功能模块时，它可以通过 <a href="https://developer.android.com/reference/com/google/android/play/core/splitinstall/SplitInstallManager?hl=zh-cn"><code dir="ltr" translate="no">SplitInstallManager</code></a> 类在前台进行请求。在发起请求时，您的应用需要指定由目标模块清单中的 <code dir="ltr" translate="no">split</code> 元素所定义的模块名称。当您使用 Android Studio <a href="https://developer.android.com/guide/app-bundle/play-feature-delivery?hl=zh-cn">创建功能模块</a>时，构建系统会使用您提供的<b>模块名称</b>，在编译时将该属性注入模块清单中。如需了解详情，请参阅<a href="https://developer.android.com/guide/playcore/feature-delivery?hl=zh-cn#feature-module-manifest">功能模块清单</a>。</p>

<p>例如，假设某个具有按需模块的应用可使用设备的相机拍摄和发送图片消息，并且此按需模块在其清单中指定了 <code dir="ltr" translate="no">split=&quot;pictureMessages&quot;</code>。以下示例使用 <code dir="ltr" translate="no">SplitInstallManager</code> 请求 <code dir="ltr" translate="no">pictureMessages</code> 模块（以及包含一些宣传过滤器的另一个模块）：</p>

<div>
<div class="ds-selector-tabs"><section><h3 data-text="Kotlin" id="kotlin" tabindex="-1">Kotlin</h3>
<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="Kotlin"><span class="devsite-syntax-c1">// Creates an instance of <a href="https://developer.android.com/reference/com/google/android/play/core/splitinstall/SplitInstallManager?hl=zh-cn">SplitInstallManager</a>.</span>
<span class="devsite-syntax-kd">val</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nv">splitInstallManager</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">SplitInstallManagerFactory</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">create</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">context</span><span class="devsite-syntax-p">)</span>

<span class="devsite-syntax-c1">// Creates a request to install a module.</span>
<span class="devsite-syntax-kd">val</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nv">request</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span>
<span class="devsite-syntax-w">    </span><a href="https://developer.android.com/reference/com/google/android/play/core/splitinstall/SplitInstallRequest?hl=zh-cn"><span class="devsite-syntax-n">SplitInstallRequest</span></a>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">newBuilder</span><span class="devsite-syntax-p">()</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-c1">// You can download multiple on demand modules per</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-c1">// request by invoking the following method for each</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-c1">// module you want to install.</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">addModule</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"pictureMessages"</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">addModule</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"promotionalFilters"</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">build</span><span class="devsite-syntax-p">()</span>

<span class="devsite-syntax-n">splitInstallManager</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-c1">// Submits the request to install the module through the</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-c1">// asynchronous startInstall() task. Your app needs to be</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-c1">// in the foreground to submit the request.</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">startInstall</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">request</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-c1">// You should also be able to gracefully handle</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-c1">// request state changes and errors. To learn more, go to</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-c1">// the section about how to <a href="#monitor_requests">Monitor the request state</a>.</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">addOnSuccessListener</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">sessionId</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">-</span>&gt;<span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">...</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">}</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">addOnFailureListener</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">exception</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">-</span>&gt;<span class="devsite-syntax-w">  </span><span class="devsite-syntax-p">...</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">}</span></pre></devsite-code>
</section><section><h3 data-text="Java" id="java" tabindex="-1">Java</h3>
<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="Java"><span class="devsite-syntax-c1">// Creates an instance of <a href="https://developer.android.com/reference/com/google/android/play/core/splitinstall/SplitInstallManager?hl=zh-cn">SplitInstallManager</a>.</span>
<span class="devsite-syntax-n">SplitInstallManager</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">splitInstallManager</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-n">SplitInstallManagerFactory</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">create</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">context</span><span class="devsite-syntax-p">);</span>

<span class="devsite-syntax-c1">// Creates a request to install a module.</span>
<a href="https://developer.android.com/reference/com/google/android/play/core/splitinstall/SplitInstallRequest?hl=zh-cn"><span class="devsite-syntax-n">SplitInstallRequest</span></a><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">request</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-n">SplitInstallRequest</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">newBuilder</span><span class="devsite-syntax-p">()</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-c1">// You can download multiple on demand modules per</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-c1">// request by invoking the following method for each</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-c1">// module you want to install.</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">addModule</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"pictureMessages"</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">addModule</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"promotionalFilters"</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">build</span><span class="devsite-syntax-p">();</span>

<span class="devsite-syntax-n">splitInstallManager</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-c1">// Submits the request to install the module through the</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-c1">// asynchronous startInstall() task. Your app needs to be</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-c1">// in the foreground to submit the request.</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">startInstall</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">request</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-c1">// You should also be able to gracefully handle</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-c1">// request state changes and errors. To learn more, go to</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-c1">// the section about how to <a href="#monitor_requests">Monitor the request state</a>.</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">addOnSuccessListener</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">sessionId</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">-</span>&gt;<span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">...</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">})</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">addOnFailureListener</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">exception</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">-</span>&gt;<span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">...</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">});</span></pre></devsite-code>
</section></div>
</div>

<p>当您的应用请求按需模块时，Play Feature Delivery 库会采用“即发即弃”策略。也就是说，它会发送请求以将该模块下载到平台，但不会监控安装是否成功。如需在安装后继续用户体验历程或妥善处理错误，请务必<a href="#monitor_requests">监控请求状态</a>。</p>

<p class="note">
<b>注意</b>：您可以请求已安装在设备上的功能模块。如果检测到该模块已安装，API 会立即将该请求视为已完成。此外，安装模块后，Google Play 会自动使其保持最新状态。也就是说，当您上传新版 app bundle 时，平台会更新所有属于您应用的已安装 APK。如需了解详情，请参阅<a href="https://developer.android.com/guide/app-bundle/configure-base?hl=zh-cn#manage_app_updates">管理应用更新</a>。</p>

<p>如需访问模块的代码和资源，您的应用需要<a href="#access_downloaded_modules">启用 SplitCompat</a>。请注意，Android 免安装应用不需要使用 SplitCompat。</p>

<h3 data-text="延迟安装按需模块" id="deferred_install" tabindex="-1">延迟安装按需模块</h3>

<p>如果您不需要应用立即下载并安装按需模块，可以延迟到应用在后台运行时再安装该模块。例如，您想要预先加载一些宣传材料并在之后应用启动时使用这些材料。</p>

<p>您可以使用 <a href="https://developer.android.com/reference/com/google/android/play/core/splitinstall/SplitInstallManager?hl=zh-cn#deferredinstall"><code dir="ltr" translate="no">deferredInstall()</code></a> 方法指定之后需要下载的模块，如下所示。而且，与 <a href="https://developer.android.com/reference/com/google/android/play/core/splitinstall/SplitInstallManager?hl=zh-cn#startinstall"><code dir="ltr" translate="no">SplitInstallManager.startInstall()</code></a> 不同，您的应用无需在前台就可发起延迟安装请求。</p>

<div>
<div class="ds-selector-tabs"><section><h3 data-text="Kotlin" id="kotlin" tabindex="-1">Kotlin</h3>
<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="Kotlin"><span class="devsite-syntax-c1">// Requests an on demand module to be downloaded when the app enters</span>
<span class="devsite-syntax-c1">// the background. You can specify more than one module at a time.</span>
<span class="devsite-syntax-n">splitInstallManager</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">deferredInstall</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">listOf</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"promotionalFilters"</span><span class="devsite-syntax-p">))</span></pre></devsite-code>
</section><section><h3 data-text="Java" id="java" tabindex="-1">Java</h3>
<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="Java"><span class="devsite-syntax-c1">// Requests an on demand module to be downloaded when the app enters</span>
<span class="devsite-syntax-c1">// the background. You can specify more than one module at a time.</span>
<span class="devsite-syntax-n">splitInstallManager</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">deferredInstall</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">Arrays</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">asList</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"promotionalFilters"</span><span class="devsite-syntax-p">));</span></pre></devsite-code>
</section></div>
</div>

<p>收到延迟安装请求后，系统将尽力而为，您无法跟踪其进度。因此，在尝试访问您已指定为延迟安装的模块之前，应<a href="#manage_installed_modules">检查该模块是否已安装</a>。如果您需要立即使用该模块，请改为使用 <code dir="ltr" translate="no">SplitInstallManager.startInstall()</code> 进行请求，如上一部分中所示。</p>

<h2 data-text="监控请求状态" id="monitor_requests" tabindex="-1">监控请求状态</h2>

<p>为了能够更新进度条、在安装后触发 Intent 或者妥善处理请求错误，您需要监听来自异步 <code dir="ltr" translate="no">SplitInstallManager.startInstall()</code> 任务的状态更新。在开始接收安装请求更新之前，请先注册监听器并获取该请求的会话 ID，如下所示。</p>

<div>
<div class="ds-selector-tabs"><section><h3 data-text="Kotlin" id="kotlin" tabindex="-1">Kotlin</h3>
<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="Kotlin"><span class="devsite-syntax-c1">// Initializes a variable to later track the session ID for a given request.</span>
<span class="devsite-syntax-kd">var</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nv">mySessionId</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-m">0</span>

<span class="devsite-syntax-c1">// Creates a listener for request status updates.</span>
<span class="devsite-syntax-kd">val</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nv">listener</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><a href="https://developer.android.com/reference/com/google/android/play/core/splitinstall/SplitInstallStateUpdatedListener?hl=zh-cn"><span class="devsite-syntax-n">SplitInstallStateUpdatedListener</span></a><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">state</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">-</span>&gt;
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-k">if</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">state</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">sessionId</span><span class="devsite-syntax-p">()</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">==</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">mySessionId</span><span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-c1">// Read the status of the request to <a href="#handle_state_updates">handle the state update</a>.</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-p">}</span>
<span class="devsite-syntax-p">}</span>

<span class="devsite-syntax-c1">// Registers the listener.</span>
<span class="devsite-syntax-n">splitInstallManager</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">registerListener</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">listener</span><span class="devsite-syntax-p">)</span>

<span class="devsite-syntax-p">...</span>

<span class="devsite-syntax-n">splitInstallManager</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">startInstall</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">request</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-c1">// When the platform accepts your request to download</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-c1">// an on demand module, it binds it to the following session ID.</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-c1">// You use this ID to track further status updates for the request.</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">addOnSuccessListener</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">sessionId</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">-</span>&gt;<span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">mySessionId</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">sessionId</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">}</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-c1">// You should also add the following listener to handle any errors</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-c1">// processing the request.</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">addOnFailureListener</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">exception</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">-</span>&gt;
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-c1">// <a href="#handle_request_errors">Handle request errors</a>.</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-p">}</span>

<span class="devsite-syntax-c1">// When your app no longer requires further updates, unregister the listener.</span>
<span class="devsite-syntax-n">splitInstallManager</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">unregisterListener</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">listener</span><span class="devsite-syntax-p">)</span></pre></devsite-code>
</section><section><h3 data-text="Java" id="java" tabindex="-1">Java</h3>
<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="Java"><span class="devsite-syntax-c1">// Initializes a variable to later track the session ID for a given request.</span>
<span class="devsite-syntax-kt">int</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">mySessionId</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-mi">0</span><span class="devsite-syntax-p">;</span>

<span class="devsite-syntax-c1">// Creates a listener for request status updates.</span>
<a href="https://developer.android.com/reference/com/google/android/play/core/splitinstall/SplitInstallStateUpdatedListener?hl=zh-cn"><span class="devsite-syntax-n">SplitInstallStateUpdatedListener</span></a><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">listener</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">state</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">-</span>&gt;<span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-k">if</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">state</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">sessionId</span><span class="devsite-syntax-p">()</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">==</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">mySessionId</span><span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-c1">// Read the status of the request to <a href="#handle_state_updates">handle the state update</a>.</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-p">}</span>
<span class="devsite-syntax-p">};</span>

<span class="devsite-syntax-c1">// Registers the listener.</span>
<span class="devsite-syntax-n">splitInstallManager</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">registerListener</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">listener</span><span class="devsite-syntax-p">);</span>

<span class="devsite-syntax-p">...</span>

<span class="devsite-syntax-n">splitInstallManager</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">startInstall</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">request</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-c1">// When the platform accepts your request to download</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-c1">// an on demand module, it binds it to the following session ID.</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-c1">// You use this ID to track further status updates for the request.</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">addOnSuccessListener</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">sessionId</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">-</span>&gt;<span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">mySessionId</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">sessionId</span><span class="devsite-syntax-p">;</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">})</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-c1">// You should also add the following listener to handle any errors</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-c1">// processing the request.</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">addOnFailureListener</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">exception</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">-</span>&gt;<span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-c1">// <a href="#handle_request_errors">Handle request errors</a>.</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-p">});</span>

<span class="devsite-syntax-c1">// When your app no longer requires further updates, unregister the listener.</span>
<span class="devsite-syntax-n">splitInstallManager</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">unregisterListener</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">listener</span><span class="devsite-syntax-p">);</span></pre></devsite-code>
</section></div>
</div>

<h3 data-text="处理请求错误" id="handle_request_errors" tabindex="-1">处理请求错误</h3>

<p>请注意，按需安装功能模块有时可能会失败，就像应用安装并非总能成功一样。安装失败可能是设备存储空间不足、没有网络连接或用户未登录 Google Play 商店等问题所致。如需了解有关如何从用户的角度妥善处理这些情况的建议，请参阅<a href="https://developer.android.com/guide/playcore/feature-delivery/ux-guidelines?hl=zh-cn">按需分发的用户体验指南</a>。</p>

<p>在代码方面，您应该使用 <code dir="ltr" translate="no">addOnFailureListener()</code> 处理下载或安装模块时出现的失败，如下所示：</p>

<div>
<div class="ds-selector-tabs"><section><h3 data-text="Kotlin" id="kotlin" tabindex="-1">Kotlin</h3>
<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="Kotlin"><a href="https://developer.android.com/reference/com/google/android/play/core/splitinstall/SplitInstallManager?hl=zh-cn"><span class="devsite-syntax-n">splitInstallManager</span></a>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">startInstall</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">request</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">addOnFailureListener</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">exception</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">-</span>&gt;
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-k">when</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">((</span><span class="devsite-syntax-n">exception</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-k">as</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">SplitInstallException</span><span class="devsite-syntax-p">).</span><span class="devsite-syntax-na">errorCode</span><span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">            </span><a href="https://developer.android.com/reference/com/google/android/play/core/splitinstall/model/SplitInstallErrorCode?hl=zh-cn"><span class="devsite-syntax-n">SplitInstallErrorCode</span></a><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">NETWORK_ERROR</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">-></span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">                </span><span class="devsite-syntax-c1">// Display a message that requests the user to establish a</span>
<span class="devsite-syntax-w">                </span><span class="devsite-syntax-c1">// network connection.</span>
<span class="devsite-syntax-w">            </span><span class="devsite-syntax-p">}</span>
<span class="devsite-syntax-w">            </span><span class="devsite-syntax-n">SplitInstallErrorCode</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">ACTIVE_SESSIONS_LIMIT_EXCEEDED</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">-></span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">checkForActiveDownloads</span><span class="devsite-syntax-p">()</span>
<span class="devsite-syntax-w">            </span><span class="devsite-syntax-p">...</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-p">}</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-p">}</span>

<span class="devsite-syntax-kd">fun</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nf">checkForActiveDownloads</span><span class="devsite-syntax-p">()</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-n">splitInstallManager</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-c1">// Returns a SplitInstallSessionState object for each active session as a List.</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">sessionStates</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">addOnCompleteListener</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">task</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">-</span>&gt;
<span class="devsite-syntax-w">            </span><span class="devsite-syntax-k">if</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">task</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">isSuccessful</span><span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">                </span><span class="devsite-syntax-c1">// Check for active sessions.</span>
<span class="devsite-syntax-w">                </span><span class="devsite-syntax-k">for</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">(</span><a href="https://developer.android.com/reference/com/google/android/play/core/splitinstall/SplitInstallSessionState?hl=zh-cn"><span class="devsite-syntax-n">state</span></a><span class="devsite-syntax-w"> </span><span class="devsite-syntax-k">in</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">task</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">result</span><span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">                    </span><span class="devsite-syntax-k">if</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">state</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">status</span><span class="devsite-syntax-p">()</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">==</span><span class="devsite-syntax-w"> </span><a href="https://developer.android.com/reference/com/google/android/play/core/splitinstall/model/SplitInstallSessionStatus?hl=zh-cn"><span class="devsite-syntax-n">SplitInstallSessionStatus</span></a><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">DOWNLOADING</span><span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">                        </span><span class="devsite-syntax-c1">// <a href="#cancel_request">Cancel the request</a>, or request a <a href="#deferred_install">deferred installation</a>.</span>
<span class="devsite-syntax-w">                    </span><span class="devsite-syntax-p">}</span>
<span class="devsite-syntax-w">                </span><span class="devsite-syntax-p">}</span>
<span class="devsite-syntax-w">            </span><span class="devsite-syntax-p">}</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-p">}</span>
<span class="devsite-syntax-p">}</span></pre></devsite-code>
</section><section><h3 data-text="Java" id="java" tabindex="-1">Java</h3>
<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="Java"><a href="https://developer.android.com/reference/com/google/android/play/core/splitinstall/SplitInstallManager?hl=zh-cn"><span class="devsite-syntax-n">splitInstallManager</span></a>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">startInstall</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">request</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">addOnFailureListener</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">exception</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">-</span>&gt;<span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-k">switch</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">(((</span><span class="devsite-syntax-n">SplitInstallException</span><span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">exception</span><span class="devsite-syntax-p">).</span><span class="devsite-syntax-na">getErrorCode</span><span class="devsite-syntax-p">())</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">            </span><span class="devsite-syntax-k">case</span><span class="devsite-syntax-w"> </span><a href="https://developer.android.com/reference/com/google/android/play/core/splitinstall/model/SplitInstallErrorCode?hl=zh-cn"><span class="devsite-syntax-n">SplitInstallErrorCode</span></a><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">NETWORK_ERROR</span><span class="devsite-syntax-p">:</span>
<span class="devsite-syntax-w">                </span><span class="devsite-syntax-c1">// Display a message that requests the user to establish a</span>
<span class="devsite-syntax-w">                </span><span class="devsite-syntax-c1">// network connection.</span>
<span class="devsite-syntax-w">                </span><span class="devsite-syntax-k">break</span><span class="devsite-syntax-p">;</span>
<span class="devsite-syntax-w">            </span><span class="devsite-syntax-k">case</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">SplitInstallErrorCode</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">ACTIVE_SESSIONS_LIMIT_EXCEEDED</span><span class="devsite-syntax-p">:</span>
<span class="devsite-syntax-w">                </span><span class="devsite-syntax-n">checkForActiveDownloads</span><span class="devsite-syntax-p">();</span>
<span class="devsite-syntax-w">            </span><span class="devsite-syntax-p">...</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-p">});</span>

<span class="devsite-syntax-kt">void</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nf">checkForActiveDownloads</span><span class="devsite-syntax-p">()</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-n">splitInstallManager</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-c1">// Returns a SplitInstallSessionState object for each active session as a List.</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">getSessionStates</span><span class="devsite-syntax-p">()</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">addOnCompleteListener</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">task</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">-</span>&gt;<span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">            </span><span class="devsite-syntax-k">if</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">task</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">isSuccessful</span><span class="devsite-syntax-p">())</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">                </span><span class="devsite-syntax-c1">// Check for active sessions.</span>
<span class="devsite-syntax-w">                </span><span class="devsite-syntax-k">for</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">(</span><a href="https://developer.android.com/reference/com/google/android/play/core/splitinstall/SplitInstallSessionState?hl=zh-cn"><span class="devsite-syntax-n">SplitInstallSessionState</span></a><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">state</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">task</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">getResult</span><span class="devsite-syntax-p">())</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">                    </span><span class="devsite-syntax-k">if</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">state</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">status</span><span class="devsite-syntax-p">()</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">==</span><span class="devsite-syntax-w"> </span><a href="https://developer.android.com/reference/com/google/android/play/core/splitinstall/model/SplitInstallSessionStatus?hl=zh-cn"><span class="devsite-syntax-n">SplitInstallSessionStatus</span></a><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">DOWNLOADING</span><span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">                        </span><span class="devsite-syntax-c1">// <a href="#cancel_request">Cancel the request</a>, or request a <a href="#deferred_install">deferred installation</a>.</span>
<span class="devsite-syntax-w">                    </span><span class="devsite-syntax-p">}</span>
<span class="devsite-syntax-w">                </span><span class="devsite-syntax-p">}</span>
<span class="devsite-syntax-w">            </span><span class="devsite-syntax-p">}</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-p">});</span>
<span class="devsite-syntax-p">}</span></pre></devsite-code>
</section></div>
</div>

<p>下表介绍了您的应用可能需要处理的错误状态：</p>

<table>
  <tbody><tr>
    <th>错误代码</th> <th>说明</th> <th>建议采取的措施</th>
  </tr>
  <tr>
    <td>ACTIVE_SESSIONS_LIMIT_EXCEEDED</td>
    <td>请求遭到拒绝，因为当前至少有一个请求正在下载。</td>
    <td>检查是否有任何仍在下载的请求，如上例所示。</td>
  </tr>
  <tr>
    <td>MODULE_UNAVAILABLE</td>
    <td>Google Play 无法根据当前安装的应用版本、设备和用户的 Google Play 账号找到所请求的模块。</td>
    <td>如果用户无权访问该模块，请通知他们。</td>
  </tr>
  <tr>
    <td>INVALID_REQUEST</td>
    <td>Google Play 已收到请求，但该请求无效。</td>
    <td>验证请求中包含的信息是否完整准确。</td>
  </tr>
  <tr>
    <td>SESSION_NOT_FOUND</td>
    <td>找不到指定会话 ID 对应的会话。</td>
    <td>如果您尝试通过会话 ID 监控请求的状态，请确保会话 ID 正确无误。</td>
  </tr>
  <tr>
    <td>API_NOT_AVAILABLE</td>
    <td>当前设备不支持 Play Feature Delivery 库。也就是说，该设备无法按需下载和安装功能。</td>
    <td>对于搭载 Android 4.4（API 级别 20）或更低版本的设备，您应在安装时使用 <code dir="ltr" translate="no">dist:fusing</code> 清单属性添加功能模块。如需了解详情，请参阅<a href="https://developer.android.com/guide/playcore/feature-delivery?hl=zh-cn#feature-module-manifest">功能模块清单</a>。</td>
  </tr>
  <tr>
    <td>NETWORK_ERROR</td>
    <td>由于出现网络连接错误，请求失败。</td>
    <td>提示用户建立网络连接或更改为其他网络。</td>
  </tr>
  <tr>
    <td>ACCESS_DENIED</td>
    <td>由于权限不足，应用无法注册该请求。</td>
    <td>通常，当应用在后台运行时，会出现这种情况。在应用返回到前台时尝试请求。</td>
  </tr>
  <tr>
    <td>INCOMPATIBLE_WITH_EXISTING_SESSION</td>
    <td>该请求包含一个或多个已请求但尚未安装的模块。</td>
    <td>创建一个新请求，该请求不包含应用已请求的模块，或等待所有当前已请求的模块完成安装，然后再重试请求。<p>
      请注意，请求已安装的模块无法解决错误。</p>
    </td>
  </tr>
  <tr>
    <td>SERVICE_DIED</td>
    <td>负责处理请求的服务已终止。</td>
    <td>请重试请求。<p>
      您的 <code dir="ltr" translate="no">SplitInstallStateUpdatedListener</code> 会收到 <code dir="ltr" translate="no">SplitInstallSessionState</code>，包含此错误代码，状态为<code dir="ltr" translate="no">FAILED</code>，会话 ID 为 <code dir="ltr" translate="no">-1</code>。
    </p>
    </td>
  </tr>
  <tr>
    <td>INSUFFICIENT_STORAGE</td>
    <td>设备没有足够的可用存储空间，无法安装功能模块。</td>
    <td>通知用户他们没有足够的存储空间，无法安装此功能。</td>
  </tr>
  <tr>
    <td>SPLITCOMPAT_VERIFICATION_ERROR、SPLITCOMPAT_EMULATION_ERROR、SLIITCOMPAT_COPY_ERROR</td>
    <td>SplitCompat 无法加载功能模块。</td>
    <td>这些错误应该会在下次应用重启后自动得到解决。</td>
  </tr>
  <tr>
    <td>PLAY_STORE_NOT_FOUND</td>
    <td>设备上未安装 Play 商店应用。</td>
    <td>告知用户必须安装 Play 商店应用才能下载此功能。</td>
  </tr>
  <tr>
    <td>APP_NOT_OWNED</td>
    <td>Google Play 尚未安装该应用，因此无法下载功能。只有在延迟安装时才会出现此问题。</td>
    <td>如果您想让用户在 Google Play 上获取应用，请使用 <code dir="ltr" translate="no">startInstall()</code>，它可以获取必要的<a href="#obtain_confirmation">用户确认</a>。</td>
  </tr>
  <tr>
    <td>INTERNAL_ERROR</td>
    <td>Play 商店内发生内部错误。</td>
    <td>请重试请求。</td>
  </tr>
</tbody></table>

<p>如果用户请求下载按需模块并出现错误，请考虑显示一个对话框并为用户提供如下两个选项：<strong>重试</strong>（再次尝试该请求）和<strong>取消</strong>（放弃该请求）。如需其他支持，您还应该提供<strong>帮助</strong>链接，引导用户访问 <a href="https://support.google.com/googleplay/answer/7513003?hl=zh-cn">Google Play 帮助中心</a>。</p>
<aside class="note"><strong>注意</strong><span>：测试应用时，若您看到 <code dir="ltr" translate="no">onError(-2)</code>，可能是因为您尚未将应用上传到 Google Play。如需测试应用的按需功能，您必须<a href="https://support.google.com/googleplay/android-developer/answer/9303479?hl=zh-cn">通过网址分享应用</a>或者<a href="https://support.google.com/googleplay/android-developer/answer/3131213?hl=zh-cn">设置开放式测试、封闭式测试或内部测试</a>。</span></aside><h3 data-text="处理状态更新" id="handle_state_updates" tabindex="-1">处理状态更新</h3>

<p>注册监听器并记录请求的会话 ID 后，请使用 <a href="https://developer.android.com/reference/com/google/android/play/core/listener/StateUpdatedListener?hl=zh-cn#onStateUpdate(StateT)"><code dir="ltr" translate="no">StateUpdatedListener.onStateUpdate()</code></a> 处理状态变更，如下所示。</p>

<div>
<div class="ds-selector-tabs"><section><h3 data-text="Kotlin" id="kotlin" tabindex="-1">Kotlin</h3>
<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="Kotlin"><span class="devsite-syntax-kd">override</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kd">fun</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nf">onStateUpdate</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">state</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><a href="https://developer.android.com/reference/com/google/android/play/core/splitinstall/SplitInstallSessionState?hl=zh-cn"><span class="devsite-syntax-n">SplitInstallSessionState</span></a><span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-k">if</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">state</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">status</span><span class="devsite-syntax-p">()</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">==</span><span class="devsite-syntax-w"> </span><a href="https://developer.android.com/reference/com/google/android/play/core/splitinstall/model/SplitInstallSessionStatus?hl=zh-cn"><span class="devsite-syntax-n">SplitInstallSessionStatus</span></a><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">FAILED</span>
<span class="devsite-syntax-w">        &amp;&amp; </span><span class="devsite-syntax-n">state</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">errorCode</span><span class="devsite-syntax-p">()</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">==</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">SplitInstallErrorCode</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">SERVICE_DIED</span><span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">       </span><span class="devsite-syntax-c1">// Retry the request.</span>
<span class="devsite-syntax-w">       </span><span class="devsite-syntax-k">return</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-p">}</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-k">if</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">state</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">sessionId</span><span class="devsite-syntax-p">()</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">==</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">mySessionId</span><span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-k">when</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">state</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">status</span><span class="devsite-syntax-p">())</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">            </span><span class="devsite-syntax-n">SplitInstallSessionStatus</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">DOWNLOADING</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">-></span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">              </span><span class="devsite-syntax-kd">val</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nv">totalBytes</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">state</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">totalBytesToDownload</span><span class="devsite-syntax-p">()</span>
<span class="devsite-syntax-w">              </span><span class="devsite-syntax-kd">val</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nv">progress</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">state</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">bytesDownloaded</span><span class="devsite-syntax-p">()</span>
<span class="devsite-syntax-w">              </span><span class="devsite-syntax-c1">// Update progress bar.</span>
<span class="devsite-syntax-w">            </span><span class="devsite-syntax-p">}</span>
<span class="devsite-syntax-w">            </span><span class="devsite-syntax-n">SplitInstallSessionStatus</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">INSTALLED</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">-></span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>

<span class="devsite-syntax-w">              </span><span class="devsite-syntax-c1">// After a module is installed, you can start accessing its content or</span>
<span class="devsite-syntax-w">              </span><span class="devsite-syntax-c1">// <a href="https://developer.android.com/guide/components/intents-filters?hl=zh-cn">fire an intent</a> to start an activity in the installed module.</span>
<span class="devsite-syntax-w">              </span><span class="devsite-syntax-c1">// For other use cases, see <a href="#access_installed_modules">access code and resources from installed modules</a>.</span>

<span class="devsite-syntax-w">              </span><span class="devsite-syntax-c1">// If the request is an on demand module for an Android Instant App</span>
<span class="devsite-syntax-w">              </span><span class="devsite-syntax-c1">// running on Android 8.0 (API level 26) or higher, you need to</span>
<span class="devsite-syntax-w">              </span><span class="devsite-syntax-c1">// <a href="#aia_update_context">update the app context</a> using the SplitInstallHelper API.</span>
<span class="devsite-syntax-w">            </span><span class="devsite-syntax-p">}</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-p">}</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-p">}</span>
<span class="devsite-syntax-p">}</span></pre></devsite-code>
</section><section><h3 data-text="Java" id="java" tabindex="-1">Java</h3>
<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="Java"><span class="devsite-syntax-nd">@Override</span>
<span class="devsite-syntax-kd">public</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kt">void</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nf">onStateUpdate</span><span class="devsite-syntax-p">(</span><a href="https://developer.android.com/reference/com/google/android/play/core/splitinstall/SplitInstallSessionState?hl=zh-cn"><span class="devsite-syntax-n">SplitInstallSessionState</span></a><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">state</span><span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-k">if</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">state</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">status</span><span class="devsite-syntax-p">()</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">==</span><span class="devsite-syntax-w"> </span><a href="https://developer.android.com/reference/com/google/android/play/core/splitinstall/model/SplitInstallSessionStatus?hl=zh-cn"><span class="devsite-syntax-n">SplitInstallSessionStatus</span></a><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">FAILED</span>
<span class="devsite-syntax-w">        &amp;&amp; </span><span class="devsite-syntax-n">state</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">errorCode</span><span class="devsite-syntax-p">()</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">==</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">SplitInstallErrorCode</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">SERVICE_DIES</span><span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">       </span><span class="devsite-syntax-c1">// Retry the request.</span>
<span class="devsite-syntax-w">       </span><span class="devsite-syntax-k">return</span><span class="devsite-syntax-p">;</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-p">}</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-k">if</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">state</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">sessionId</span><span class="devsite-syntax-p">()</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">==</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">mySessionId</span><span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-k">switch</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">state</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">status</span><span class="devsite-syntax-p">())</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">            </span><span class="devsite-syntax-k">case</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">SplitInstallSessionStatus</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">DOWNLOADING</span><span class="devsite-syntax-p">:</span>
<span class="devsite-syntax-w">              </span><span class="devsite-syntax-kt">int</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">totalBytes</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">state</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">totalBytesToDownload</span><span class="devsite-syntax-p">();</span>
<span class="devsite-syntax-w">              </span><span class="devsite-syntax-kt">int</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">progress</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">state</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">bytesDownloaded</span><span class="devsite-syntax-p">();</span>
<span class="devsite-syntax-w">              </span><span class="devsite-syntax-c1">// Update progress bar.</span>
<span class="devsite-syntax-w">              </span><span class="devsite-syntax-k">break</span><span class="devsite-syntax-p">;</span>

<span class="devsite-syntax-w">            </span><span class="devsite-syntax-k">case</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">SplitInstallSessionStatus</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">INSTALLED</span><span class="devsite-syntax-p">:</span>

<span class="devsite-syntax-w">              </span><span class="devsite-syntax-c1">// After a module is installed, you can start accessing its content or</span>
<span class="devsite-syntax-w">              </span><span class="devsite-syntax-c1">// <a href="https://developer.android.com/guide/components/intents-filters?hl=zh-cn">fire an intent</a> to start an activity in the installed module.</span>
<span class="devsite-syntax-w">              </span><span class="devsite-syntax-c1">// For other use cases, see <a href="#access_installed_modules">access code and resources from installed modules</a>.</span>

<span class="devsite-syntax-w">              </span><span class="devsite-syntax-c1">// If the request is an on demand module for an Android Instant App</span>
<span class="devsite-syntax-w">              </span><span class="devsite-syntax-c1">// running on Android 8.0 (API level 26) or higher, you need to</span>
<span class="devsite-syntax-w">              </span><span class="devsite-syntax-c1">// <a href="#aia_update_context">update the app context</a> using the SplitInstallHelper API.</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-p">}</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-p">}</span>
<span class="devsite-syntax-p">}</span></pre></devsite-code>
</section></div>
</div>

<p>安装请求的可能状态如下表所述。</p>

<table>
  <tbody><tr>
    <th>请求状态</th> <th>说明</th> <th>建议采取的措施</th>
  </tr>
  <tr>
    <td>PENDING</td>
    <td>已接受该请求，即将开始下载。</td>
    <td>初始化界面组件（例如进度条），向用户提供关于下载的反馈。</td>
  </tr>
  <tr>
    <td>REQUIRES_USER_CONFIRMATION</td>
    <td>下载需要用户确认。如果尚未通过 Google Play 安装应用，通常会出现此状态。</td>
    <td>提示用户确认通过 Google Play 下载该功能。
      如需了解详情，请转到有关如何<a href="#obtain_confirmation">获取用户确认</a>的部分。</td>
  </tr>
  <tr>
    <td>DOWNLOADING</td>
    <td>下载正在进行中。</td>
    <td>如果您为下载提供了进度条，请使用 <code dir="ltr" translate="no">SplitInstallSessionState.bytesDownloaded()</code> 和 <code dir="ltr" translate="no">SplitInstallSessionState.totalBytesToDownload()</code> 方法更新界面（请参见此表上方的代码示例）。</td>
  </tr>
  <tr>
    <td>DOWNLOADED</td>
    <td>设备已下载模块，但尚未开始安装。
    </td>
    <td>应用应<a href="#access_downloaded_modules">启用 SplitCompat</a>，以便访问已下载的模块并避免出现此状态。必须执行此操作才能访问功能模块的代码和资源。</td>
  </tr>
  <tr>
    <td>INSTALLING</td>
    <td>设备当前正在安装该模块。</td>
    <td>更新进度条。此状态通常较短。</td>
  </tr>
  <tr>
    <td>INSTALLED</td>
    <td>该模块已安装在设备上。</td>
    <td><a href="#access_installed_modules">访问模块中的代码和资源</a>以继续用户体验历程。
    <p>如果该模块针对的是在 Android 8.0（API 级别 26）或更高版本设备上运行的 Android 免安装应用，您需要使用 <code dir="ltr" translate="no">splitInstallHelper</code> 才能<a href="#aia_update_context">利用新模块更新应用组件</a>。</p></td>
  </tr>
  <tr>
    <td>FAILED</td>
    <td>在模块安装到设备上之前，请求已失败。</td>
    <td>提示用户重试请求或取消请求。</td>
  </tr>
  <tr>
    <td>CANCELING</td>
    <td>设备正在取消请求。</td>
    <td>如需了解详情，请转到有关如何<a href="#cancel_request">取消安装请求</a>的部分。</td>
  </tr>
  <tr>
    <td>CANCELED</td>
    <td>请求已取消。</td>
    <td></td>
  </tr>
</tbody></table>

<h3 data-text="获取用户确认" id="obtain_confirmation" tabindex="-1">获取用户确认</h3>

<p>在某些情况下，Google Play 在满足下载请求之前可能需要用户确认。例如，如果您的应用并非通过 Google Play 安装，或者您正尝试通过移动流量下载大文件。在这种情况下，请求的状态会报告 <code dir="ltr" translate="no">REQUIRES_USER_CONFIRMATION</code>，您的应用需要先获得用户确认，然后设备才能下载并安装请求的模块。如需获得确认，您的应用应按以下方式提示用户：</p>

<div>
<div class="ds-selector-tabs"><section><h3 data-text="Kotlin" id="kotlin" tabindex="-1">Kotlin</h3>
<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="Kotlin"><span class="devsite-syntax-kd">override</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kd">fun</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nf">onSessionStateUpdate</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">state</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">SplitInstallSessionState</span><span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-k">if</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">state</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">status</span><span class="devsite-syntax-p">()</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">==</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">SplitInstallSessionStatus</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">REQUIRES_USER_CONFIRMATION</span><span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-c1">// Displays a confirmation for the user to confirm the request.</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-n">splitInstallManager</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">startConfirmationDialogForResult</span><span class="devsite-syntax-p">(</span>
<span class="devsite-syntax-w">          </span><span class="devsite-syntax-n">state</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">          </span><span class="devsite-syntax-c1">// an activity result launcher registered via registerForActivityResult</span>
<span class="devsite-syntax-w">          </span><span class="devsite-syntax-n">activityResultLauncher</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-p">}</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-p">...</span>
<span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">}</span></pre></devsite-code>
</section><section><h3 data-text="Java" id="java" tabindex="-1">Java</h3>
<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="Java"><span class="devsite-syntax-nd">@Override</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kt">void</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nf">onSessionStateUpdate</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">SplitInstallSessionState</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">state</span><span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-k">if</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">state</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">status</span><span class="devsite-syntax-p">()</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">==</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">SplitInstallSessionStatus</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">REQUIRES_USER_CONFIRMATION</span><span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-c1">// Displays a confirmation for the user to confirm the request.</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-n">splitInstallManager</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">startConfirmationDialogForResult</span><span class="devsite-syntax-p">(</span>
<span class="devsite-syntax-w">          </span><span class="devsite-syntax-n">state</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">          </span><span class="devsite-syntax-c1">// an activity result launcher registered via registerForActivityResult</span>
<span class="devsite-syntax-w">          </span><span class="devsite-syntax-n">activityResultLauncher</span><span class="devsite-syntax-p">);</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-p">}</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-p">...</span>
<span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">}</span></pre></devsite-code>
</section></div>
</div>

<p>您可以使用内置的 <a href="https://developer.android.com/reference/androidx/activity/result/contract/ActivityResultContracts.StartIntentSenderForResult?hl=zh-cn"><code dir="ltr" translate="no">ActivityResultContracts.StartIntentSenderForResult</code></a> 协定来注册 activity 结果启动器。请参阅 <a href="https://developer.android.com/training/basics/intents/result?hl=zh-cn">Activity Result API</a>。</p>

<p>请求的状态会根据用户响应进行更新：</p>

<ul>
<li>如果用户接受确认，请求状态会更改为 <code dir="ltr" translate="no">PENDING</code> 并继续下载。</li>
<li>如果用户拒绝确认，请求状态会更改为 <code dir="ltr" translate="no">CANCELED</code>。</li>
<li>如果用户在对话框被销毁之前未做出选择，请求状态会保持为 <code dir="ltr" translate="no">REQUIRES_USER_CONFIRMATION</code>。您的应用可能会再次提示用户完成请求。</li>
</ul>

<p>如需通过用户的响应接收回调，您可以替换 ActivityResultCallback，如下所示。</p>

<div>
<div class="ds-selector-tabs"><section><h3 data-text="Kotlin" id="kotlin" tabindex="-1">Kotlin</h3>
<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="Kotlin"><span class="devsite-syntax-n">registerForActivityResult</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">StartIntentSenderForResult</span><span class="devsite-syntax-p">())</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">result</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">ActivityResult</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">-></span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-c1">// Handle the user's decision. For example, if the user selects "Cancel",</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-c1">// you may want to disable certain functionality that depends on the module.</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-p">}</span>
<span class="devsite-syntax-p">}</span></pre></devsite-code>
</section><section><h3 data-text="Java" id="java" tabindex="-1">Java</h3>
<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="Java"><span class="devsite-syntax-n">registerForActivityResult</span><span class="devsite-syntax-p">(</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-k">new</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">ActivityResultContracts</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">StartIntentSenderForResult</span><span class="devsite-syntax-p">(),</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-k">new</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">ActivityResultCallback&lt;ActivityResult&gt;</span><span class="devsite-syntax-p">()</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-nd">@Override</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-kd">public</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kt">void</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nf">onActivityResult</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">ActivityResult</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">result</span><span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">            </span><span class="devsite-syntax-c1">// Handle the user's decision. For example, if the user selects "Cancel",</span>
<span class="devsite-syntax-w">            </span><span class="devsite-syntax-c1">// you may want to disable certain functionality that depends on the module.</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-p">}</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-p">});</span></pre></devsite-code>
</section></div>
</div>

<h3 data-text="取消安装请求" id="cancel_request" tabindex="-1">取消安装请求</h3>

<p>如果您的应用需要在安装之前取消请求，它可以使用请求的会话 ID 调用 <code dir="ltr" translate="no">cancelInstall()</code> 方法，如下所示。</p>

<div>
<div class="ds-selector-tabs"><section><h3 data-text="Kotlin" id="kotlin" tabindex="-1">Kotlin</h3>
<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="Kotlin"><a href="https://developer.android.com/reference/com/google/android/play/core/splitinstall/SplitInstallManager?hl=zh-cn"><span class="devsite-syntax-n">splitInstallManager</span></a>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-c1">// Cancels the request for the given session ID.</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">cancelInstall</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">mySessionId</span><span class="devsite-syntax-p">)</span></pre></devsite-code>
</section><section><h3 data-text="Java" id="java" tabindex="-1">Java</h3>
<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="Java"><a href="https://developer.android.com/reference/com/google/android/play/core/splitinstall/SplitInstallManager?hl=zh-cn"><span class="devsite-syntax-n">splitInstallManager</span></a>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-c1">// Cancels the request for the given session ID.</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">cancelInstall</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">mySessionId</span><span class="devsite-syntax-p">);</span></pre></devsite-code>
</section></div>
</div>

<h2 data-text="访问模块" id="access_downloaded_modules" tabindex="-1">访问模块</h2>

<p>如需在下载后从已下载的模块访问代码和资源，您的应用需要为应用和应用下载的功能模块中的每个 activity 启用 <a href="https://developer.android.com/reference/com/google/android/play/core/splitcompat/SplitCompat?hl=zh-cn">SplitCompat 库</a>。</p>

<p>不过请注意，在下载模块后的一段时间（在某些情况下是数天），该平台在访问模块内容时会受到以下限制：</p>

<ul>
<li>平台无法应用模块引入的任何新的清单条目。</li>
<li>平台无法访问系统界面组件（如通知）的模块资源。如果您需要立即使用此类资源，请考虑将这些资源添加到应用的基本模块中。</li>
</ul>

<h3 data-text="启用 SplitCompat" id="enable_splitcompat" tabindex="-1">启用 SplitCompat</h3>

<p>为了让您的应用从已下载的模块访问代码和资源，您只需使用以下几部分中所述的其中一个方法启用 SplitCompat。</p>

<p>为您的应用启用 SplitCompat 后，您还需要为您希望应用访问的功能模块中的<a href="#activity_splitcompat">每个 Activity 启用 SplitCompat</a>。</p>

<h4 data-text="在清单中声明 SplitCompatApplication" id="declare_splitcompatapplication_in_the_manifest" tabindex="-1">在清单中声明 SplitCompatApplication</h4>

<p>如需启用 SplitCompat，最简单的方法是在您的应用清单中将 <code dir="ltr" translate="no">SplitCompatApplication</code> 声明为 <a href="https://developer.android.com/reference/android/app/Application?hl=zh-cn"><code dir="ltr" translate="no">Application</code></a> 子类，如下所示：</p>
<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="XML"><code translate="no" dir="ltr">&lt;application
<span class="devsite-syntax-w">    </span>...
<span class="devsite-syntax-w">    </span>android:name="com.google.android.play.core.splitcompat.SplitCompatApplication"&gt;
&lt;/application&gt;
</code></pre></devsite-code>
<p>应用安装在设备上后，您可以自动从已下载的功能模块访问代码和资源。</p>

<h4 data-text="在运行时调用 SplitCompat" id="invoke_splitcompat_at_runtime" tabindex="-1">在运行时调用 SplitCompat</h4>

<p>您还可以在运行时在特定 Activity 或服务中启用 SplitCompat。如需以这种方式启用 SplitCompat，您需要启动功能模块中所包含的 Activity。为此，请替换 <code dir="ltr" translate="no">attachBaseContext</code>，如下所示。</p>

<p>如果您有自定义 <a href="https://developer.android.com/reference/android/app/Application?hl=zh-cn">Application</a> 类，应使其改为扩展 <a href="https://developer.android.com/reference/com/google/android/play/core/splitcompat/SplitCompatApplication?hl=zh-cn"><code dir="ltr" translate="no">SplitCompatApplication</code></a>，以便为您的应用启用 SplitCompat，如下所示：</p>

<div>
<div class="ds-selector-tabs"><section><h3 data-text="Kotlin" id="kotlin" tabindex="-1">Kotlin</h3>
<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="Kotlin"><span class="devsite-syntax-kd">class</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nc">MyApplication</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">SplitCompatApplication</span><span class="devsite-syntax-p">()</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-p">...</span>
<span class="devsite-syntax-p">}</span></pre></devsite-code>
</section><section><h3 data-text="Java" id="java" tabindex="-1">Java</h3>
<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="Java"><span class="devsite-syntax-kd">public</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kd">class</span> <span class="devsite-syntax-nc">MyApplication</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kd">extends</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">SplitCompatApplication</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-p">...</span>
<span class="devsite-syntax-p">}</span></pre></devsite-code>
</section></div>
</div>

<p><code dir="ltr" translate="no">SplitCompatApplication</code> 仅会替换 <code dir="ltr" translate="no">ContextWrapper.attachBaseContext()</code> 以包含 <code dir="ltr" translate="no">SplitCompat.install(Context applicationContext)</code>。如果您不想 <code dir="ltr" translate="no">Application</code> 类扩展 <code dir="ltr" translate="no">SplitCompatApplication</code>，您可以手动替换 <code dir="ltr" translate="no">attachBaseContext()</code> 方法，如下所示：</p>

<div>
<div class="ds-selector-tabs"><section><h3 data-text="Kotlin" id="kotlin" tabindex="-1">Kotlin</h3>
<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="Kotlin"><span class="devsite-syntax-kd">override</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kd">fun</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nf">attachBaseContext</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">base</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Context</span><span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-k">super</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">attachBaseContext</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">base</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-c1">// Emulates installation of future on demand modules using SplitCompat.</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-n">SplitCompat</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">install</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-k">this</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-p">}</span></pre></devsite-code>
</section><section><h3 data-text="Java" id="java" tabindex="-1">Java</h3>
<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="Java"><span class="devsite-syntax-nd">@Override</span>
<span class="devsite-syntax-kd">protected</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kt">void</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nf">attachBaseContext</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">Context</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">base</span><span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-kd">super</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">attachBaseContext</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">base</span><span class="devsite-syntax-p">);</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-c1">// Emulates installation of future on demand modules using SplitCompat.</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-n">SplitCompat</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">install</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-k">this</span><span class="devsite-syntax-p">);</span>
<span class="devsite-syntax-p">}</span></pre></devsite-code>
</section></div>
</div>

<p>如果您的按需模块可同时与免安装应用和安装式应用兼容，您可以根据具体情况调用 SplitCompat，如下所示：</p>

<div>
<div class="ds-selector-tabs"><section><h3 data-text="Kotlin" id="kotlin" tabindex="-1">Kotlin</h3>
<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="Kotlin"><span class="devsite-syntax-kd">override</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kd">fun</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nf">attachBaseContext</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">base</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Context</span><span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-k">super</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">attachBaseContext</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">base</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-k">if</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-o">!</span><span class="devsite-syntax-n">InstantApps</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">isInstantApp</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-k">this</span><span class="devsite-syntax-p">))</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-n">SplitCompat</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">install</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-k">this</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-p">}</span>
<span class="devsite-syntax-p">}</span></pre></devsite-code>
</section><section><h3 data-text="Java" id="java" tabindex="-1">Java</h3>
<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="Java"><span class="devsite-syntax-nd">@Override</span>
<span class="devsite-syntax-kd">protected</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kt">void</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nf">attachBaseContext</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">Context</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">base</span><span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-kd">super</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">attachBaseContext</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">base</span><span class="devsite-syntax-p">);</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-k">if</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-o">!</span><span class="devsite-syntax-n">InstantApps</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">isInstantApp</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-k">this</span><span class="devsite-syntax-p">))</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-n">SplitCompat</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">install</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-k">this</span><span class="devsite-syntax-p">);</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-p">}</span>
<span class="devsite-syntax-p">}</span></pre></devsite-code>
</section></div>
</div>

<h3 data-text="为模块 Activity 启用 SplitCompat" id="activity_splitcompat" tabindex="-1">为模块 Activity 启用 SplitCompat</h3>

<p>为基本应用启用 SplitCompat 后，您需要为应用在功能模块中下载的每个 Activity 启用 SplitCompat。为此，请使用 <code dir="ltr" translate="no">SplitCompat.installActivity()</code> 方法，如下所示：</p>

<div>
<div class="ds-selector-tabs"><section><h3 data-text="Kotlin" id="kotlin" tabindex="-1">Kotlin</h3>
<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="Kotlin"><span class="devsite-syntax-kd">override</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kd">fun</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nf">attachBaseContext</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">base</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Context</span><span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-k">super</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">attachBaseContext</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">base</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-c1">// Emulates installation of on demand modules using SplitCompat.</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-n">SplitCompat</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">installActivity</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-k">this</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-p">}</span></pre></devsite-code>
</section><section><h3 data-text="Java" id="java" tabindex="-1">Java</h3>
<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="Java"><span class="devsite-syntax-nd">@Override</span>
<span class="devsite-syntax-kd">protected</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kt">void</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nf">attachBaseContext</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">Context</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">base</span><span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-kd">super</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">attachBaseContext</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">base</span><span class="devsite-syntax-p">);</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-c1">// Emulates installation of on demand modules using SplitCompat.</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-n">SplitCompat</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">installActivity</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-k">this</span><span class="devsite-syntax-p">);</span>
<span class="devsite-syntax-p">}</span></pre></devsite-code>
</section></div>
</div>

<h2 data-text="访问功能模块中定义的组件" id="access_components" tabindex="-1">访问功能模块中定义的组件</h2>

<h3 data-text="启动功能模块中定义的 activity" id="start_activity" tabindex="-1">启动功能模块中定义的 activity</h3>

<p>启用 SplitCompat 后，您可以使用 <a href="https://developer.android.com/reference/android/app/Activity?hl=zh-cn#startActivity(android.content.Intent)"><code dir="ltr" translate="no">startActivity()</code></a> 启动功能模块中定义的 activity。</p>

<div>
<div class="ds-selector-tabs"><section><h3 data-text="Kotlin" id="kotlin" tabindex="-1">Kotlin</h3>
<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="Kotlin"><span class="devsite-syntax-n">startActivity</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">Intent</span><span class="devsite-syntax-p">()</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">setClassName</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"com.package"</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s">"com.package.module.MyActivity"</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">setFlags</span><span class="devsite-syntax-p">(...))</span></pre></devsite-code>
</section><section><h3 data-text="Java" id="java" tabindex="-1">Java</h3>
<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="Java"><span class="devsite-syntax-n">startActivity</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-k">new</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Intent</span><span class="devsite-syntax-p">()</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">setClassName</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"com.package"</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s">"com.package.module.MyActivity"</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">setFlags</span><span class="devsite-syntax-p">(...));</span></pre></devsite-code>
</section></div>
</div>

<p><code dir="ltr" translate="no">setClassName</code> 的第一个参数是应用的软件包名称，第二个参数是 activity 的完整类名。</p>

<p>如果您按需下载的功能模块中存在一个 activity，您必须<a href="#activity_splitcompat">在该 activity 中启用 SplitCompat</a>。</p>

<h3 data-text="启动在功能模块中定义的服务" id="start_service" tabindex="-1">启动在功能模块中定义的服务</h3>

<p>启用 SplitCompat 后，您可以使用 <a href="https://developer.android.com/reference/android/content/Context?hl=zh-cn#startService(android.content.Intent)"><code dir="ltr" translate="no">startService()</code></a> 启动在功能模块中定义的服务。</p>

<div>
<div class="ds-selector-tabs"><section><h3 data-text="Kotlin" id="kotlin" tabindex="-1">Kotlin</h3>
<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="Kotlin"><span class="devsite-syntax-n">startService</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">Intent</span><span class="devsite-syntax-p">()</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">setClassName</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"com.package"</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s">"com.package.module.MyService"</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">setFlags</span><span class="devsite-syntax-p">(...))</span></pre></devsite-code>
</section><section><h3 data-text="Java" id="java" tabindex="-1">Java</h3>
<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="Java"><span class="devsite-syntax-n">startService</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-k">new</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Intent</span><span class="devsite-syntax-p">()</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">setClassName</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"com.package"</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s">"com.package.module.MyService"</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">setFlags</span><span class="devsite-syntax-p">(...));</span></pre></devsite-code>
</section></div>
</div>

<h3 data-text="导出在功能模块中定义的组件" id="export_component" tabindex="-1">导出在功能模块中定义的组件</h3>

<p>您不应在可选模块中包含导出的 Android 组件。</p>

<p>构建系统会将所有模块的清单条目合并到基本模块中；如果某个可选模块中包含导出的组件，则该组件在安装相应模块之前就已经可以访问，并且从其他应用调用该组件时，可能会因缺少代码导致崩溃。</p>

<p>内部组件没有这种问题；它们只能由应用进行访问，因此应用在访问此类组件之前可以<a href="#manage_installed_modules">检查是否已安装相应模块</a>。</p>

<p>如果您需要使用导出的组件，并且希望其内容存在于可选模块中，请考虑实现代理模式。为此，您可以在基本模块中通过代理模式添加导出的组件；访问此代理组件时，它可以检查是否存在包含相应内容的模块。如果存在相应模块，则代理组件可以通过 <code dir="ltr" translate="no">Intent</code> 启动模块中的内部组件，以中继调用方应用中的 intent。如果模块不存在，则组件可以下载模块或向调用方应用返回相应的错误消息。</p>

<h2 data-text="访问已安装的模块中的代码和资源" id="access_installed_modules" tabindex="-1">访问已安装的模块中的代码和资源</h2>

<p>如果您为基本应用上下文和功能模块中的 activity <a href="#access_downloaded_modules">启用 SplitCompat</a>，则安装该可选模块后，您便可以使用功能模块中的代码和资源，就像它们是基本 APK 的一部分。</p>

<h3 data-text="访问其他模块中的代码" id="access_code_different_module" tabindex="-1">访问其他模块中的代码</h3>

<h4 data-text="访问基本模块中的代码" id="access_base_code_different_module" tabindex="-1">访问基本模块中的代码</h4>

<p>基本模块中的代码可以直接由其他模块使用。
您无需执行任何特殊操作；只需导入并使用您需要的类即可。</p>

<h4 data-text="访问其他模块中的模块代码" id="access_feature_code_different_module" tabindex="-1">访问其他模块中的模块代码</h4>

<p>模块中的对象或类无法通过另一个模块直接静态访问，但可以使用反射间接访问。</p>

<p>您应避免经常使用这种方法，因为反射会导致性能下降。对于复杂的用例，请使用依赖项注入框架（如 <a href="https://dagger.dev/">Dagger 2</a>）来确保每个应用生命周期仅使用一次反射调用。</p>

<p>为了简化实例化后与对象的交互，建议在基本模块中定义接口，并在功能模块中定义该接口的实现。例如：</p>

<div>
<div class="ds-selector-tabs"><section><h3 data-text="Kotlin" id="kotlin" tabindex="-1">Kotlin</h3>
<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="Kotlin"><span class="devsite-syntax-c1">// In the base module</span>
<span class="devsite-syntax-kd">interface</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nc">MyInterface</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-kd">fun</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nf">hello</span><span class="devsite-syntax-p">():</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kt">String</span>
<span class="devsite-syntax-p">}</span>

<span class="devsite-syntax-c1">// In the feature module</span>
<span class="devsite-syntax-kd">object</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nc">MyInterfaceImpl</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">MyInterface</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-kd">override</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kd">fun</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nf">hello</span><span class="devsite-syntax-p">()</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s">"Hello"</span>
<span class="devsite-syntax-p">}</span>

<span class="devsite-syntax-c1">// In the base module, where we want to access the feature module code</span>
<span class="devsite-syntax-kd">val</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nv">stringFromModule</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">Class</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">forName</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"com.package.module.MyInterfaceImpl"</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">kotlin</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">objectInstance</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-k">as</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">MyInterface</span><span class="devsite-syntax-p">).</span><span class="devsite-syntax-na">hello</span><span class="devsite-syntax-p">();</span></pre></devsite-code>
</section><section><h3 data-text="Java" id="java" tabindex="-1">Java</h3>
<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="Java"><span class="devsite-syntax-c1">// In the base module</span>
<span class="devsite-syntax-kd">public</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kd">interface</span> <span class="devsite-syntax-nc">MyInterface</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-n">String</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nf">hello</span><span class="devsite-syntax-p">();</span>
<span class="devsite-syntax-p">}</span>

<span class="devsite-syntax-c1">// In the feature module</span>
<span class="devsite-syntax-kd">public</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kd">class</span> <span class="devsite-syntax-nc">MyInterfaceImpl</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kd">implements</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">MyInterface</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-nd">@Override</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-kd">public</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">String</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nf">hello</span><span class="devsite-syntax-p">()</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-k">return</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s">"Hello"</span><span class="devsite-syntax-p">;</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-p">}</span>
<span class="devsite-syntax-p">}</span>

<span class="devsite-syntax-c1">// In the base module, where we want to access the feature module code</span>
<span class="devsite-syntax-n">String</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">stringFromModule</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span>
<span class="devsite-syntax-w">   </span><span class="devsite-syntax-p">((</span><span class="devsite-syntax-n">MyInterface</span><span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Class</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">forName</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"com.package.module.MyInterfaceImpl"</span><span class="devsite-syntax-p">).</span><span class="devsite-syntax-na">getConstructor</span><span class="devsite-syntax-p">().</span><span class="devsite-syntax-na">newInstance</span><span class="devsite-syntax-p">()).</span><span class="devsite-syntax-na">hello</span><span class="devsite-syntax-p">();</span></pre></devsite-code>
</section></div>
</div>

<h3 data-text="访问其他模块中的资源" id="access_resource_different_module" tabindex="-1">访问其他模块中的资源</h3>

<p>安装模块后，您就可以按标准方式访问模块中的资源和资源，但要注意以下两点：</p>

<ul>
<li>如果您要访问其他模块中的资源，当前模块将无法访问相应资源的标识符，不过您仍然可以通过名称访问该资源。请注意，用于引用该资源的软件包是定义该资源的模块的软件包。</li>
<li>如果您想从应用的一个已安装模块访问新安装模块中存在的资源，您必须<a href="https://developer.android.com/guide/topics/resources/providing-resources?hl=zh-cn#Accessing">使用应用上下文</a>执行此操作。
尝试访问资源的组件上下文此时还不会更新。或者，您也可以重新创建该组件（例如，调用 <a href="https://developer.android.com/reference/android/app/Activity?hl=zh-cn#recreate()">Activity.recreate()</a>）或在安装功能模块后对创建的 activity <a href="#activity_splitcompat">重新安装 SplitCompat</a>。</li>
</ul>

<h3 data-text="使用按需分发在应用中加载原生代码" id="load_native_libs_persistent" tabindex="-1">使用按需分发在应用中加载原生代码</h3>

<p>在对功能模块使用按需分发时，我们建议使用 <a href="https://github.com/KeepSafe/ReLinker">ReLinker</a> 加载所有原生库。ReLinker 会修复在安装功能模块后加载原生库时出现的问题。如需详细了解 ReLinker，您可参阅 <a href="https://developer.android.com/training/articles/perf-jni?hl=zh-cn#native-libraries">Android JNI 提示</a>。</p>

<h3 data-text="加载可选模块中的原生代码" id="load_native_lib_different_module" tabindex="-1">加载可选模块中的原生代码</h3>

<p>安装某个分块后，我们建议通过 <a href="https://github.com/KeepSafe/ReLinker">ReLinker</a> 加载其原生代码。对于免安装应用，您应使用<a href="#load_native_libs">这种特殊方法</a>。</p>

<p>如果您使用 <code dir="ltr" translate="no">System.loadLibrary()</code> 加载原生代码，并且您的原生库依赖于此模块中的另一个库，您必须先手动加载被依赖库。如果您使用 ReLinker，则等效操作为 <code dir="ltr" translate="no">Relinker.recursively().loadLibrary()</code>。</p>

<p>如果您在原生代码中使用 <code dir="ltr" translate="no">dlopen()</code> 加载可选模块中定义的库，则无法使用相对库路径。最佳解决方案是通过 <code dir="ltr" translate="no">ClassLoader.findLibrary()</code> 从 Java 代码中检索库的绝对路径，然后在 <code dir="ltr" translate="no">dlopen()</code> 调用中使用该路径。此操作需要在输入原生代码之前执行，或者，请在原生代码中使用基于 Java 的 JNI 调用。</p>

<h3 data-text="访问已安装的 Android 免安装应用" id="access_installed_aia" tabindex="-1">访问已安装的 Android 免安装应用</h3>

<p>当 Android 免安装应用模块报告为 <code dir="ltr" translate="no">INSTALLED</code> 后，您可以使用刷新后的应用<a href="https://developer.android.com/reference/android/content/Context?hl=zh-cn">上下文</a>访问其代码和资源。您的应用在安装模块之前创建的上下文（例如，已存储在变量中的上下文）不包含新模块的内容。<em></em>不过，新的上下文包含此类内容，您可以使用 <a href="https://developer.android.com/reference/android/content/Context?hl=zh-cn#createPackageContext(java.lang.String,%20int)"><code dir="ltr" translate="no">createPackageContext</code></a> 获取新的上下文。</p>

<div>
<div class="ds-selector-tabs"><section><h3 data-text="Kotlin" id="kotlin" tabindex="-1">Kotlin</h3>
<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="Kotlin"><span class="devsite-syntax-c1">// Generate a new context as soon as a request for a new module</span>
<span class="devsite-syntax-c1">// reports as INSTALLED.</span>
<span class="devsite-syntax-kd">override</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kd">fun</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nf">onStateUpdate</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">state</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">SplitInstallSessionState</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-k">if</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">state</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">sessionId</span><span class="devsite-syntax-p">()</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">==</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">mySessionId</span><span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-k">when</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">state</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">status</span><span class="devsite-syntax-p">())</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">            </span><span class="devsite-syntax-p">...</span>
<span class="devsite-syntax-w">            </span><span class="devsite-syntax-n">SplitInstallSessionStatus</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">INSTALLED</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">-></span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">                </span><span class="devsite-syntax-kd">val</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nv">newContext</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">context</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">createPackageContext</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">context</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">packageName</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-m">0</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">                </span><span class="devsite-syntax-c1">// If you use <a href="https://developer.android.com/reference/android/content/res/AssetManager?hl=zh-cn">AssetManager</a> to access your app’s raw asset files, you’ll need</span>
<span class="devsite-syntax-w">                </span><span class="devsite-syntax-c1">// to generate a new AssetManager instance from the updated context.</span>
<span class="devsite-syntax-w">                </span><span class="devsite-syntax-kd">val</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nv">am</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">newContext</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">assets</span>
<span class="devsite-syntax-w">            </span><span class="devsite-syntax-p">}</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-p">}</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-p">}</span>
<span class="devsite-syntax-p">}</span></pre></devsite-code>
</section><section><h3 data-text="Java" id="java" tabindex="-1">Java</h3>
<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="Java"><span class="devsite-syntax-c1">// Generate a new context as soon as a request for a new module</span>
<span class="devsite-syntax-c1">// reports as INSTALLED.</span>
<span class="devsite-syntax-nd">@Override</span>
<span class="devsite-syntax-kd">public</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kt">void</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nf">onStateUpdate</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">SplitInstallSessionState</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">state</span><span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-k">if</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">state</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">sessionId</span><span class="devsite-syntax-p">()</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">==</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">mySessionId</span><span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-k">switch</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">state</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">status</span><span class="devsite-syntax-p">())</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">            </span><span class="devsite-syntax-p">...</span>
<span class="devsite-syntax-w">            </span><span class="devsite-syntax-k">case</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">SplitInstallSessionStatus</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">INSTALLED</span><span class="devsite-syntax-p">:</span>
<span class="devsite-syntax-w">                </span><span class="devsite-syntax-n">Context</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">newContext</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">context</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">createPackageContext</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">context</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">getPackageName</span><span class="devsite-syntax-p">(),</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-mi">0</span><span class="devsite-syntax-p">);</span>
<span class="devsite-syntax-w">                </span><span class="devsite-syntax-c1">// If you use <a href="https://developer.android.com/reference/android/content/res/AssetManager?hl=zh-cn">AssetManager</a> to access your app’s raw asset files, you’ll need</span>
<span class="devsite-syntax-w">                </span><span class="devsite-syntax-c1">// to generate a new AssetManager instance from the updated context.</span>
<span class="devsite-syntax-w">                </span><span class="devsite-syntax-n">AssetManager</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">am</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">newContext</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">getAssets</span><span class="devsite-syntax-p">();</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-p">}</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-p">}</span>
<span class="devsite-syntax-p">}</span></pre></devsite-code>
</section></div>
</div>

<h4 data-text="Android 8.0 及更高版本上的 Android 免安装应用" id="aia_update_context" tabindex="-1">Android 8.0 及更高版本上的 Android 免安装应用</h4>

<p>在 Android 8.0（API 级别 26）及更高版本的设备上请求 Android 免安装应用的按需模块时，在安装请求报告为 <code dir="ltr" translate="no">INSTALLED</code> 后，您需要通过调用 <a href="https://developer.android.com/reference/com/google/android/play/core/splitinstall/SplitInstallHelper?hl=zh-cn#updateAppInfo(android.content.Context)"><code dir="ltr" translate="no">SplitInstallHelper.updateAppInfo(Context context)</code></a>，使用新模块的上下文更新该应用。否则，应用不会知道该模块的代码和资源。更新应用的元数据后，您应通过调用新的 <a href="https://developer.android.com/reference/android/os/Handler?hl=zh-cn"><code dir="ltr" translate="no">Handler</code></a>，在下一个主线程事件期间加载模块内容，如下所示：</p>

<div>
<div class="ds-selector-tabs"><section><h3 data-text="Kotlin" id="kotlin" tabindex="-1">Kotlin</h3>
<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="Kotlin"><span class="devsite-syntax-kd">override</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kd">fun</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nf">onStateUpdate</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">state</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">SplitInstallSessionState</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-k">if</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">state</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">sessionId</span><span class="devsite-syntax-p">()</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">==</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">mySessionId</span><span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-k">when</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">state</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">status</span><span class="devsite-syntax-p">())</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">            </span><span class="devsite-syntax-p">...</span>
<span class="devsite-syntax-w">            </span><span class="devsite-syntax-n">SplitInstallSessionStatus</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">INSTALLED</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">-></span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">                </span><span class="devsite-syntax-c1">// You need to perform the following only for Android Instant Apps</span>
<span class="devsite-syntax-w">                </span><span class="devsite-syntax-c1">// running on Android 8.0 (API level 26) and higher.</span>
<span class="devsite-syntax-w">                </span><span class="devsite-syntax-k">if</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">BuildCompat</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">isAtLeastO</span><span class="devsite-syntax-p">())</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">                    </span><span class="devsite-syntax-c1">// Updates the app’s context with the code and resources of the</span>
<span class="devsite-syntax-w">                    </span><span class="devsite-syntax-c1">// installed module.</span>
<span class="devsite-syntax-w">                    </span><a href="https://developer.android.com/reference/com/google/android/play/core/splitinstall/SplitInstallHelper?hl=zh-cn#updateAppInfo(android.content.Context)"><span class="devsite-syntax-n">SplitInstallHelper</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">updateAppInfo</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">context</span><span class="devsite-syntax-p">)</span></a>
<span class="devsite-syntax-w">                    </span><span class="devsite-syntax-n">Handler</span><span class="devsite-syntax-p">().</span><span class="devsite-syntax-na">post</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">                        </span><span class="devsite-syntax-c1">// Loads contents from the module using <a href="https://developer.android.com/reference/android/content/res/AssetManager?hl=zh-cn">AssetManager</span></a>
<span class="devsite-syntax-w">                        </span><span class="devsite-syntax-kd">val</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nv">am</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">context</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">assets</span>
<span class="devsite-syntax-w">                        </span><span class="devsite-syntax-p">...</span>
<span class="devsite-syntax-w">                    </span><span class="devsite-syntax-p">}</span>
<span class="devsite-syntax-w">                </span><span class="devsite-syntax-p">}</span>
<span class="devsite-syntax-w">            </span><span class="devsite-syntax-p">}</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-p">}</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-p">}</span>
<span class="devsite-syntax-p">}</span></pre></devsite-code>
</section><section><h3 data-text="Java" id="java" tabindex="-1">Java</h3>
<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="Java"><span class="devsite-syntax-nd">@Override</span>
<span class="devsite-syntax-kd">public</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kt">void</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nf">onStateUpdate</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">SplitInstallSessionState</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">state</span><span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-k">if</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">state</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">sessionId</span><span class="devsite-syntax-p">()</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">==</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">mySessionId</span><span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-k">switch</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">state</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">status</span><span class="devsite-syntax-p">())</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">            </span><span class="devsite-syntax-p">...</span>
<span class="devsite-syntax-w">            </span><span class="devsite-syntax-k">case</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">SplitInstallSessionStatus</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">INSTALLED</span><span class="devsite-syntax-p">:</span>
<span class="devsite-syntax-w">            </span><span class="devsite-syntax-c1">// You need to perform the following only for Android Instant Apps</span>
<span class="devsite-syntax-w">            </span><span class="devsite-syntax-c1">// running on Android 8.0 (API level 26) and higher.</span>
<span class="devsite-syntax-w">            </span><span class="devsite-syntax-k">if</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">BuildCompat</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">isAtLeastO</span><span class="devsite-syntax-p">())</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">                </span><span class="devsite-syntax-c1">// Updates the app’s context with the code and resources of the</span>
<span class="devsite-syntax-w">                </span><span class="devsite-syntax-c1">// installed module.</span>
<span class="devsite-syntax-w">                </span><a href="https://developer.android.com/reference/com/google/android/play/core/splitinstall/SplitInstallHelper?hl=zh-cn#updateAppInfo(android.content.Context)"><span class="devsite-syntax-n">SplitInstallHelper</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">updateAppInfo</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">context</span><span class="devsite-syntax-p">)</a>;</span>
<span class="devsite-syntax-w">                </span><span class="devsite-syntax-k">new</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Handler</span><span class="devsite-syntax-p">().</span><span class="devsite-syntax-na">post</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-k">new</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Runnable</span><span class="devsite-syntax-p">()</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">                    </span><span class="devsite-syntax-nd">@Override</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kd">public</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kt">void</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nf">run</span><span class="devsite-syntax-p">()</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">                        </span><span class="devsite-syntax-c1">// Loads contents from the module using <a href="https://developer.android.com/reference/android/content/res/AssetManager?hl=zh-cn">AssetManager</span></a>
<span class="devsite-syntax-w">                        </span><span class="devsite-syntax-n">AssetManager</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">am</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">context</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">getAssets</span><span class="devsite-syntax-p">();</span>
<span class="devsite-syntax-w">                        </span><span class="devsite-syntax-p">...</span>
<span class="devsite-syntax-w">                    </span><span class="devsite-syntax-p">}</span>
<span class="devsite-syntax-w">                </span><span class="devsite-syntax-p">});</span>
<span class="devsite-syntax-w">            </span><span class="devsite-syntax-p">}</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-p">}</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-p">}</span>
<span class="devsite-syntax-p">}</span></pre></devsite-code>
</section></div>
</div>

<h4 data-text="加载 C/C++ 库" id="load_native_libs" tabindex="-1">加载 C/C++ 库</h4>

<p>如果您想从设备已下载到免安装应用中的模块加载 C/C++ 库，请使用 <a href="https://developer.android.com/reference/com/google/android/play/core/splitinstall/SplitInstallHelper?hl=zh-cn#loadLibrary(android.content.Context,%20java.lang.String)"><code dir="ltr" translate="no">SplitInstallHelper.loadLibrary(Context context, String libName)</code></a>，如下所示：</p>

<div>
<div class="ds-selector-tabs"><section><h3 data-text="Kotlin" id="kotlin" tabindex="-1">Kotlin</h3>
<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="Kotlin"><span class="devsite-syntax-kd">override</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kd">fun</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nf">onStateUpdate</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">state</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">SplitInstallSessionState</span><span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-k">if</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">state</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">sessionId</span><span class="devsite-syntax-p">()</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">==</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">mySessionId</span><span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-k">when</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">state</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">status</span><span class="devsite-syntax-p">())</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">            </span><span class="devsite-syntax-n">SplitInstallSessionStatus</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">INSTALLED</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">-></span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">                </span><span class="devsite-syntax-c1">// Updates the app’s context as soon as a module is installed.</span>
<span class="devsite-syntax-w">                </span><span class="devsite-syntax-kd">val</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nv">newContext</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">context</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">createPackageContext</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">context</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">packageName</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-m">0</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">                </span><span class="devsite-syntax-c1">// To load C/C++ libraries from an installed module, use the following API</span>
<span class="devsite-syntax-w">                </span><span class="devsite-syntax-c1">// instead of System.load().</span>
<span class="devsite-syntax-w">                </span><span class="devsite-syntax-n">SplitInstallHelper</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">loadLibrary</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">newContext</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-err">“</span><span class="devsite-syntax-n">my</span><span class="devsite-syntax-o">-</span><span class="devsite-syntax-n">cpp</span><span class="devsite-syntax-o">-</span><span class="devsite-syntax-n">lib</span><span class="devsite-syntax-err">”</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">                </span><span class="devsite-syntax-p">...</span>
<span class="devsite-syntax-w">            </span><span class="devsite-syntax-p">}</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-p">}</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-p">}</span>
<span class="devsite-syntax-p">}</span></pre></devsite-code>
</section><section><h3 data-text="Java" id="java" tabindex="-1">Java</h3>
<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="Java"><span class="devsite-syntax-kd">public</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kt">void</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nf">onStateUpdate</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">SplitInstallSessionState</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">state</span><span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-k">if</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">state</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">sessionId</span><span class="devsite-syntax-p">()</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">==</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">mySessionId</span><span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-k">switch</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">state</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">status</span><span class="devsite-syntax-p">())</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">            </span><span class="devsite-syntax-k">case</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">SplitInstallSessionStatus</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">INSTALLED</span><span class="devsite-syntax-p">:</span>
<span class="devsite-syntax-w">                </span><span class="devsite-syntax-c1">// Updates the app’s context as soon as a module is installed.</span>
<span class="devsite-syntax-w">                </span><span class="devsite-syntax-n">Context</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">newContext</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">context</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">createPackageContext</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">context</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">getPackageName</span><span class="devsite-syntax-p">(),</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-mi">0</span><span class="devsite-syntax-p">);</span>
<span class="devsite-syntax-w">                </span><span class="devsite-syntax-c1">// To load C/C++ libraries from an installed module, use the following API</span>
<span class="devsite-syntax-w">                </span><span class="devsite-syntax-c1">// instead of System.load().</span>
<span class="devsite-syntax-w">                </span><span class="devsite-syntax-n">SplitInstallHelper</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">loadLibrary</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">newContext</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-err">“</span><span class="devsite-syntax-n">my</span><span class="devsite-syntax-o">-</span><span class="devsite-syntax-n">cpp</span><span class="devsite-syntax-o">-</span><span class="devsite-syntax-n">lib</span><span class="devsite-syntax-err">”</span><span class="devsite-syntax-p">);</span>
<span class="devsite-syntax-w">                </span><span class="devsite-syntax-p">...</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-p">}</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-p">}</span>
<span class="devsite-syntax-p">}</span></pre></devsite-code>
</section></div>
</div>

<h3 data-text="已知限制" id="known_limitations" tabindex="-1">已知限制</h3>

<ul>
<li>如果某个 activity 会访问可选模块中的资源，则无法在其中使用 Android WebView。这是因为在 Android API 级别 28 及更低版本上，WebView 和 SplitCompat 不兼容。</li>
<li>您不可在应用中缓存 Android <code dir="ltr" translate="no">ApplicationInfo</code> 对象及其内容，或包含这些内容的对象。您应始终根据需要从应用上下文中提取这些对象。安装功能模块时，缓存此类对象可能会导致应用崩溃。</li>
</ul>

<h2 data-text="管理已安装的模块" id="manage_installed_modules" tabindex="-1">管理已安装的模块</h2>

<p>如需检查设备上当前已安装的功能模块，您可以调用 <a href="https://developer.android.com/reference/com/google/android/play/core/splitinstall/SplitInstallManager?hl=zh-cn#getInstalledModules()"><code dir="ltr" translate="no">SplitInstallManager.getInstalledModules()</code></a>，它会返回已安装模块名称的 <code dir="ltr" translate="no">Set&lt;String&gt;</code>，如下所示。</p>
<aside class="note"><strong>注意</strong><span>：如果您在开发 Android 免安装应用，此部分不适用于您。</span></aside><div>
<div class="ds-selector-tabs"><section><h3 data-text="Kotlin" id="kotlin" tabindex="-1">Kotlin</h3>
<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="Kotlin"><span class="devsite-syntax-kd">val</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nv">installedModules</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Set&lt;String&gt;</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">splitInstallManager</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">installedModules</span></pre></devsite-code>
</section><section><h3 data-text="Java" id="java" tabindex="-1">Java</h3>
<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="Java"><span class="devsite-syntax-n">Set&lt;String&gt;</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">installedModules</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">splitInstallManager</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">getInstalledModules</span><span class="devsite-syntax-p">();</span></pre></devsite-code>
</section></div>
</div>

<h3 data-text="卸载模块" id="uninstall_modules" tabindex="-1">卸载模块</h3>

<p>您可以通过调用 <a href="https://developer.android.com/reference/com/google/android/play/core/splitinstall/SplitInstallManager?hl=zh-cn#deferreduninstall"><code dir="ltr" translate="no">SplitInstallManager.deferredUninstall(List&lt;String&gt; moduleNames)</code></a> 请求设备卸载模块，如下所示。</p>

<div>
<div class="ds-selector-tabs"><section><h3 data-text="Kotlin" id="kotlin" tabindex="-1">Kotlin</h3>
<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="Kotlin"><span class="devsite-syntax-c1">// Specifies two feature modules for deferred uninstall.</span>
<span class="devsite-syntax-n">splitInstallManager</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">deferredUninstall</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">listOf</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"pictureMessages"</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s">"promotionalFilters"</span><span class="devsite-syntax-p">))</span></pre></devsite-code>
</section><section><h3 data-text="Java" id="java" tabindex="-1">Java</h3>
<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="Java"><span class="devsite-syntax-c1">// Specifies two feature modules for deferred uninstall.</span>
<span class="devsite-syntax-n">splitInstallManager</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">deferredUninstall</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">Arrays</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">asList</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s">"pictureMessages"</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s">"promotionalFilters"</span><span class="devsite-syntax-p">));</span></pre></devsite-code>
</section></div>
</div>

<p>模块卸载不会立即发生。也就是说，设备会根据需要在后台进行卸载，以节省存储空间。您可以通过调用 <a href="https://developer.android.com/reference/com/google/android/play/core/splitinstall/SplitInstallManager?hl=zh-cn#getinstalledmodules"><code dir="ltr" translate="no">SplitInstallManager.getInstalledModules()</code></a> 并检查结果以确认设备是否已删除模块，如上一部分中所述。</p>

<h2 data-text="下载其他语言资源" id="lang_resources" tabindex="-1">下载其他语言资源</h2>

<p>通过 app bundle，设备只会下载运行应用所需的代码和资源。因此，对于语言资源，用户的设备只会下载与设备设置中当前所选的一种或多种语言相符的应用语言资源。</p>

<p>如果您希望应用能够访问其他语言资源（例如，为了实现应用内语言选择器），您可以使用 Play Feature Delivery 库根据需要下载这些资源。该流程与下载功能模块的流程相似，如下所示。</p>

<div>
<div class="ds-selector-tabs"><section><h3 data-text="Kotlin" id="kotlin" tabindex="-1">Kotlin</h3>
<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="Kotlin"><span class="devsite-syntax-c1">// Captures the user’s preferred language and persists it</span>
<span class="devsite-syntax-c1">// through the app’s SharedPreferences.</span>
<span class="devsite-syntax-n">sharedPrefs</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">edit</span><span class="devsite-syntax-p">().</span><span class="devsite-syntax-na">putString</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">LANGUAGE_SELECTION</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s">"fr"</span><span class="devsite-syntax-p">).</span><span class="devsite-syntax-na">apply</span><span class="devsite-syntax-p">()</span>
<span class="devsite-syntax-p">...</span>

<span class="devsite-syntax-c1">// Creates a request to download and install additional language resources.</span>
<span class="devsite-syntax-kd">val</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nv">request</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">SplitInstallRequest</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">newBuilder</span><span class="devsite-syntax-p">()</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-c1">// Uses the addLanguage() method to include French language resources in the request.</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-c1">// Note that country codes are ignored. That is, if your app</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-c1">// includes resources for “fr-FR” and “fr-CA”, resources for both</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-c1">// country codes are downloaded when requesting resources for "fr".</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">addLanguage</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">Locale</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">forLanguageTag</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">sharedPrefs</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">getString</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">LANGUAGE_SELECTION</span><span class="devsite-syntax-p">)))</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">build</span><span class="devsite-syntax-p">()</span>

<span class="devsite-syntax-c1">// Submits the request to install the additional language resources.</span>
<span class="devsite-syntax-n">splitInstallManager</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">startInstall</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">request</span><span class="devsite-syntax-p">)</span></pre></devsite-code>
</section><section><h3 data-text="Java" id="java" tabindex="-1">Java</h3>
<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="Java"><span class="devsite-syntax-c1">// Captures the user’s preferred language and persists it</span>
<span class="devsite-syntax-c1">// through the app’s SharedPreferences.</span>
<span class="devsite-syntax-n">sharedPrefs</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">edit</span><span class="devsite-syntax-p">().</span><span class="devsite-syntax-na">putString</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">LANGUAGE_SELECTION</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s">"fr"</span><span class="devsite-syntax-p">).</span><span class="devsite-syntax-na">apply</span><span class="devsite-syntax-p">();</span>
<span class="devsite-syntax-p">...</span>

<span class="devsite-syntax-c1">// Creates a request to download and install additional language resources.</span>
<span class="devsite-syntax-n">SplitInstallRequest</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">request</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-n">SplitInstallRequest</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">newBuilder</span><span class="devsite-syntax-p">()</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-c1">// Uses the addLanguage() method to include French language resources in the request.</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-c1">// Note that country codes are ignored. That is, if your app</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-c1">// includes resources for “fr-FR” and “fr-CA”, resources for both</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-c1">// country codes are downloaded when requesting resources for "fr".</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">addLanguage</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">Locale</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">forLanguageTag</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">sharedPrefs</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">getString</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">LANGUAGE_SELECTION</span><span class="devsite-syntax-p">)))</span>
<span class="devsite-syntax-w">        </span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">build</span><span class="devsite-syntax-p">();</span>

<span class="devsite-syntax-c1">// Submits the request to install the additional language resources.</span>
<span class="devsite-syntax-n">splitInstallManager</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">startInstall</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">request</span><span class="devsite-syntax-p">);</span></pre></devsite-code>
</section></div>
</div>

<p>该请求的处理方式与功能模块请求的处理方式相同。也就是说，您可以像平常一样<a href="#monitor_requests">监控请求状态</a>。</p>

<p>如果您的应用不需要立即使用其他语言资源，您可以延迟到应用在后台运行时再进行安装，如下所示。</p>

<div>
<div class="ds-selector-tabs"><section><h3 data-text="Kotlin" id="kotlin" tabindex="-1">Kotlin</h3>
<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="Kotlin"><span class="devsite-syntax-n">splitInstallManager</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">deferredLanguageInstall</span><span class="devsite-syntax-p">(</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-n">Locale</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">forLanguageTag</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">sharedPrefs</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">getString</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">LANGUAGE_SELECTION</span><span class="devsite-syntax-p">)))</span></pre></devsite-code>
</section><section><h3 data-text="Java" id="java" tabindex="-1">Java</h3>
<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="Java"><span class="devsite-syntax-n">splitInstallManager</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">deferredLanguageInstall</span><span class="devsite-syntax-p">(</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-n">Locale</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">forLanguageTag</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">sharedPrefs</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">getString</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">LANGUAGE_SELECTION</span><span class="devsite-syntax-p">)));</span></pre></devsite-code>
</section></div>
</div>

<h3 data-text="访问已下载的语言资源" id="access_lang_resources" tabindex="-1">访问已下载的语言资源</h3>

<p>如需访问已下载的语言资源，您的应用需要在需要访问这些资源的每个 Activity 的 <code dir="ltr" translate="no">attachBaseContext()</code> 方法内运行 <code dir="ltr" translate="no">SplitCompat.installActivity()</code> 方法，如下所示。</p>

<div>
<div class="ds-selector-tabs"><section><h3 data-text="Kotlin" id="kotlin" tabindex="-1">Kotlin</h3>
<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="Kotlin"><span class="devsite-syntax-kd">override</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kd">fun</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nf">attachBaseContext</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">base</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Context</span><span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-k">super</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">attachBaseContext</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">base</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-n">SplitCompat</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">installActivity</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-k">this</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-p">}</span></pre></devsite-code>
</section><section><h3 data-text="Java" id="java" tabindex="-1">Java</h3>
<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="Java"><span class="devsite-syntax-nd">@Override</span>
<span class="devsite-syntax-kd">protected</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kt">void</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nf">attachBaseContext</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">Context</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">base</span><span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-kd">super</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">attachBaseContext</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">base</span><span class="devsite-syntax-p">);</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-n">SplitCompat</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">installActivity</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-k">this</span><span class="devsite-syntax-p">);</span>
<span class="devsite-syntax-p">}</span></pre></devsite-code>
</section></div>
</div>

<p>对于您想要使用应用已下载的语言资源的每个 Activity，请更新基本上下文并通过其 <a href="https://developer.android.com/reference/android/content/res/Configuration?hl=zh-cn"><code dir="ltr" translate="no">Configuration</code></a> 设置新的语言区域：</p>

<div>
<div class="ds-selector-tabs"><section><h3 data-text="Kotlin" id="kotlin" tabindex="-1">Kotlin</h3>
<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="Kotlin"><span class="devsite-syntax-kd">override</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kd">fun</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nf">attachBaseContext</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">base</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Context</span><span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-kd">val</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nv">configuration</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Configuration</span><span class="devsite-syntax-p">()</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-n">configuration</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">setLocale</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">Locale</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">forLanguageTag</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">sharedPrefs</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">getString</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">LANGUAGE_SELECTION</span><span class="devsite-syntax-p">)))</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-kd">val</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nv">context</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">base</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">createConfigurationContext</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">configuration</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-k">super</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">attachBaseContext</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">context</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-n">SplitCompat</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">install</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-k">this</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-p">}</span></pre></devsite-code>
</section><section><h3 data-text="Java" id="java" tabindex="-1">Java</h3>
<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="Java"><span class="devsite-syntax-nd">@Override</span>
<span class="devsite-syntax-kd">protected</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-kt">void</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nf">attachBaseContext</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">Context</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">base</span><span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-n">Configuration</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">configuration</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-k">new</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Configuration</span><span class="devsite-syntax-p">();</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-n">configuration</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">setLocale</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">Locale</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">forLanguageTag</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">sharedPrefs</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">getString</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">LANGUAGE_SELECTION</span><span class="devsite-syntax-p">)));</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-n">Context</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">context</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">base</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">createConfigurationContext</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">configuration</span><span class="devsite-syntax-p">);</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-kd">super</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">attachBaseContext</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">context</span><span class="devsite-syntax-p">);</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-n">SplitCompat</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">install</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-k">this</span><span class="devsite-syntax-p">);</span>
<span class="devsite-syntax-p">}</span></pre></devsite-code>
</section></div>
</div>

<p>为使这些更改生效，您必须在新语言安装完毕且可供使用后重新创建 Activity。您可以使用 <code dir="ltr" translate="no">Activity#recreate()</code> 方法。</p>

<div>
<div class="ds-selector-tabs"><section><h3 data-text="Kotlin" id="kotlin" tabindex="-1">Kotlin</h3>
<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="Kotlin"><span class="devsite-syntax-k">when</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">state</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">status</span><span class="devsite-syntax-p">())</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-n">SplitInstallSessionStatus</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">INSTALLED</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">-></span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-c1">// Recreates the activity to load resources for the new language</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-c1">// preference.</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-n">activity</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">recreate</span><span class="devsite-syntax-p">()</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-p">}</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-p">...</span>
<span class="devsite-syntax-p">}</span></pre></devsite-code>
</section><section><h3 data-text="Java" id="java" tabindex="-1">Java</h3>
<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="Java"><span class="devsite-syntax-k">switch</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">state</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">status</span><span class="devsite-syntax-p">())</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-k">case</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">SplitInstallSessionStatus</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">INSTALLED</span><span class="devsite-syntax-p">:</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-c1">// Recreates the activity to load resources for the new language</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-c1">// preference.</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-n">activity</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">recreate</span><span class="devsite-syntax-p">();</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-p">...</span>
<span class="devsite-syntax-p">}</span></pre></devsite-code>
</section></div>
</div>

<h3 data-text="卸载其他语言资源" id="uninstall_lang_resources" tabindex="-1">卸载其他语言资源</h3>

<p>与功能模块类似，您可以随时卸载其他资源。在请求卸载之前，您可能需要先确定当前安装的语言，如下所示。</p>

<div>
<div class="ds-selector-tabs"><section><h3 data-text="Kotlin" id="kotlin" tabindex="-1">Kotlin</h3>
<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="Kotlin"><span class="devsite-syntax-kd">val</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nv">installedLanguages</span><span class="devsite-syntax-p">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">Set&lt;String&gt;</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">splitInstallManager</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">installedLanguages</span></pre></devsite-code>
</section><section><h3 data-text="Java" id="java" tabindex="-1">Java</h3>
<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="Java"><span class="devsite-syntax-n">Set&lt;String&gt;</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">installedLanguages</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">splitInstallManager</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">getInstalledLanguages</span><span class="devsite-syntax-p">();</span></pre></devsite-code>
</section></div>
</div>

<p>然后，您可以使用 <code dir="ltr" translate="no">deferredLanguageUninstall()</code> 方法确定需要卸载的语言，如下所示。</p>

<div>
<div class="ds-selector-tabs"><section><h3 data-text="Kotlin" id="kotlin" tabindex="-1">Kotlin</h3>
<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="Kotlin"><span class="devsite-syntax-n">splitInstallManager</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">deferredLanguageUninstall</span><span class="devsite-syntax-p">(</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-n">Locale</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">forLanguageTag</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">sharedPrefs</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">getString</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">LANGUAGE_SELECTION</span><span class="devsite-syntax-p">)))</span></pre></devsite-code>
</section><section><h3 data-text="Java" id="java" tabindex="-1">Java</h3>
<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="Java"><span class="devsite-syntax-n">splitInstallManager</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">deferredLanguageUninstall</span><span class="devsite-syntax-p">(</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-n">Locale</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">forLanguageTag</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">sharedPrefs</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">getString</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">LANGUAGE_SELECTION</span><span class="devsite-syntax-p">)));</span></pre></devsite-code>
</section></div>
</div>

<h2 data-text="在本地测试模块的安装情况" id="local-testing" tabindex="-1">在本地测试模块的安装情况</h2>

<p>Play Feature Delivery 库可让您在本地测试应用能否执行以下操作，而无需连接到 Play 商店：</p>

<ul>
<li>请求并监控模块的安装。</li>
<li>处理安装错误。</li>
<li>使用 <a href="https://developer.android.com/reference/com/google/android/play/core/splitcompat/SplitCompat?hl=zh-cn"><code dir="ltr" translate="no">SplitCompat</code></a> <a href="https://developer.android.com/guide/playcore/dynamic-delivery?hl=zh-cn#access_downloaded_modules">访问模块</a>。</li>
</ul>

<p>本页介绍了如何将应用的拆分 APK 部署到测试设备，以便 Play Feature Delivery 自动使用这些 APK 模拟从 Play 商店请求、下载和安装模块。</p>

<p>虽然您不需要对应用的逻辑进行任何更改，但需要满足以下要求：</p>

<ul>
<li>下载并安装<a href="https://github.com/google/bundletool/releases">最新版 <code dir="ltr" translate="no">bundletool</code></a>。您需要使用 <code dir="ltr" translate="no">bundletool</code> 从 app bundle 构建一组新的可安装 APK。</li>
</ul>
<aside class="note"><strong>注意</strong><span>：Play Feature Delivery 库目前不支持模块卸载或推迟安装。如需测试此功能，不妨考虑使用<a href="https://support.google.com/googleplay/android-developer/answer/9303479?hl=zh-cn">内部应用分享</a>。</span></aside>
<h3 data-text="构建一组 APK" id="build-apks" tabindex="-1">构建一组 APK</h3>

<p>您应构建应用的拆分 APK（如果您尚未执行此操作），具体操作步骤如下：</p>

<ol>
<li>使用以下某种方法为您的应用构建 app bundle：
<ul>
<li>使用 Android Studio 和 Android Plugin for Gradle <a href="https://developer.android.com/studio/publish/app-signing?hl=zh-cn#sign-apk">构建 Android App Bundle 并为其签名</a>。</li>
<li><a href="https://developer.android.com/studio/build/building-cmdline?hl=zh-cn#build_bundle">从命令行构建 app bundle</a>。</li>
</ul></li>
<li><p>使用 <code dir="ltr" translate="no">bundletool</code> 针对所有设备配置<a href="https://developer.android.com/studio/command-line/bundletool?hl=zh-cn#generate_apks">生成一组 APK</a>，具体命令如下：</p>

<div></div><devsite-code><pre class="none" translate="no" dir="ltr" is-upgraded>
bundletool build-apks --local-testing
  --bundle <var translate="no">my_app.aab</var>
  --output <var translate="no">my_app.apks</var>
</pre></devsite-code></li>
</ol>

<p><code dir="ltr" translate="no">--local-testing</code> 标志包含 APK 清单中的元数据，会告知 Play Feature Delivery 库使用本地拆分 APK 测试功能模块的安装，而无需连接到 Play 商店。</p>

<h3 data-text="将应用部署到设备" id="deploy" tabindex="-1">将应用部署到设备</h3>

<p>使用 <code dir="ltr" translate="no">--local-testing</code> 标记<a href="#build-apks">构建一组 APK</a> 后，应使用 <code dir="ltr" translate="no">bundletool</code> 安装应用的基础版本，并将其他 APK 转移到设备的本地存储空间。您可以使用以下命令执行这两项操作：</p>

<div></div><devsite-code><pre class="none" translate="no" dir="ltr" is-upgraded>
bundletool install-apks --apks <var translate="no">my_app.apks</var>
</pre></devsite-code>

<p>现在，当您启动应用并完成下载和安装功能模块的用户流时，Play Feature Delivery 库会使用 <code dir="ltr" translate="no">bundletool</code> 转移到设备本地存储空间的 APK。</p>

<h3 data-text="模拟网络连接错误" id="FakeSplitInstallManager" tabindex="-1">模拟网络连接错误</h3>

<p>为了模拟从 Play 商店安装模块的过程，Play Feature Delivery 库使用 <code dir="ltr" translate="no">SplitInstallManager</code> 的替代方法（名为 <a href="https://developer.android.com/reference/com/google/android/play/core/splitinstall/testing/FakeSplitInstallManager?hl=zh-cn"><code dir="ltr" translate="no">FakeSplitInstallManager</code></a>）请求模块。当您将 <code dir="ltr" translate="no">bundletool</code> 与 <code dir="ltr" translate="no">--local-testing</code> 标志一起使用以<a href="#build-apks">构建一组 APK</a> 并将其部署到测试设备时，它包含元数据，指示 Play Feature Delivery 库将应用的 API 调用自动切换为调用 <code dir="ltr" translate="no">FakeSplitInstallManager</code>，而不是 <code dir="ltr" translate="no">SplitInstallManager</code>。</p>

<p><code dir="ltr" translate="no">FakeSplitInstallManager</code> 包含一个布尔标志，当应用下次请求安装模块时，您可以启用该标志来模拟网络连接错误。如需在测试中访问 <code dir="ltr" translate="no">FakeSplitInstallManager</code>，您可以使用 <a href="https://developer.android.com/reference/com/google/android/play/core/splitinstall/testing/FakeSplitInstallManagerFactory?hl=zh-cn"><code dir="ltr" translate="no">FakeSplitInstallManagerFactory</code></a> 获取它的实例，如下所示：</p>

<div>
<div class="ds-selector-tabs"><section><h3 data-text="Kotlin" id="kotlin" tabindex="-1">Kotlin</h3>
<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="Kotlin"><span class="devsite-syntax-c1">// Creates an instance of FakeSplitInstallManager with the app's context.</span>
<span class="devsite-syntax-kd">val</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nv">fakeSplitInstallManager</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">FakeSplitInstallManagerFactory</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">create</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">context</span><span class="devsite-syntax-p">)</span>
<span class="devsite-syntax-c1">// Tells Play Feature Delivery Library to force the next module request to</span>
<span class="devsite-syntax-c1">// result in a network error.</span>
<span class="devsite-syntax-n">fakeSplitInstallManager</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">setShouldNetworkError</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-kc">true</span><span class="devsite-syntax-p">)</span></pre></devsite-code>
</section><section><h3 data-text="Java" id="java" tabindex="-1">Java</h3>
<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="Java"><span class="devsite-syntax-c1">// Creates an instance of FakeSplitInstallManager with the app's context.</span>
<span class="devsite-syntax-n">FakeSplitInstallManager</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-n">fakeSplitInstallManager</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-n">FakeSplitInstallManagerFactory</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">create</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-n">context</span><span class="devsite-syntax-p">);</span>
<span class="devsite-syntax-c1">// Tells Play Feature Delivery Library to force the next module request to</span>
<span class="devsite-syntax-c1">// result in a network error.</span>
<span class="devsite-syntax-n">fakeSplitInstallManager</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-na">setShouldNetworkError</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-kc">true</span><span class="devsite-syntax-p">);</span></pre></devsite-code>
</section></div>
</div>

  

  

  
    <devsite-hats-survey class="nocontent"
      hats-id="VxqvKSur40kxBYCLVTd0SSGykbno"
      listnr-id="5207477"></devsite-hats-survey>
  
</div>

  
    
      <devsite-recommendations display="in-page" hidden yield>
      </devsite-recommendations>
    
    
      
    <devsite-thumb-rating position="footer">
    </devsite-thumb-rating>
  
       
    
    
      <devsite-recommendations id="recommendations-link" yield></devsite-recommendations>
    
  

  <div class="devsite-floating-action-buttons"></div></article>


<devsite-content-footer class="nocontent">
  <p>本页面上的内容和代码示例受<a href="https://developer.android.com/license?hl=zh-cn">内容许可</a>部分所述许可的限制。Java 和 OpenJDK 是 Oracle 和/或其关联公司的注册商标。</p>
  <p>最后更新时间 (UTC)：2025-09-04。</p>
</devsite-content-footer>


<devsite-notification
>
</devsite-notification>


  
<div class="devsite-content-data">
  
  
    <template class="devsite-content-data-template">
      [[["易于理解","easyToUnderstand","thumb-up"],["解决了我的问题","solvedMyProblem","thumb-up"],["其他","otherUp","thumb-up"]],[["没有我需要的信息","missingTheInformationINeed","thumb-down"],["太复杂/步骤太多","tooComplicatedTooManySteps","thumb-down"],["内容需要更新","outOfDate","thumb-down"],["翻译问题","translationIssue","thumb-down"],["示例/代码问题","samplesCodeIssue","thumb-down"],["其他","otherDown","thumb-down"]],["最后更新时间 (UTC)：2025-09-04。"],[],[],null,[]]
    </template>
  
</div>
            
          </devsite-content>
        </main>
        <devsite-footer-promos class="devsite-footer">
          
            

<nav class="devsite-footer-promos nocontent" aria-label="促销活动">
  <ul class="devsite-footer-promos-list">
    
    <li class="devsite-footer-promo">
      <a href="https://x.com/GooglePlayBiz"
         class="devsite-footer-promo-title gc-analytics-event"
         data-category="Site-Wide Custom Events"
       
         
         data-label="Footer Promo Link (index 1)"
       
       >
        
        
        <picture>
          
          <source class="devsite-dark-theme"
                  srcset="https://developer.android.com/static/images/logos/x_dt.svg?hl=zh-cn"
                  media="(prefers-color-scheme: dark)">
          
          <img class="devsite-footer-promo-icon"
                src="https://developer.android.com/static/images/logos/x.svg?hl=zh-cn"
                loading="lazy"
                alt="X">
        </picture>
        
        <span class="devsite-footer-promo-label">
          X
        </span>
      </a>
      <div class="devsite-footer-promo-description">关注 @GooglePlayBiz，获取相关资讯和支持</div>
    </li>
    
    <li class="devsite-footer-promo">
      <a href="https://medium.com/googleplaydev"
         class="devsite-footer-promo-title gc-analytics-event"
         data-category="Site-Wide Custom Events"
       
         
         data-label="Footer Promo Link (index 2)"
       
       >
        
        
        <picture>
          
          <source class="devsite-dark-theme"
                  srcset="https://developer.android.com/static/images/logos/medium_dt.svg?hl=zh-cn"
                  media="(prefers-color-scheme: dark)">
          
          <img class="devsite-footer-promo-icon"
                src="https://developer.android.com/static/images/logos/medium.svg?hl=zh-cn"
                loading="lazy"
                alt="媒介">
        </picture>
        
        <span class="devsite-footer-promo-label">
          媒介
        </span>
      </a>
      <div class="devsite-footer-promo-description">阅读由 Play 团队提供的报道和行业观点</div>
    </li>
    
    <li class="devsite-footer-promo">
      <a href="https://www.linkedin.com/company/googleplaydev/"
         class="devsite-footer-promo-title gc-analytics-event"
         data-category="Site-Wide Custom Events"
       
         
         data-label="Footer Promo Link (index 3)"
       
       >
        
        
        <picture>
          
          <source class="devsite-dark-theme"
                  srcset="https://developer.android.com/static/images/logos/linkedin_dt.svg?hl=zh-cn"
                  media="(prefers-color-scheme: dark)">
          
          <img class="devsite-footer-promo-icon"
                src="https://developer.android.com/static/images/logos/linkedin.svg?hl=zh-cn"
                loading="lazy"
                alt="LinkedIn">
        </picture>
        
        <span class="devsite-footer-promo-label">
          LinkedIn
        </span>
      </a>
      <div class="devsite-footer-promo-description">与 Google Play 业务社区交流互动</div>
    </li>
    
    <li class="devsite-footer-promo">
      <a href="https://support.google.com/googleplay/android-developer/community?hl=zh-cn"
         class="devsite-footer-promo-title gc-analytics-event"
         data-category="Site-Wide Custom Events"
       
       
         data-label="play-dev-community"
       
         data-value="0"
       
         data-category="footer-link"
       >
        
        
        <picture>
          
          <source class="devsite-dark-theme"
                  srcset="https://developer.android.com/static/images/logos/google-play_dt.svg?hl=zh-cn"
                  media="(prefers-color-scheme: dark)">
          
          <img class="devsite-footer-promo-icon"
                src="https://developer.android.com/static/images/logos/google-play.svg?hl=zh-cn"
                loading="lazy"
                alt="开发者帮助">
        </picture>
        
        <span class="devsite-footer-promo-label">
          开发者帮助
        </span>
      </a>
      <div class="devsite-footer-promo-description">从 Google Play 开发者帮助社区获取帮助</div>
    </li>
    
  </ul>
</nav>

          
        </devsite-footer-promos>
        <devsite-footer-linkboxes class="devsite-footer">
          
            
<nav class="devsite-footer-linkboxes nocontent" aria-label="页脚链接">
  
  <ul class="devsite-footer-linkboxes-list">
    
    <li class="devsite-footer-linkbox ">
    <h3 class="devsite-footer-linkbox-heading no-link">关于 Android</h3>
      <ul class="devsite-footer-linkbox-list">
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="//www.android.com"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 1)"
            >
            
          
            Android
          
          </a>
          
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="//www.android.com/enterprise/"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 2)"
            >
            
          
            适用于企业的 Android
          
          </a>
          
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="//www.android.com/security-center/"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 3)"
            >
            
          
            安全
          
          </a>
          
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="//source.android.com"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 4)"
            >
            
          
            源代码
          
          </a>
          
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="/news"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 5)"
            >
            
          
            新闻
          
          </a>
          
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="//android-developers.googleblog.com/"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 6)"
            >
            
          
            博客
          
          </a>
          
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="/podcasts"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 7)"
            >
            
              
              
            
          
            播客
          
          </a>
          
          
        </li>
        
      </ul>
    </li>
    
    <li class="devsite-footer-linkbox ">
    <h3 class="devsite-footer-linkbox-heading no-link">发现</h3>
      <ul class="devsite-footer-linkbox-list">
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="/games"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 1)"
            >
            
          
            游戏
          
          </a>
          
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="/ml"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 2)"
            >
            
          
            机器学习
          
          </a>
          
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="/health-and-fitness"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 3)"
            >
            
          
            健康与健身
          
          </a>
          
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="/media"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 4)"
            >
            
          
            相机与媒体
          
          </a>
          
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="/privacy"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 5)"
            >
            
          
            隐私权政策
          
          </a>
          
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="/training/connectivity/5g"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 6)"
            >
            
              
              
            
          
            5G
          
          </a>
          
          
        </li>
        
      </ul>
    </li>
    
    <li class="devsite-footer-linkbox ">
    <h3 class="devsite-footer-linkbox-heading no-link">Android 设备</h3>
      <ul class="devsite-footer-linkbox-list">
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="/large-screens"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 1)"
            >
            
          
            大屏幕
          
          </a>
          
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="/wear"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 2)"
            >
            
          
            Wear OS
          
          </a>
          
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="/chrome-os"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 3)"
            >
            
          
            ChromeOS 设备
          
          </a>
          
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="/cars"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 4)"
            >
            
          
            Android for Cars
          
          </a>
          
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="/tv"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 5)"
            >
            
              
              
            
          
            Android TV
          
          </a>
          
          
        </li>
        
      </ul>
    </li>
    
    <li class="devsite-footer-linkbox ">
    <h3 class="devsite-footer-linkbox-heading no-link">版本</h3>
      <ul class="devsite-footer-linkbox-list">
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="/about/versions/15"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 1)"
            >
            
          
            Android 15
          
          </a>
          
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="/about/versions/14"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 2)"
            >
            
          
            Android 14
          
          </a>
          
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="/about/versions/13"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 3)"
            >
            
          
            Android 13
          
          </a>
          
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="/about/versions/12"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 4)"
            >
            
          
            Android 12
          
          </a>
          
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="/about/versions/11"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 5)"
            >
            
          
            Android 11
          
          </a>
          
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="/about/versions/10"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 6)"
            >
            
          
            Android 10
          
          </a>
          
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="/about/versions/pie"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 7)"
            >
            
              
              
            
          
            Pie
          
          </a>
          
          
        </li>
        
      </ul>
    </li>
    
    <li class="devsite-footer-linkbox ">
    <h3 class="devsite-footer-linkbox-heading no-link">文档和下载</h3>
      <ul class="devsite-footer-linkbox-list">
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="/studio/intro"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 1)"
            >
            
          
            Android Studio 指南
          
          </a>
          
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="/guide"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 2)"
            >
            
          
            开发者指南
          
          </a>
          
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="/reference"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 3)"
            >
            
          
            API 参考
          
          </a>
          
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="/studio"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 4)"
            >
            
          
            下载 Studio
          
          </a>
          
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="/ndk"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 5)"
            >
            
              
              
            
          
            Android NDK
          
          </a>
          
          
        </li>
        
      </ul>
    </li>
    
    <li class="devsite-footer-linkbox ">
    <h3 class="devsite-footer-linkbox-heading no-link">支持</h3>
      <ul class="devsite-footer-linkbox-list">
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="//issuetracker.google.com/issues/new?component=190923&amp;template=841312"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 1)"
            >
            
          
            报告平台错误
          
          </a>
          
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="//issuetracker.google.com/issues/new?component=192697"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 2)"
            >
            
          
            报告文档错误
          
          </a>
          
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="//support.google.com/googleplay/android-developer"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 3)"
            >
            
          
            Google Play support
          
          </a>
          
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="https://g.co/userresearch/androiddeveloperfooter"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 4)"
            >
            
              
              
            
          
            参加调查研究
          
          </a>
          
          
        </li>
        
      </ul>
    </li>
    
  </ul>
  
</nav>
          
        </devsite-footer-linkboxes>
        <devsite-footer-utility class="devsite-footer">
          
            

<div class="devsite-footer-utility nocontent">
  
  
  <nav class="devsite-footer-sites" aria-label="其他 Google Developers 网站">
    <a href="https://developers.google.com/?hl=zh-cn"
       class="devsite-footer-sites-logo-link gc-analytics-event"
       data-category="Site-Wide Custom Events"
       data-label="Footer Google Developers Link">
      <picture>
        
        <source srcset="https://www.gstatic.com/devrel-devsite/prod/vc12d84b6edb3e25e1619b575cf813e1849a1c95098b711a6c56ab3968c9a4fa9/android/images/lockup-google-for-developers-dark-theme.svg"
                media="(prefers-color-scheme: none)"
                class="devsite-dark-theme">
        
        <img class="devsite-footer-sites-logo"
             src="https://www.gstatic.com/devrel-devsite/prod/vc12d84b6edb3e25e1619b575cf813e1849a1c95098b711a6c56ab3968c9a4fa9/android/images/lockup-google-for-developers.svg"
             loading="lazy"
             alt="Google Developers">
      </picture>
    </a>
    <ul class="devsite-footer-sites-list">
      
      <li class="devsite-footer-sites-item">
        <a href="//developer.android.com?hl=zh-cn"
           class="devsite-footer-sites-link
                  gc-analytics-event"
           data-category="Site-Wide Custom Events"
         
           data-label="Footer Android Link"
         
         >
          Android
        </a>
      </li>
      
      <li class="devsite-footer-sites-item">
        <a href="//developer.chrome.com/home?hl=zh-cn"
           class="devsite-footer-sites-link
                  gc-analytics-event"
           data-category="Site-Wide Custom Events"
         
           data-label="Footer Chrome Link"
         
         >
          Chrome
        </a>
      </li>
      
      <li class="devsite-footer-sites-item">
        <a href="//firebase.google.com?hl=zh-cn"
           class="devsite-footer-sites-link
                  gc-analytics-event"
           data-category="Site-Wide Custom Events"
         
           data-label="Footer Firebase Link"
         
         >
          Firebase
        </a>
      </li>
      
      <li class="devsite-footer-sites-item">
        <a href="//cloud.google.com?hl=zh-cn"
           class="devsite-footer-sites-link
                  gc-analytics-event"
           data-category="Site-Wide Custom Events"
         
           data-label="Footer Google Cloud Platform Link"
         
         >
          Google Cloud Platform
        </a>
      </li>
      
      <li class="devsite-footer-sites-item">
        <a href="//developers.google.com/products/?hl=zh-cn"
           class="devsite-footer-sites-link
                  gc-analytics-event"
           data-category="Site-Wide Custom Events"
         
           data-label="Footer All products Link"
         
         >
          所有产品
        </a>
      </li>
      
    </ul>
  </nav>
  

  
  <nav class="devsite-footer-utility-links" aria-label="实用程序链接">
    
    <ul class="devsite-footer-utility-list">
      
      <li class="devsite-footer-utility-item
                 ">
        
        
        <a class="devsite-footer-utility-link gc-analytics-event"
           href="//policies.google.com/privacy?hl=zh-cn"
           data-category="Site-Wide Custom Events"
           data-label="Footer Privacy link"
         >
          隐私权政策
        </a>
        
      </li>
      
      <li class="devsite-footer-utility-item
                 ">
        
        
        <a class="devsite-footer-utility-link gc-analytics-event"
           href="https://developer.android.com/license?hl=zh-cn"
           data-category="Site-Wide Custom Events"
           data-label="Footer License link"
         >
          许可
        </a>
        
      </li>
      
      <li class="devsite-footer-utility-item
                 ">
        
        
        <a class="devsite-footer-utility-link gc-analytics-event"
           href="https://developer.android.com/distribute/marketing-tools/brand-guidelines?hl=zh-cn"
           data-category="Site-Wide Custom Events"
           data-label="Footer Brand guidelines link"
         >
          品牌指南
        </a>
        
      </li>
      
      <li class="devsite-footer-utility-item
                 glue-cookie-notification-bar-control">
        
        
        <a class="devsite-footer-utility-link gc-analytics-event"
           href="#"
           data-category="Site-Wide Custom Events"
           data-label="Footer Manage cookies link"
         
           aria-hidden="true"
         >
          Manage cookies
        </a>
        
      </li>
      
      <li class="devsite-footer-utility-item
                 devsite-footer-utility-button">
        
        <span class="devsite-footer-utility-description">通过电子邮件接收资讯和提示</span>
        
        
        <a class="devsite-footer-utility-link gc-analytics-event"
           href="https://developer.android.com/updates?hl=zh-cn"
           data-category="Site-Wide Custom Events"
           data-label="Footer Subscribe link"
         >
          订阅
        </a>
        
      </li>
      
    </ul>
    
    
<devsite-language-selector>
  <ul role="presentation">
    
    
    <li role="presentation">
      <a role="menuitem" lang="en"
        >English</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="de"
        >Deutsch</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="es_419"
        >Español – América Latina</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="fr"
        >Français</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="id"
        >Indonesia</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="it"
        >Italiano</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="pl"
        >Polski</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="pt_br"
        >Português – Brasil</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="vi"
        >Tiếng Việt</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="tr"
        >Türkçe</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="ru"
        >Русский</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="he"
        >עברית</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="ar"
        >العربيّة</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="fa"
        >فارسی</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="hi"
        >हिंदी</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="bn"
        >বাংলা</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="th"
        >ภาษาไทย</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="zh_cn"
        >中文 – 简体</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="zh_tw"
        >中文 – 繁體</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="ja"
        >日本語</a>
    </li>
    
    <li role="presentation">
      <a role="menuitem" lang="ko"
        >한국어</a>
    </li>
    
  </ul>
</devsite-language-selector>

  </nav>
</div>
          
        </devsite-footer-utility>
        <devsite-panel>
          
        </devsite-panel>
        
      </section></section>
    <devsite-sitemask></devsite-sitemask>
    <devsite-snackbar></devsite-snackbar>
    <devsite-tooltip ></devsite-tooltip>
    <devsite-heading-link></devsite-heading-link>
    <devsite-analytics>
      
        <script type="application/json" analytics>[]</script>
<script type="application/json" tag-management>{&#34;at&#34;: &#34;True&#34;, &#34;ga4&#34;: [{&#34;id&#34;: &#34;G-QFRN08RN6E&#34;, &#34;purpose&#34;: 0}], &#34;ga4p&#34;: [{&#34;id&#34;: &#34;G-QFRN08RN6E&#34;, &#34;purpose&#34;: 0}], &#34;gtm&#34;: [{&#34;id&#34;: &#34;GTM-KMSWPCJ&#34;, &#34;purpose&#34;: 0}], &#34;parameters&#34;: {&#34;internalUser&#34;: &#34;False&#34;, &#34;language&#34;: {&#34;machineTranslated&#34;: &#34;True&#34;, &#34;requested&#34;: &#34;zh-cn&#34;, &#34;served&#34;: &#34;zh-cn&#34;}, &#34;pageType&#34;: &#34;article&#34;, &#34;projectName&#34;: &#34;Other Play guides&#34;, &#34;signedIn&#34;: &#34;False&#34;, &#34;tenant&#34;: &#34;android&#34;, &#34;recommendations&#34;: {&#34;sourcePage&#34;: &#34;&#34;, &#34;sourceType&#34;: 0, &#34;sourceRank&#34;: 0, &#34;sourceIdenticalDescriptions&#34;: 0, &#34;sourceTitleWords&#34;: 0, &#34;sourceDescriptionWords&#34;: 0, &#34;experiment&#34;: &#34;&#34;}, &#34;experiment&#34;: {&#34;ids&#34;: &#34;&#34;}}}</script>
      
    </devsite-analytics>
    
      <devsite-badger></devsite-badger>
    
    
    
<android-fully-clickable
    target="
        .android-case-study .devsite-landing-row-item,
        .android-editorial-and-updates-cards .devsite-card-content-wrapper,
        .android-editorial-and-updates-cards .devsite-landing-row-item,
        .android-grouped-resources .devsite-landing-row-item,
        .android-grouped-resources-contained--primary .devsite-landing-row-item,
        .android-grouped-resources-contained--secondary .devsite-landing-row-item,
        .android-grouped-resources-contained--tertiary .devsite-landing-row-item,
        .android-grouped-resources-uncontained--primary .devsite-landing-row-item,
        .android-grouped-resources-uncontained--secondary .devsite-landing-row-item,
        .android-grouped-resources-uncontained--tertiary .devsite-landing-row-item,
        .android-guide-cards .devsite-landing-row-item,
        .android-illustrated-resources-index .devsite-landing-row-item,
        .android-illustrated-resources-primary .devsite-landing-row-item,
        .android-illustrated-resources-secondary .devsite-landing-row-item,
        .android-illustrated-resources-secondary-small .devsite-landing-row-item,
        .android-illustrated-resources-tertiary .devsite-landing-row-item,
        .android-illustrated-resources-tertiary-small .devsite-landing-row-item,
        .android-promo .devsite-landing-row-item,
        .android-quick-link,
        .android-samples .devsite-card-wrapper,
        .fully-clickable"
    watch=".android-editorial-and-updates-cards, .android-samples, devsite-content"></android-fully-clickable>
    
<script nonce="3weimTPF5gUQS+9rEiIqOoJbzcvkDH">
  
  (function(d,e,v,s,i,t,E){d['GoogleDevelopersObject']=i;
    t=e.createElement(v);t.async=1;t.src=s;E=e.getElementsByTagName(v)[0];
    E.parentNode.insertBefore(t,E);})(window, document, 'script',
    'https://www.gstatic.com/devrel-devsite/prod/vc12d84b6edb3e25e1619b575cf813e1849a1c95098b711a6c56ab3968c9a4fa9/android/js/app_loader.js', '[3,"zh_cn",null,"/js/devsite_app_module.js","https://www.gstatic.com/devrel-devsite/prod/vc12d84b6edb3e25e1619b575cf813e1849a1c95098b711a6c56ab3968c9a4fa9","https://www.gstatic.com/devrel-devsite/prod/vc12d84b6edb3e25e1619b575cf813e1849a1c95098b711a6c56ab3968c9a4fa9/android","https://android-dot-devsite-v2-prod.appspot.com",null,null,["/_pwa/android/manifest.json","https://www.gstatic.com/devrel-devsite/prod/vc12d84b6edb3e25e1619b575cf813e1849a1c95098b711a6c56ab3968c9a4fa9/images/video-placeholder.svg","https://www.gstatic.com/devrel-devsite/prod/vc12d84b6edb3e25e1619b575cf813e1849a1c95098b711a6c56ab3968c9a4fa9/android/images/favicon.svg","https://www.gstatic.com/devrel-devsite/prod/vc12d84b6edb3e25e1619b575cf813e1849a1c95098b711a6c56ab3968c9a4fa9/android/images/lockup.png","https://fonts.googleapis.com/css?family=Google+Sans:400,500,600,700|Google+Sans+Text:400,400italic,500,500italic,600,600italic,700,700italic|Roboto+Mono:400,500,700&display=swap"],1,null,[1,6,8,12,14,17,21,25,50,52,63,70,75,76,80,87,91,92,93,97,98,100,101,102,103,104,105,107,108,109,110,112,113,117,118,120,122,124,125,126,127,129,130,131,132,133,134,135,136,138,140,141,147,148,149,151,152,156,157,158,159,161,163,164,168,169,170,179,180,182,183,186,191,193,196],"AIzaSyAP-jjEJBzmIyKR4F-3XITp8yM9T1gEEI8","AIzaSyB6xiKGDR5O3Ak2okS4rLkauxGUG7XP0hg","developer.android.com","AIzaSyAQk0fBONSGUqCNznf6Krs82Ap1-NV6J4o","AIzaSyCCxcqdrZ_7QMeLCRY20bh_SXdAYqy70KY",null,null,null,["Profiles__enable_release_notes_notifications","Concierge__enable_pushui","Profiles__enable_awarding_url","MiscFeatureFlags__enable_variable_operator","Profiles__enable_callout_notifications","Concierge__enable_actions_menu","DevPro__enable_free_benefits","Profiles__enable_completecodelab_endpoint","Profiles__enable_recognition_badges","Search__enable_page_map","DevPro__enable_devpro_offers","CloudShell__cloud_shell_button","Profiles__enable_user_type","DevPro__enable_firebase_workspaces_card","Profiles__require_profile_eligibility_for_signin","Profiles__enable_public_developer_profiles","Profiles__enable_completequiz_endpoint","DevPro__enable_cloud_innovators_plus","MiscFeatureFlags__enable_framebox_badge_methods","Cloud__fast_free_trial","Search__enable_suggestions_from_borg","Profiles__enable_developer_profile_benefits_ui_redesign","Search__enable_ai_search_summaries_for_all","Search__enable_dynamic_content_confidential_banner","DevPro__enable_google_one_card","DevPro__enable_nvidia_credits_card","MiscFeatureFlags__emergency_css","BookNav__enable_tenant_cache_key","Search__enable_ai_eligibility_checks","CloudShell__cloud_code_overflow_menu","Cloud__enable_legacy_calculator_redirect","DevPro__enable_vertex_credit_card","DevPro__enable_code_assist","MiscFeatureFlags__enable_variable_operator_index_yaml","MiscFeatureFlags__enable_firebase_utm","MiscFeatureFlags__developers_footer_dark_image","DevPro__enable_enterprise","Profiles__enable_complete_playlist_endpoint","EngEduTelemetry__enable_engedu_telemetry","MiscFeatureFlags__enable_dark_theme","Profiles__enable_playlist_community_acl","DevPro__enable_developer_subscriptions","MiscFeatureFlags__enable_project_body_class","MiscFeatureFlags__enable_view_transitions","Cloud__enable_cloud_dlp_service","Cloud__enable_llm_concierge_chat","Analytics__enable_clearcut_logging","DevPro__remove_eu_tax_intake_form","Profiles__enable_join_program_group_endpoint","Profiles__enable_page_saving","MiscFeatureFlags__enable_appearance_cookies","Concierge__enable_remove_info_panel_tags","Cloud__enable_cloud_shell_fte_user_flow","Experiments__reqs_query_experiments","Profiles__enable_dashboard_curated_recommendations","TpcFeatures__enable_unmirrored_page_left_nav","Profiles__enable_stripe_subscription_management","Profiles__enable_profile_collections","Cloud__cache_serialized_dynamic_content","Significatio__enable_by_tenant","MiscFeatureFlags__enable_explicit_template_dependencies","DevPro__enable_embed_profile_creation","Cloud__enable_cloudx_experiment_ids","Profiles__enable_developer_profiles_callout","Cloud__enable_free_trial_server_call","MiscFeatureFlags__gdp_dashboard_reskin_enabled","TpcFeatures__proxy_prod_host","Profiles__enable_purchase_prompts","MiscFeatureFlags__enable_project_variables","MiscFeatureFlags__developers_footer_image","DevPro__enable_google_payments_buyflow","Cloud__enable_cloud_shell"],null,null,"AIzaSyBLEMok-5suZ67qRPzx0qUtbnLmyT_kCVE","https://developerscontentserving-pa.googleapis.com","AIzaSyCM4QpTRSqP5qI4Dvjt4OAScIN8sOUlO-k","https://developerscontentsearch-pa.googleapis.com",2,4,null,"https://developerprofiles-pa.googleapis.com",[3,"android","Android Developers","developer.android.com",null,"android-dot-devsite-v2-prod.appspot.com",null,null,[null,1,null,null,null,null,null,null,null,null,null,[1],null,null,null,null,null,null,[1],[1,null,null,[1,20],"/recommendations"],null,null,null,[1,null,1],[1,1,null,1,1]],null,[18,null,null,null,null,null,"/images/lockup.png","/images/touchicon-180.png",null,null,null,null,null,null,null,null,null,null,null,null,null,2,null,null,null,"/images/lockup-dark-theme.png",[]],[],null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,[6,1,14,15,20,22,23,28,29,37,43],null,[[null,null,1],[1,1]],[[null,null,null,null,null,null,null,[["G-QFRN08RN6E"],null,null,[["G-QFRN08RN6E",1]]],null,null,null,null,1],null,[[2,2],[1,1]]],null,4,null,null,null,null,null,null,null,null,null,null,null,null,null,"android.devsite.google"],null,"pk_live_5170syrHvgGVmSx9sBrnWtA5luvk9BwnVcvIi7HizpwauFG96WedXsuXh790rtij9AmGllqPtMLfhe2RSwD6Pn38V00uBCydV4m",1,null,"https://developerscontentinsights-pa.googleapis.com","AIzaSyCg-ZUslalsEbXMfIo9ZP8qufZgo3LSBDU","AIzaSyDxT0vkxnY_KeINtA4LSePJO-4MAZPMRsE","https://developers.googleapis.com",null,null,"AIzaSyBQom12tzI-rybN7Sf-KfeL4nwm-Rf7PmI\n",null,"https://developerslogging.googleapis.com"]')
  
</script>

    <devsite-a11y-announce></devsite-a11y-announce>
  </body>
</html>